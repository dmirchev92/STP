/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/u/[spIdentifier]/c/[token]/page";
exports.ids = ["app/u/[spIdentifier]/c/[token]/page"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fu%2F%5BspIdentifier%5D%2Fc%2F%5Btoken%5D%2Fpage&page=%2Fu%2F%5BspIdentifier%5D%2Fc%2F%5Btoken%5D%2Fpage&appPaths=%2Fu%2F%5BspIdentifier%5D%2Fc%2F%5Btoken%5D%2Fpage&pagePath=private-next-app-dir%2Fu%2F%5BspIdentifier%5D%2Fc%2F%5Btoken%5D%2Fpage.tsx&appDir=D%3A%5Cnewtry1%5CMarketplace%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cnewtry1%5CMarketplace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fu%2F%5BspIdentifier%5D%2Fc%2F%5Btoken%5D%2Fpage&page=%2Fu%2F%5BspIdentifier%5D%2Fc%2F%5Btoken%5D%2Fpage&appPaths=%2Fu%2F%5BspIdentifier%5D%2Fc%2F%5Btoken%5D%2Fpage&pagePath=private-next-app-dir%2Fu%2F%5BspIdentifier%5D%2Fc%2F%5Btoken%5D%2Fpage.tsx&appDir=D%3A%5Cnewtry1%5CMarketplace%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cnewtry1%5CMarketplace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'u',\n        {\n        children: [\n        '[spIdentifier]',\n        {\n        children: [\n        'c',\n        {\n        children: [\n        '[token]',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/u/[spIdentifier]/c/[token]/page.tsx */ \"(rsc)/./src/app/u/[spIdentifier]/c/[token]/page.tsx\")), \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/layout.tsx */ \"(rsc)/./src/app/layout.tsx\")), \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/u/[spIdentifier]/c/[token]/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/u/[spIdentifier]/c/[token]/page\",\n        pathname: \"/u/[spIdentifier]/c/[token]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZ1JTJGJTVCc3BJZGVudGlmaWVyJTVEJTJGYyUyRiU1QnRva2VuJTVEJTJGcGFnZSZwYWdlPSUyRnUlMkYlNUJzcElkZW50aWZpZXIlNUQlMkZjJTJGJTVCdG9rZW4lNUQlMkZwYWdlJmFwcFBhdGhzPSUyRnUlMkYlNUJzcElkZW50aWZpZXIlNUQlMkZjJTJGJTVCdG9rZW4lNUQlMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGdSUyRiU1QnNwSWRlbnRpZmllciU1RCUyRmMlMkYlNUJ0b2tlbiU1RCUyRnBhZ2UudHN4JmFwcERpcj1EJTNBJTVDbmV3dHJ5MSU1Q01hcmtldHBsYWNlJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDbmV3dHJ5MSU1Q01hcmtldHBsYWNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsYUFBYSxzQkFBc0I7QUFDaUU7QUFDckM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLHVCQUF1QixzTUFBZ0g7QUFDdkk7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsb0pBQW1GO0FBQzVHLG9CQUFvQiwwTkFBZ0Y7QUFDcEc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ3VCO0FBQzZEO0FBQ3BGLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ3VEO0FBQ3ZEO0FBQ08sd0JBQXdCLDhHQUFrQjtBQUNqRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZXJ2aWNldGV4dHByby1tYXJrZXRwbGFjZS8/ZGM2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcIlRVUkJPUEFDSyB7IHRyYW5zaXRpb246IG5leHQtc3NyIH1cIjtcbmltcG9ydCB7IEFwcFBhZ2VSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1wYWdlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbi8vIFdlIGluamVjdCB0aGUgdHJlZSBhbmQgcGFnZXMgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IHRyZWUgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICcnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICd1JyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnW3NwSWRlbnRpZmllcl0nLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICdjJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnW3Rva2VuXScsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkQ6XFxcXG5ld3RyeTFcXFxcTWFya2V0cGxhY2VcXFxcc3JjXFxcXGFwcFxcXFx1XFxcXFtzcElkZW50aWZpZXJdXFxcXGNcXFxcW3Rva2VuXVxcXFxwYWdlLnRzeFwiKSwgXCJEOlxcXFxuZXd0cnkxXFxcXE1hcmtldHBsYWNlXFxcXHNyY1xcXFxhcHBcXFxcdVxcXFxbc3BJZGVudGlmaWVyXVxcXFxjXFxcXFt0b2tlbl1cXFxccGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgJ2xheW91dCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkQ6XFxcXG5ld3RyeTFcXFxcTWFya2V0cGxhY2VcXFxcc3JjXFxcXGFwcFxcXFxsYXlvdXQudHN4XCIpLCBcIkQ6XFxcXG5ld3RyeTFcXFxcTWFya2V0cGxhY2VcXFxcc3JjXFxcXGFwcFxcXFxsYXlvdXQudHN4XCJdLFxuJ25vdC1mb3VuZCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIiksIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiXSxcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LmNoaWxkcmVuO1xuY29uc3QgcGFnZXMgPSBbXCJEOlxcXFxuZXd0cnkxXFxcXE1hcmtldHBsYWNlXFxcXHNyY1xcXFxhcHBcXFxcdVxcXFxbc3BJZGVudGlmaWVyXVxcXFxjXFxcXFt0b2tlbl1cXFxccGFnZS50c3hcIl07XG5leHBvcnQgeyB0cmVlLCBwYWdlcyB9O1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHbG9iYWxFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZXJyb3ItYm91bmRhcnlcIjtcbmNvbnN0IF9fbmV4dF9hcHBfcmVxdWlyZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfX1xuY29uc3QgX19uZXh0X2FwcF9sb2FkX2NodW5rX18gPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoKVxuZXhwb3J0IGNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi91L1tzcElkZW50aWZpZXJdL2MvW3Rva2VuXS9wYWdlXCI7XG5leHBvcnQgY29uc3QgX19uZXh0X2FwcF9fID0ge1xuICAgIHJlcXVpcmU6IF9fbmV4dF9hcHBfcmVxdWlyZV9fLFxuICAgIGxvYWRDaHVuazogX19uZXh0X2FwcF9sb2FkX2NodW5rX19cbn07XG5leHBvcnQgKiBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL2VudHJ5LWJhc2VcIjtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFBhZ2VSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1BBR0UsXG4gICAgICAgIHBhZ2U6IFwiL3UvW3NwSWRlbnRpZmllcl0vYy9bdG9rZW5dL3BhZ2VcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL3UvW3NwSWRlbnRpZmllcl0vYy9bdG9rZW5dXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCIsXG4gICAgICAgIGFwcFBhdGhzOiBbXVxuICAgIH0sXG4gICAgdXNlcmxhbmQ6IHtcbiAgICAgICAgbG9hZGVyVHJlZTogdHJlZVxuICAgIH1cbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcGFnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fu%2F%5BspIdentifier%5D%2Fc%2F%5Btoken%5D%2Fpage&page=%2Fu%2F%5BspIdentifier%5D%2Fc%2F%5Btoken%5D%2Fpage&appPaths=%2Fu%2F%5BspIdentifier%5D%2Fc%2F%5Btoken%5D%2Fpage&pagePath=private-next-app-dir%2Fu%2F%5BspIdentifier%5D%2Fc%2F%5Btoken%5D%2Fpage.tsx&appDir=D%3A%5Cnewtry1%5CMarketplace%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cnewtry1%5CMarketplace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Capp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Capp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkQlM0ElNUMlNUNuZXd0cnkxJTVDJTVDTWFya2V0cGxhY2UlNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZGlzdCU1QyU1Q2NsaWVudCU1QyU1Q2NvbXBvbmVudHMlNUMlNUNhcHAtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkQlM0ElNUMlNUNuZXd0cnkxJTVDJTVDTWFya2V0cGxhY2UlNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZGlzdCU1QyU1Q2NsaWVudCU1QyU1Q2NvbXBvbmVudHMlNUMlNUNjbGllbnQtcGFnZS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJEJTNBJTVDJTVDbmV3dHJ5MSU1QyU1Q01hcmtldHBsYWNlJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyRCUzQSU1QyU1Q25ld3RyeTElNUMlNUNNYXJrZXRwbGFjZSU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q25leHQlNUMlNUNkaXN0JTVDJTVDY2xpZW50JTVDJTVDY29tcG9uZW50cyU1QyU1Q2xheW91dC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyRCUzQSU1QyU1Q25ld3RyeTElNUMlNUNNYXJrZXRwbGFjZSU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q25leHQlNUMlNUNkaXN0JTVDJTVDY2xpZW50JTVDJTVDY29tcG9uZW50cyU1QyU1Q25vdC1mb3VuZC1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJEJTNBJTVDJTVDbmV3dHJ5MSU1QyU1Q01hcmtldHBsYWNlJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQTBIO0FBQzFIO0FBQ0Esb09BQTJIO0FBQzNIO0FBQ0EsME9BQThIO0FBQzlIO0FBQ0Esd09BQTZIO0FBQzdIO0FBQ0Esa1BBQWtJO0FBQ2xJO0FBQ0Esc1FBQTRJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VydmljZXRleHRwcm8tbWFya2V0cGxhY2UvPzM2OTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJEOlxcXFxuZXd0cnkxXFxcXE1hcmtldHBsYWNlXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcYXBwLXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRDpcXFxcbmV3dHJ5MVxcXFxNYXJrZXRwbGFjZVxcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXGNsaWVudC1wYWdlLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJEOlxcXFxuZXd0cnkxXFxcXE1hcmtldHBsYWNlXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcZXJyb3ItYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkQ6XFxcXG5ld3RyeTFcXFxcTWFya2V0cGxhY2VcXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxsYXlvdXQtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJEOlxcXFxuZXd0cnkxXFxcXE1hcmtldHBsYWNlXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcbm90LWZvdW5kLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJEOlxcXFxuZXd0cnkxXFxcXE1hcmtldHBsYWNlXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxccmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qc1wiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Capp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%5C%5C%5C%5Capp%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Capp%5C%5Cproviders.tsx%22%2C%22ids%22%3A%5B%22Providers%22%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Ccomponents%5C%5CChatWidget.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Ccomponents%5C%5CGDPRPopup.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Cstyles%5C%5Ctheme.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%5C%5C%5C%5Capp%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Capp%5C%5Cproviders.tsx%22%2C%22ids%22%3A%5B%22Providers%22%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Ccomponents%5C%5CChatWidget.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Ccomponents%5C%5CGDPRPopup.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Cstyles%5C%5Ctheme.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/providers.tsx */ \"(ssr)/./src/app/providers.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/ChatWidget.tsx */ \"(ssr)/./src/components/ChatWidget.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/GDPRPopup.tsx */ \"(ssr)/./src/components/GDPRPopup.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkQlM0ElNUMlNUNuZXd0cnkxJTVDJTVDTWFya2V0cGxhY2UlNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZm9udCU1QyU1Q2dvb2dsZSU1QyU1Q3RhcmdldC5jc3MlM0YlN0IlNUMlMjJwYXRoJTVDJTIyJTNBJTVDJTIyc3JjJTVDJTVDJTVDJTVDYXBwJTVDJTVDJTVDJTVDbGF5b3V0LnRzeCU1QyUyMiUyQyU1QyUyMmltcG9ydCU1QyUyMiUzQSU1QyUyMkludGVyJTVDJTIyJTJDJTVDJTIyYXJndW1lbnRzJTVDJTIyJTNBJTVCJTdCJTVDJTIyc3Vic2V0cyU1QyUyMiUzQSU1QiU1QyUyMmxhdGluJTVDJTIyJTVEJTdEJTVEJTJDJTVDJTIydmFyaWFibGVOYW1lJTVDJTIyJTNBJTVDJTIyaW50ZXIlNUMlMjIlN0QlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyRCUzQSU1QyU1Q25ld3RyeTElNUMlNUNNYXJrZXRwbGFjZSU1QyU1Q3NyYyU1QyU1Q2FwcCU1QyU1Q2dsb2JhbHMuY3NzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkQlM0ElNUMlNUNuZXd0cnkxJTVDJTVDTWFya2V0cGxhY2UlNUMlNUNzcmMlNUMlNUNhcHAlNUMlNUNwcm92aWRlcnMudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyUHJvdmlkZXJzJTIyJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkQlM0ElNUMlNUNuZXd0cnkxJTVDJTVDTWFya2V0cGxhY2UlNUMlNUNzcmMlNUMlNUNjb21wb25lbnRzJTVDJTVDQ2hhdFdpZGdldC50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJkZWZhdWx0JTIyJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkQlM0ElNUMlNUNuZXd0cnkxJTVDJTVDTWFya2V0cGxhY2UlNUMlNUNzcmMlNUMlNUNjb21wb25lbnRzJTVDJTVDR0RQUlBvcHVwLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMmRlZmF1bHQlMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyRCUzQSU1QyU1Q25ld3RyeTElNUMlNUNNYXJrZXRwbGFjZSU1QyU1Q3NyYyU1QyU1Q3N0eWxlcyU1QyU1Q3RoZW1lLmNzcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsMEpBQXFIO0FBQ3JIO0FBQ0EsMEtBQTJIO0FBQzNIO0FBQ0Esd0tBQTBIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VydmljZXRleHRwcm8tbWFya2V0cGxhY2UvPzkzMDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJQcm92aWRlcnNcIl0gKi8gXCJEOlxcXFxuZXd0cnkxXFxcXE1hcmtldHBsYWNlXFxcXHNyY1xcXFxhcHBcXFxccHJvdmlkZXJzLnRzeFwiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiZGVmYXVsdFwiXSAqLyBcIkQ6XFxcXG5ld3RyeTFcXFxcTWFya2V0cGxhY2VcXFxcc3JjXFxcXGNvbXBvbmVudHNcXFxcQ2hhdFdpZGdldC50c3hcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcImRlZmF1bHRcIl0gKi8gXCJEOlxcXFxuZXd0cnkxXFxcXE1hcmtldHBsYWNlXFxcXHNyY1xcXFxjb21wb25lbnRzXFxcXEdEUFJQb3B1cC50c3hcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%5C%5C%5C%5Capp%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Capp%5C%5Cproviders.tsx%22%2C%22ids%22%3A%5B%22Providers%22%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Ccomponents%5C%5CChatWidget.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Ccomponents%5C%5CGDPRPopup.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Cstyles%5C%5Ctheme.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Capp%5C%5Cu%5C%5C%5BspIdentifier%5D%5C%5Cc%5C%5C%5Btoken%5D%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Capp%5C%5Cu%5C%5C%5BspIdentifier%5D%5C%5Cc%5C%5C%5Btoken%5D%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/u/[spIdentifier]/c/[token]/page.tsx */ \"(ssr)/./src/app/u/[spIdentifier]/c/[token]/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkQlM0ElNUMlNUNuZXd0cnkxJTVDJTVDTWFya2V0cGxhY2UlNUMlNUNzcmMlNUMlNUNhcHAlNUMlNUN1JTVDJTVDJTVCc3BJZGVudGlmaWVyJTVEJTVDJTVDYyU1QyU1QyU1QnRva2VuJTVEJTVDJTVDcGFnZS50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLHNNQUFnSCIsInNvdXJjZXMiOlsid2VicGFjazovL3NlcnZpY2V0ZXh0cHJvLW1hcmtldHBsYWNlLz8xMThiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiRDpcXFxcbmV3dHJ5MVxcXFxNYXJrZXRwbGFjZVxcXFxzcmNcXFxcYXBwXFxcXHVcXFxcW3NwSWRlbnRpZmllcl1cXFxcY1xcXFxbdG9rZW5dXFxcXHBhZ2UudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22D%3A%5C%5Cnewtry1%5C%5CMarketplace%5C%5Csrc%5C%5Capp%5C%5Cu%5C%5C%5BspIdentifier%5D%5C%5Cc%5C%5C%5Btoken%5D%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./src/app/providers.tsx":
/*!*******************************!*\
  !*** ./src/app/providers.tsx ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Providers: () => (/* binding */ Providers)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-redux */ \"(ssr)/./node_modules/react-redux/dist/react-redux.mjs\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/store */ \"(ssr)/./src/store/index.ts\");\n/* harmony import */ var _contexts_SocketContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/contexts/SocketContext */ \"(ssr)/./src/contexts/SocketContext.tsx\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(ssr)/./src/contexts/AuthContext.tsx\");\n/* __next_internal_client_entry_do_not_use__ Providers auto */ \n\n\n\n\nfunction Providers({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_redux__WEBPACK_IMPORTED_MODULE_4__.Provider, {\n        store: _store__WEBPACK_IMPORTED_MODULE_1__.store,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__.AuthProvider, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_SocketContext__WEBPACK_IMPORTED_MODULE_2__.SocketProvider, {\n                children: children\n            }, void 0, false, {\n                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\providers.tsx\",\n                lineNumber: 12,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\providers.tsx\",\n            lineNumber: 11,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\providers.tsx\",\n        lineNumber: 10,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvYXBwL3Byb3ZpZGVycy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFc0M7QUFDUDtBQUMwQjtBQUNKO0FBRTlDLFNBQVNJLFVBQVUsRUFBRUMsUUFBUSxFQUFpQztJQUNuRSxxQkFDRSw4REFBQ0wsaURBQVFBO1FBQUNDLE9BQU9BLHlDQUFLQTtrQkFDcEIsNEVBQUNFLCtEQUFZQTtzQkFDWCw0RUFBQ0QsbUVBQWNBOzBCQUNaRzs7Ozs7Ozs7Ozs7Ozs7OztBQUtYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VydmljZXRleHRwcm8tbWFya2V0cGxhY2UvLi9zcmMvYXBwL3Byb3ZpZGVycy50c3g/OTMyNiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcclxuXHJcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAncmVhY3QtcmVkdXgnXHJcbmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnQC9zdG9yZSdcclxuaW1wb3J0IHsgU29ja2V0UHJvdmlkZXIgfSBmcm9tICdAL2NvbnRleHRzL1NvY2tldENvbnRleHQnXHJcbmltcG9ydCB7IEF1dGhQcm92aWRlciB9IGZyb20gJ0AvY29udGV4dHMvQXV0aENvbnRleHQnXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUHJvdmlkZXJzKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pIHtcclxuICByZXR1cm4gKFxyXG4gICAgPFByb3ZpZGVyIHN0b3JlPXtzdG9yZX0+XHJcbiAgICAgIDxBdXRoUHJvdmlkZXI+XHJcbiAgICAgICAgPFNvY2tldFByb3ZpZGVyPlxyXG4gICAgICAgICAge2NoaWxkcmVufVxyXG4gICAgICAgIDwvU29ja2V0UHJvdmlkZXI+XHJcbiAgICAgIDwvQXV0aFByb3ZpZGVyPlxyXG4gICAgPC9Qcm92aWRlcj5cclxuICApXHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6WyJQcm92aWRlciIsInN0b3JlIiwiU29ja2V0UHJvdmlkZXIiLCJBdXRoUHJvdmlkZXIiLCJQcm92aWRlcnMiLCJjaGlsZHJlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/app/providers.tsx\n");

/***/ }),

/***/ "(ssr)/./src/app/u/[spIdentifier]/c/[token]/page.tsx":
/*!*****************************************************!*\
  !*** ./src/app/u/[spIdentifier]/c/[token]/page.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"(ssr)/./node_modules/axios/lib/axios.js\");\n// Chat Page - Handles incoming chat requests via unique tokens\n// URL: /u/{spIdentifier}/c/{token}\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\nfunction ChatPage({ params }) {\n    const { spIdentifier, token } = params;\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [isValidating, setIsValidating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [validationResult, setValidationResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [hasStartedChat, setHasStartedChat] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentMessage, setCurrentMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isSending, setIsSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [hasValidated, setHasValidated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showCustomerForm, setShowCustomerForm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [customerInfo, setCustomerInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        name: \"\",\n        phone: \"\",\n        email: \"\"\n    });\n    const [providerInfo, setProviderInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        businessName: \"Mama Mia\",\n        firstName: \"Mama Mia\",\n        serviceCategory: \"electrician\"\n    });\n    // Check for existing session on page load, then auto-validate token\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!hasValidated) {\n            checkExistingSession();\n        }\n    }, [\n        spIdentifier,\n        token,\n        hasValidated\n    ]);\n    const checkExistingSession = async ()=>{\n        try {\n            setHasValidated(true); // Mark as validated to prevent duplicate calls\n            const sessionKey = `chat_session_${spIdentifier}`;\n            const tokenKey = `chat_token_${spIdentifier}`;\n            const existingSessionId = localStorage.getItem(sessionKey);\n            const lastUsedToken = localStorage.getItem(tokenKey);\n            // Check if this is a new token (different from the one that created the session)\n            if (existingSessionId && lastUsedToken && lastUsedToken !== token) {\n                console.log(`New token detected! Last used: ${lastUsedToken}, Current: ${token}`);\n                console.log(\"Forcing token validation for new token...\");\n                // Clear old session since we have a new token\n                localStorage.removeItem(sessionKey);\n                localStorage.removeItem(tokenKey);\n                // Force validate the new token\n                await validateToken();\n                setHasStartedChat(true);\n                return;\n            }\n            if (existingSessionId) {\n                console.log(\"Found existing session:\", existingSessionId);\n                console.log(\"Same token as before, using existing session\");\n                // Validate existing session\n                const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(`http://192.168.0.129:3000/api/v1/chat/sessions/${existingSessionId}/validate`, {\n                    timeout: 10000\n                });\n                if (response.data.success) {\n                    console.log(\"✅ Token validation successful:\", response.data);\n                    setValidationResult({\n                        valid: true,\n                        userId: response.data.data.userId,\n                        conversationId: response.data.data.conversationId\n                    });\n                    // Fetch provider information\n                    if (response.data.data.userId) {\n                        await fetchProviderInfo(response.data.data.userId);\n                    }\n                    setHasStartedChat(true);\n                    return;\n                } else {\n                    // Session invalid, remove from storage\n                    localStorage.removeItem(sessionKey);\n                    localStorage.removeItem(tokenKey);\n                }\n            }\n            // No existing session found, show welcome screen\n            console.log(\"No existing session, showing welcome screen\");\n        // Don't auto-validate token - let user click \"Start Chat\" button\n        } catch (error) {\n            console.log(\"Session check failed, showing welcome screen:\", error);\n        // Don't auto-validate token - let user click \"Start Chat\" button\n        }\n    };\n    const validateToken = async ()=>{\n        try {\n            setIsValidating(true);\n            setError(null);\n            console.log(\"Validating token:\", {\n                spIdentifier,\n                token: token.substring(0, 4) + \"****\"\n            });\n            const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(`http://192.168.0.129:3000/api/v1/chat/public/${spIdentifier}/validate/${token}`, {\n                timeout: 10000,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            if (response.data.success) {\n                console.log(\"Token validation successful:\", response.data);\n                // Store session ID and token in localStorage for future access\n                const sessionKey = `chat_session_${spIdentifier}`;\n                const tokenKey = `chat_token_${spIdentifier}`;\n                if (response.data.data.sessionId) {\n                    localStorage.setItem(sessionKey, response.data.data.sessionId);\n                    localStorage.setItem(tokenKey, token); // Store the token that created this session\n                    console.log(\"Stored session ID:\", response.data.data.sessionId);\n                    console.log(\"Stored token:\", token);\n                }\n                setValidationResult({\n                    valid: true,\n                    userId: response.data.data.userId,\n                    conversationId: response.data.data.conversationId\n                });\n                // Each token represents a unique customer interaction\n                // Always show customer form for new tokens (new customers)\n                setShowCustomerForm(true);\n                console.log(\"\\uD83D\\uDCDD Showing customer form for token:\", token);\n            } else {\n                console.error(\"Token validation failed:\", response.data);\n                setValidationResult({\n                    valid: false,\n                    error: response.data.error?.message || \"Token validation failed\"\n                });\n            }\n        } catch (err) {\n            console.error(\"Token validation error:\", err);\n            let errorMessage = \"Failed to validate chat token\";\n            if (err.response?.data?.error?.message) {\n                errorMessage = err.response.data.error.message;\n            } else if (err.message) {\n                errorMessage = err.message;\n            }\n            setValidationResult({\n                valid: false,\n                error: errorMessage\n            });\n            setError(errorMessage);\n        } finally{\n            setIsValidating(false);\n        }\n    };\n    const startChat = async ()=>{\n        setHasStartedChat(true);\n        await validateToken();\n    };\n    const sendMessage = async ()=>{\n        if (!currentMessage.trim() || isSending || !validationResult?.conversationId) {\n            console.log(\"❌ Cannot send message:\", {\n                hasMessage: !!currentMessage.trim(),\n                isSending,\n                hasConversationId: !!validationResult?.conversationId,\n                conversationId: validationResult?.conversationId\n            });\n            return;\n        }\n        console.log(\"\\uD83D\\uDCE4 Sending message:\", {\n            conversationId: validationResult.conversationId,\n            messageLength: currentMessage.length,\n            validationResult\n        });\n        setIsSending(true);\n        try {\n            const newMessage = {\n                id: Date.now().toString(),\n                text: currentMessage,\n                sender: \"customer\",\n                timestamp: new Date().toISOString()\n            };\n            // Add message to UI immediately\n            setMessages((prev)=>[\n                    ...prev,\n                    newMessage\n                ]);\n            setCurrentMessage(\"\");\n            // Send to backend\n            const apiUrl = \"http://192.168.0.129:3000/api/v1\" || 0;\n            const messageUrl = `${apiUrl}/marketplace/conversations/${validationResult.conversationId}/messages`;\n            console.log(\"\\uD83D\\uDCE4 Sending message to:\", messageUrl);\n            await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post(messageUrl, {\n                senderType: \"customer\",\n                senderName: customerInfo.name || \"Customer\",\n                message: currentMessage,\n                messageType: \"text\"\n            });\n            console.log(\"✅ Message sent successfully\");\n        } catch (error) {\n            console.error(\"❌ Failed to send message:\", error);\n            console.error(\"❌ Error details:\", {\n                message: error.message,\n                status: error.response?.status,\n                statusText: error.response?.statusText,\n                data: error.response?.data,\n                url: error.config?.url\n            });\n            // Show user-friendly error\n            alert(`Грешка при изпращане на съобщението: ${error.response?.status || \"Неизвестна грешка\"}\\n\\nДетайли: ${error.response?.data?.error?.message || error.message}`);\n            // Remove message from UI on error\n            setMessages((prev)=>prev.filter((m)=>m.id !== Date.now().toString()));\n        } finally{\n            setIsSending(false);\n        }\n    };\n    const handleKeyPress = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            sendMessage();\n        }\n    };\n    const handleCustomerFormSubmit = async (e)=>{\n        e.preventDefault();\n        if (!customerInfo.name.trim() || !customerInfo.phone.trim()) {\n            alert(\"Моля въведете име и телефон\");\n            return;\n        }\n        // Store customer info for this specific token\n        const customerKey = `customer_info_${token}`;\n        localStorage.setItem(customerKey, JSON.stringify(customerInfo));\n        // Update conversation with customer details\n        try {\n            const apiUrl = \"http://192.168.0.129:3000/api/v1\" || 0;\n            const updateUrl = `${apiUrl}/marketplace/conversations/${validationResult?.conversationId}`;\n            console.log(\"\\uD83D\\uDD04 Updating conversation with customer details:\", {\n                url: updateUrl,\n                conversationId: validationResult?.conversationId,\n                customerName: customerInfo.name,\n                customerPhone: customerInfo.phone,\n                customerEmail: customerInfo.email\n            });\n            const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].put(updateUrl, {\n                customerName: customerInfo.name,\n                customerPhone: customerInfo.phone,\n                customerEmail: customerInfo.email\n            });\n            console.log(\"✅ Conversation updated successfully:\", response.data);\n        } catch (error) {\n            console.error(\"❌ Failed to update conversation with customer details:\", error);\n            console.error(\"❌ Update error details:\", {\n                status: error.response?.status,\n                statusText: error.response?.statusText,\n                data: error.response?.data,\n                url: error.config?.url\n            });\n        }\n        // Hide form and start chat\n        setShowCustomerForm(false);\n        setHasStartedChat(true);\n    };\n    const handleCustomerInfoChange = (field, value)=>{\n        setCustomerInfo((prev)=>({\n                ...prev,\n                [field]: value\n            }));\n    };\n    const fetchProviderInfo = async (userId)=>{\n        try {\n            console.log(\"\\uD83D\\uDD0D Fetching provider info for userId:\", userId);\n            const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(`http://192.168.0.129:3000/api/v1/marketplace/providers/${userId}`);\n            console.log(\"\\uD83D\\uDCE1 Provider API response:\", response.data);\n            if (response.data.success) {\n                setProviderInfo(response.data.data);\n                console.log(\"✅ Provider info loaded:\", response.data.data);\n            } else {\n                console.error(\"❌ Provider API returned error:\", response.data.error);\n                setFallbackProviderInfo();\n            }\n        } catch (error) {\n            console.error(\"❌ Failed to fetch provider info:\", error);\n            setFallbackProviderInfo();\n        }\n    };\n    const setFallbackProviderInfo = ()=>{\n        setProviderInfo({\n            businessName: \"Mama Mia\",\n            firstName: \"Mama Mia\",\n            lastName: \"\",\n            serviceCategory: \"electrician\"\n        });\n        console.log(\"\\uD83D\\uDD04 Using fallback provider info: Mama Mia\");\n    };\n    if (isValidating) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white p-8 rounded-lg shadow-md max-w-md w-full mx-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                            lineNumber: 348,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold text-gray-900 mb-2\",\n                            children: \"Проверяване на връзката...\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                            lineNumber: 349,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-600\",\n                            children: \"Моля, изчакайте докато проверим вашата връзка.\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                            lineNumber: 352,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                    lineNumber: 347,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                lineNumber: 346,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n            lineNumber: 345,\n            columnNumber: 7\n        }, this);\n    }\n    // Show customer information form\n    if (showCustomerForm && validationResult?.valid) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white p-8 rounded-lg shadow-md max-w-md w-full mx-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center mb-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    className: \"w-6 h-6 text-blue-600\",\n                                    fill: \"none\",\n                                    stroke: \"currentColor\",\n                                    viewBox: \"0 0 24 24\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\",\n                                        strokeWidth: 2,\n                                        d: \"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 369,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                    lineNumber: 368,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                lineNumber: 367,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-xl font-semibold text-gray-900 mb-2\",\n                                children: [\n                                    \"Започнете чат с \",\n                                    providerInfo.businessName || providerInfo.firstName\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                lineNumber: 372,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-600\",\n                                children: \"Моля въведете вашите данни за да започнем разговора\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                lineNumber: 375,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                        lineNumber: 366,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                        onSubmit: handleCustomerFormSubmit,\n                        className: \"space-y-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"name\",\n                                        className: \"block text-sm font-medium text-gray-700 mb-1\",\n                                        children: \"Име *\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 382,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        id: \"name\",\n                                        value: customerInfo.name,\n                                        onChange: (e)=>handleCustomerInfoChange(\"name\", e.target.value),\n                                        className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n                                        placeholder: \"Вашето име\",\n                                        required: true\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 385,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                lineNumber: 381,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"phone\",\n                                        className: \"block text-sm font-medium text-gray-700 mb-1\",\n                                        children: \"Телефон *\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 397,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"tel\",\n                                        id: \"phone\",\n                                        value: customerInfo.phone,\n                                        onChange: (e)=>handleCustomerInfoChange(\"phone\", e.target.value),\n                                        className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n                                        placeholder: \"0888 123 456\",\n                                        required: true\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 400,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                lineNumber: 396,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        htmlFor: \"email\",\n                                        className: \"block text-sm font-medium text-gray-700 mb-1\",\n                                        children: \"Имейл (по желание)\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 412,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"email\",\n                                        id: \"email\",\n                                        value: customerInfo.email,\n                                        onChange: (e)=>handleCustomerInfoChange(\"email\", e.target.value),\n                                        className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n                                        placeholder: \"your@email.com\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 415,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                lineNumber: 411,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"submit\",\n                                className: \"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors font-medium\",\n                                children: \"Започни чат\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                lineNumber: 425,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                        lineNumber: 380,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-gray-500 text-center mt-4\",\n                        children: \"Вашите данни ще бъдат използвани само за този разговор\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                        lineNumber: 433,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                lineNumber: 365,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n            lineNumber: 364,\n            columnNumber: 7\n        }, this);\n    }\n    if (hasStartedChat && !validationResult?.valid) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white p-8 rounded-lg shadow-md max-w-md w-full mx-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                className: \"w-6 h-6 text-red-600\",\n                                fill: \"none\",\n                                stroke: \"currentColor\",\n                                viewBox: \"0 0 24 24\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    strokeLinecap: \"round\",\n                                    strokeLinejoin: \"round\",\n                                    strokeWidth: 2,\n                                    d: \"M6 18L18 6M6 6l12 12\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                    lineNumber: 448,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                lineNumber: 447,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                            lineNumber: 446,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold text-gray-900 mb-2\",\n                            children: \"Невалидна връзка\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                            lineNumber: 451,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-600 mb-4\",\n                            children: validationResult?.error || \"Тази връзка вече не е активна или е изтекла.\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                            lineNumber: 454,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>window.location.reload(),\n                                    className: \"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors\",\n                                    children: \"Опитайте отново\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                    lineNumber: 458,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-500\",\n                                    children: \"Ако проблемът продължава, моля обадете се отново.\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                    lineNumber: 464,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                            lineNumber: 457,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                    lineNumber: 445,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                lineNumber: 444,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n            lineNumber: 443,\n            columnNumber: 7\n        }, this);\n    }\n    // Show welcome screen if chat hasn't started yet\n    if (!hasStartedChat && !validationResult?.valid) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-50\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white shadow-sm border-b\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"max-w-4xl mx-auto px-4 py-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-between\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                            className: \"text-xl font-semibold text-gray-900\",\n                                            children: [\n                                                \"\\uD83D\\uDCAC Чат с \",\n                                                providerInfo?.businessName || \"техник\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                            lineNumber: 483,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-gray-600\",\n                                            children: \"Опишете вашия проблем и ще получите бърз отговор\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                            lineNumber: 486,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                    lineNumber: 482,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center space-x-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-3 h-3 bg-green-500 rounded-full\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                            lineNumber: 491,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm text-gray-600\",\n                                            children: \"Онлайн\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                            lineNumber: 492,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                    lineNumber: 490,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                            lineNumber: 481,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                        lineNumber: 480,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                    lineNumber: 479,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-4xl mx-auto px-4 py-6\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white rounded-lg shadow-sm border min-h-[600px] flex flex-col items-center justify-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center max-w-md mx-auto p-8\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6\",\n                                    children: providerInfo?.businessName ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-blue-600 font-bold text-lg\",\n                                        children: providerInfo.businessName.charAt(0).toUpperCase()\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 506,\n                                        columnNumber: 19\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"w-8 h-8 text-blue-600\",\n                                        fill: \"none\",\n                                        stroke: \"currentColor\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                            strokeLinecap: \"round\",\n                                            strokeLinejoin: \"round\",\n                                            strokeWidth: 2,\n                                            d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                            lineNumber: 511,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 510,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                    lineNumber: 504,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-bold text-gray-900 mb-4\",\n                                    children: [\n                                        \"Добре дошли в чата с \",\n                                        providerInfo?.businessName || \"нас\",\n                                        \"!\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                    lineNumber: 516,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-600 mb-6\",\n                                    children: \"Готови сме да ви помогнем с вашия проблем. Натиснете бутона по-долу за да започнете разговора.\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                    lineNumber: 520,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: startChat,\n                                    className: \"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium\",\n                                    children: \"Започни чат\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                    lineNumber: 524,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-8 p-4 bg-blue-50 rounded-lg\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-start space-x-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-white text-sm font-medium\",\n                                                    children: providerInfo?.businessName?.charAt(0).toUpperCase() || \"Т\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                    lineNumber: 534,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                lineNumber: 533,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-left\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm text-gray-900 font-medium mb-1\",\n                                                        children: [\n                                                            providerInfo?.businessName || \"Техник\",\n                                                            \" - \",\n                                                            providerInfo?.serviceCategory === \"electrician\" ? \"Електротехник\" : \"Техник\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                        lineNumber: 539,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm text-gray-600\",\n                                                        children: \"Здравейте! Готов съм да ви помогна с вашия проблем.\"\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                        lineNumber: 542,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                lineNumber: 538,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 532,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                    lineNumber: 531,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                            lineNumber: 503,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                        lineNumber: 500,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                    lineNumber: 499,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n            lineNumber: 477,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gray-50\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white shadow-sm border-b\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-4xl mx-auto px-4 py-4\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                        className: \"text-xl font-semibold text-gray-900\",\n                                        children: [\n                                            \"\\uD83D\\uDCAC Чат с \",\n                                            providerInfo?.businessName || \"техник\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 562,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-600\",\n                                        children: \"Опишете вашия проблем и ще получите бърз отговор\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 565,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                lineNumber: 561,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-3 h-3 bg-green-500 rounded-full\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 570,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-sm text-gray-600\",\n                                        children: \"Онлайн\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 571,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                lineNumber: 569,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                        lineNumber: 560,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                    lineNumber: 559,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                lineNumber: 558,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"max-w-4xl mx-auto px-4 py-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white rounded-lg shadow-sm border min-h-[600px] flex flex-col\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-6 border-b bg-blue-50\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-start space-x-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-white text-sm font-medium\",\n                                                children: providerInfo?.businessName?.charAt(0).toUpperCase() || \"Т\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                lineNumber: 585,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                            lineNumber: 584,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"bg-white p-4 rounded-lg shadow-sm\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-gray-900 mb-2\",\n                                                            children: [\n                                                                \"Здравейте! Аз съм \",\n                                                                providerInfo?.firstName || providerInfo?.businessName || \"вашият техник\",\n                                                                \".\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                            lineNumber: 591,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-gray-700 text-sm\",\n                                                            children: \"Моля, опишете какъв е проблемът и ще ви помогна възможно най-бързо. Ако е спешно, споменете това в съобщението.\"\n                                                        }, void 0, false, {\n                                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                            lineNumber: 594,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                    lineNumber: 590,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs text-gray-500 mt-2\",\n                                                    children: \"Сега\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                    lineNumber: 599,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                            lineNumber: 589,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                    lineNumber: 583,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                lineNumber: 582,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 p-6 overflow-y-auto\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4\",\n                                    children: messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-center text-gray-500 py-8\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"Започнете разговора като напишете съобщение по-долу\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                            lineNumber: 609,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 608,\n                                        columnNumber: 17\n                                    }, this) : messages.map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: `flex ${message.sender === \"customer\" ? \"justify-end\" : \"justify-start\"}`,\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${message.sender === \"customer\" ? \"bg-blue-600 text-white\" : \"bg-gray-100 text-gray-900\"}`,\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        children: message.text\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                        lineNumber: 619,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: `text-xs mt-1 ${message.sender === \"customer\" ? \"text-blue-100\" : \"text-gray-500\"}`,\n                                                        children: new Date(message.timestamp).toLocaleTimeString(\"bg-BG\", {\n                                                            hour: \"2-digit\",\n                                                            minute: \"2-digit\"\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                        lineNumber: 620,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                lineNumber: 614,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, message.id, false, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                            lineNumber: 613,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                    lineNumber: 606,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                lineNumber: 605,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"border-t p-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex space-x-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                    value: currentMessage,\n                                                    onChange: (e)=>setCurrentMessage(e.target.value),\n                                                    onKeyPress: handleKeyPress,\n                                                    placeholder: \"Опишете вашия проблем тук...\",\n                                                    className: \"w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n                                                    rows: 3,\n                                                    disabled: isSending\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                    lineNumber: 636,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                lineNumber: 635,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: sendMessage,\n                                                disabled: !currentMessage.trim() || isSending,\n                                                className: \"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    className: \"w-5 h-5\",\n                                                    fill: \"none\",\n                                                    stroke: \"currentColor\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        strokeWidth: 2,\n                                                        d: \"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                        lineNumber: 651,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                    lineNumber: 650,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                lineNumber: 646,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 634,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-gray-500 mt-2\",\n                                        children: \"Натиснете Enter за да изпратите или Shift+Enter за нов ред\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 655,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                lineNumber: 633,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                        lineNumber: 579,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-6 bg-white rounded-lg shadow-sm border p-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"font-semibold text-gray-900 mb-3\",\n                                children: \"ℹ️ Полезна информация\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                lineNumber: 663,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid md:grid-cols-2 gap-4 text-sm text-gray-600\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"font-medium text-gray-900 mb-1\",\n                                                children: \"Работно време:\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                lineNumber: 666,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"Понеделник - Петък: 08:00 - 18:00\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                lineNumber: 667,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"Събота: 09:00 - 15:00\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                lineNumber: 668,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 665,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"font-medium text-gray-900 mb-1\",\n                                                children: \"Спешни случаи:\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                lineNumber: 671,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"Отговарям в рамките на 15 минути\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                lineNumber: 672,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                children: \"Достъпен 24/7 за аварии\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                                lineNumber: 673,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                        lineNumber: 670,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                                lineNumber: 664,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                        lineNumber: 662,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n                lineNumber: 578,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\u\\\\[spIdentifier]\\\\c\\\\[token]\\\\page.tsx\",\n        lineNumber: 556,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvYXBwL3UvW3NwSWRlbnRpZmllcl0vYy9bdG9rZW5dL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSwrREFBK0Q7QUFDL0QsbUNBQW1DOztBQUlTO0FBQ1c7QUFDN0I7QUFnQlgsU0FBU0ksU0FBUyxFQUFFQyxNQUFNLEVBQWlCO0lBQ3hELE1BQU0sRUFBRUMsWUFBWSxFQUFFQyxLQUFLLEVBQUUsR0FBR0Y7SUFDaEMsTUFBTUcsU0FBU04sMERBQVNBO0lBQ3hCLE1BQU0sQ0FBQ08sY0FBY0MsZ0JBQWdCLEdBQUdULCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ1Usa0JBQWtCQyxvQkFBb0IsR0FBR1gsK0NBQVFBLENBQTBCO0lBQ2xGLE1BQU0sQ0FBQ1ksT0FBT0MsU0FBUyxHQUFHYiwrQ0FBUUEsQ0FBZ0I7SUFDbEQsTUFBTSxDQUFDYyxnQkFBZ0JDLGtCQUFrQixHQUFHZiwrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUNnQixVQUFVQyxZQUFZLEdBQUdqQiwrQ0FBUUEsQ0FBUSxFQUFFO0lBQ2xELE1BQU0sQ0FBQ2tCLGdCQUFnQkMsa0JBQWtCLEdBQUduQiwrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUNvQixXQUFXQyxhQUFhLEdBQUdyQiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNzQixjQUFjQyxnQkFBZ0IsR0FBR3ZCLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ3dCLGtCQUFrQkMsb0JBQW9CLEdBQUd6QiwrQ0FBUUEsQ0FBQztJQUN6RCxNQUFNLENBQUMwQixjQUFjQyxnQkFBZ0IsR0FBRzNCLCtDQUFRQSxDQUFDO1FBQy9DNEIsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLE9BQU87SUFDVDtJQUNBLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUdoQywrQ0FBUUEsQ0FBTTtRQUNwRGlDLGNBQWM7UUFDZEMsV0FBVztRQUNYQyxpQkFBaUI7SUFDbkI7SUFFQSxvRUFBb0U7SUFDcEVwQyxnREFBU0Es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bUM7b0RBQ0N2QyxPQUFPOUY7b0RBQ1BvSCxVQUFVLENBQUNyQyxJQUFNOUUsa0JBQWtCOEUsRUFBRXNDLE1BQU0sQ0FBQ3ZCLEtBQUs7b0RBQ2pEd0MsWUFBWXhEO29EQUNad0MsYUFBWTtvREFDWnBCLFdBQVU7b0RBQ1ZxQyxNQUFNO29EQUNOQyxVQUFVdEk7Ozs7Ozs7Ozs7OzBEQUdkLDhEQUFDc0g7Z0RBQ0NDLFNBQVMzRTtnREFDVDBGLFVBQVUsQ0FBQ3hJLGVBQWUrQyxJQUFJLE1BQU03QztnREFDcENnRyxXQUFVOzBEQUNWLDRFQUFDRztvREFBSUgsV0FBVTtvREFBVUksTUFBSztvREFBT0MsUUFBTztvREFBZUMsU0FBUTs4REFDakUsNEVBQUNDO3dEQUFLQyxlQUFjO3dEQUFRQyxnQkFBZTt3REFBUUMsYUFBYTt3REFBR0MsR0FBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrREFJM0UsOERBQUNUO3dDQUFFRixXQUFVO2tEQUE2Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tDQU85Qyw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDdUM7Z0NBQUd2QyxXQUFVOzBDQUFtQzs7Ozs7OzBDQUNqRCw4REFBQ0Q7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDRDs7MERBQ0MsOERBQUNHO2dEQUFFRixXQUFVOzBEQUFpQzs7Ozs7OzBEQUM5Qyw4REFBQ0U7MERBQUU7Ozs7OzswREFDSCw4REFBQ0E7MERBQUU7Ozs7Ozs7Ozs7OztrREFFTCw4REFBQ0g7OzBEQUNDLDhEQUFDRztnREFBRUYsV0FBVTswREFBaUM7Ozs7OzswREFDOUMsOERBQUNFOzBEQUFFOzs7Ozs7MERBQ0gsOERBQUNBOzBEQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZXJ2aWNldGV4dHByby1tYXJrZXRwbGFjZS8uL3NyYy9hcHAvdS9bc3BJZGVudGlmaWVyXS9jL1t0b2tlbl0vcGFnZS50c3g/NTJkZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDaGF0IFBhZ2UgLSBIYW5kbGVzIGluY29taW5nIGNoYXQgcmVxdWVzdHMgdmlhIHVuaXF1ZSB0b2tlbnNcbi8vIFVSTDogL3Uve3NwSWRlbnRpZmllcn0vYy97dG9rZW59XG5cbid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVBhcmFtcywgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbmludGVyZmFjZSBDaGF0UGFnZVByb3BzIHtcbiAgcGFyYW1zOiB7XG4gICAgc3BJZGVudGlmaWVyOiBzdHJpbmc7XG4gICAgdG9rZW46IHN0cmluZztcbiAgfTtcbn1cblxuaW50ZXJmYWNlIFZhbGlkYXRpb25SZXN1bHQge1xuICB2YWxpZDogYm9vbGVhbjtcbiAgdXNlcklkPzogc3RyaW5nO1xuICBjb252ZXJzYXRpb25JZD86IHN0cmluZztcbiAgZXJyb3I/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRQYWdlKHsgcGFyYW1zIH06IENoYXRQYWdlUHJvcHMpIHtcbiAgY29uc3QgeyBzcElkZW50aWZpZXIsIHRva2VuIH0gPSBwYXJhbXM7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCBbaXNWYWxpZGF0aW5nLCBzZXRJc1ZhbGlkYXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmFsaWRhdGlvblJlc3VsdCwgc2V0VmFsaWRhdGlvblJlc3VsdF0gPSB1c2VTdGF0ZTxWYWxpZGF0aW9uUmVzdWx0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtoYXNTdGFydGVkQ2hhdCwgc2V0SGFzU3RhcnRlZENoYXRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPGFueVtdPihbXSk7XG4gIGNvbnN0IFtjdXJyZW50TWVzc2FnZSwgc2V0Q3VycmVudE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbaXNTZW5kaW5nLCBzZXRJc1NlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaGFzVmFsaWRhdGVkLCBzZXRIYXNWYWxpZGF0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0N1c3RvbWVyRm9ybSwgc2V0U2hvd0N1c3RvbWVyRm9ybV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXN0b21lckluZm8sIHNldEN1c3RvbWVySW5mb10gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogJycsXG4gICAgcGhvbmU6ICcnLFxuICAgIGVtYWlsOiAnJ1xuICB9KTtcbiAgY29uc3QgW3Byb3ZpZGVySW5mbywgc2V0UHJvdmlkZXJJbmZvXSA9IHVzZVN0YXRlPGFueT4oe1xuICAgIGJ1c2luZXNzTmFtZTogJ01hbWEgTWlhJyxcbiAgICBmaXJzdE5hbWU6ICdNYW1hIE1pYScsXG4gICAgc2VydmljZUNhdGVnb3J5OiAnZWxlY3RyaWNpYW4nXG4gIH0pO1xuXG4gIC8vIENoZWNrIGZvciBleGlzdGluZyBzZXNzaW9uIG9uIHBhZ2UgbG9hZCwgdGhlbiBhdXRvLXZhbGlkYXRlIHRva2VuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFoYXNWYWxpZGF0ZWQpIHtcbiAgICAgIGNoZWNrRXhpc3RpbmdTZXNzaW9uKCk7XG4gICAgfVxuICB9LCBbc3BJZGVudGlmaWVyLCB0b2tlbiwgaGFzVmFsaWRhdGVkXSk7XG5cbiAgY29uc3QgY2hlY2tFeGlzdGluZ1Nlc3Npb24gPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldEhhc1ZhbGlkYXRlZCh0cnVlKTsgLy8gTWFyayBhcyB2YWxpZGF0ZWQgdG8gcHJldmVudCBkdXBsaWNhdGUgY2FsbHNcbiAgICAgIFxuICAgICAgY29uc3Qgc2Vzc2lvbktleSA9IGBjaGF0X3Nlc3Npb25fJHtzcElkZW50aWZpZXJ9YDtcbiAgICAgIGNvbnN0IHRva2VuS2V5ID0gYGNoYXRfdG9rZW5fJHtzcElkZW50aWZpZXJ9YDtcbiAgICAgIGNvbnN0IGV4aXN0aW5nU2Vzc2lvbklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oc2Vzc2lvbktleSk7XG4gICAgICBjb25zdCBsYXN0VXNlZFRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odG9rZW5LZXkpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgbmV3IHRva2VuIChkaWZmZXJlbnQgZnJvbSB0aGUgb25lIHRoYXQgY3JlYXRlZCB0aGUgc2Vzc2lvbilcbiAgICAgIGlmIChleGlzdGluZ1Nlc3Npb25JZCAmJiBsYXN0VXNlZFRva2VuICYmIGxhc3RVc2VkVG9rZW4gIT09IHRva2VuKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBOZXcgdG9rZW4gZGV0ZWN0ZWQhIExhc3QgdXNlZDogJHtsYXN0VXNlZFRva2VufSwgQ3VycmVudDogJHt0b2tlbn1gKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZvcmNpbmcgdG9rZW4gdmFsaWRhdGlvbiBmb3IgbmV3IHRva2VuLi4uJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBDbGVhciBvbGQgc2Vzc2lvbiBzaW5jZSB3ZSBoYXZlIGEgbmV3IHRva2VuXG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHNlc3Npb25LZXkpO1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0b2tlbktleSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGb3JjZSB2YWxpZGF0ZSB0aGUgbmV3IHRva2VuXG4gICAgICAgIGF3YWl0IHZhbGlkYXRlVG9rZW4oKTtcbiAgICAgICAgc2V0SGFzU3RhcnRlZENoYXQodHJ1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGV4aXN0aW5nU2Vzc2lvbklkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCBleGlzdGluZyBzZXNzaW9uOicsIGV4aXN0aW5nU2Vzc2lvbklkKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1NhbWUgdG9rZW4gYXMgYmVmb3JlLCB1c2luZyBleGlzdGluZyBzZXNzaW9uJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBWYWxpZGF0ZSBleGlzdGluZyBzZXNzaW9uXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KFxuICAgICAgICAgIGBodHRwOi8vMTkyLjE2OC4wLjEyOTozMDAwL2FwaS92MS9jaGF0L3Nlc3Npb25zLyR7ZXhpc3RpbmdTZXNzaW9uSWR9L3ZhbGlkYXRlYCxcbiAgICAgICAgICB7IHRpbWVvdXQ6IDEwMDAwIH1cbiAgICAgICAgKTtcblxuICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSBUb2tlbiB2YWxpZGF0aW9uIHN1Y2Nlc3NmdWw6JywgcmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgc2V0VmFsaWRhdGlvblJlc3VsdCh7XG4gICAgICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgICAgICAgIHVzZXJJZDogcmVzcG9uc2UuZGF0YS5kYXRhLnVzZXJJZCxcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkOiByZXNwb25zZS5kYXRhLmRhdGEuY29udmVyc2F0aW9uSWRcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIEZldGNoIHByb3ZpZGVyIGluZm9ybWF0aW9uXG4gICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YS51c2VySWQpIHtcbiAgICAgICAgICAgIGF3YWl0IGZldGNoUHJvdmlkZXJJbmZvKHJlc3BvbnNlLmRhdGEuZGF0YS51c2VySWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNldEhhc1N0YXJ0ZWRDaGF0KHRydWUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBTZXNzaW9uIGludmFsaWQsIHJlbW92ZSBmcm9tIHN0b3JhZ2VcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShzZXNzaW9uS2V5KTtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0b2tlbktleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTm8gZXhpc3Rpbmcgc2Vzc2lvbiBmb3VuZCwgc2hvdyB3ZWxjb21lIHNjcmVlblxuICAgICAgY29uc29sZS5sb2coJ05vIGV4aXN0aW5nIHNlc3Npb24sIHNob3dpbmcgd2VsY29tZSBzY3JlZW4nKTtcbiAgICAgIC8vIERvbid0IGF1dG8tdmFsaWRhdGUgdG9rZW4gLSBsZXQgdXNlciBjbGljayBcIlN0YXJ0IENoYXRcIiBidXR0b25cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygnU2Vzc2lvbiBjaGVjayBmYWlsZWQsIHNob3dpbmcgd2VsY29tZSBzY3JlZW46JywgZXJyb3IpO1xuICAgICAgLy8gRG9uJ3QgYXV0by12YWxpZGF0ZSB0b2tlbiAtIGxldCB1c2VyIGNsaWNrIFwiU3RhcnQgQ2hhdFwiIGJ1dHRvblxuICAgIH1cbiAgfTtcblxuICBjb25zdCB2YWxpZGF0ZVRva2VuID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRJc1ZhbGlkYXRpbmcodHJ1ZSk7XG4gICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgY29uc29sZS5sb2coJ1ZhbGlkYXRpbmcgdG9rZW46JywgeyBzcElkZW50aWZpZXIsIHRva2VuOiB0b2tlbi5zdWJzdHJpbmcoMCwgNCkgKyAnKioqKicgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KFxuICAgICAgICBgaHR0cDovLzE5Mi4xNjguMC4xMjk6MzAwMC9hcGkvdjEvY2hhdC9wdWJsaWMvJHtzcElkZW50aWZpZXJ9L3ZhbGlkYXRlLyR7dG9rZW59YCxcbiAgICAgICAge1xuICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1Rva2VuIHZhbGlkYXRpb24gc3VjY2Vzc2Z1bDonLCByZXNwb25zZS5kYXRhKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0b3JlIHNlc3Npb24gSUQgYW5kIHRva2VuIGluIGxvY2FsU3RvcmFnZSBmb3IgZnV0dXJlIGFjY2Vzc1xuICAgICAgICBjb25zdCBzZXNzaW9uS2V5ID0gYGNoYXRfc2Vzc2lvbl8ke3NwSWRlbnRpZmllcn1gO1xuICAgICAgICBjb25zdCB0b2tlbktleSA9IGBjaGF0X3Rva2VuXyR7c3BJZGVudGlmaWVyfWA7XG4gICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmRhdGEuc2Vzc2lvbklkKSB7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc2Vzc2lvbktleSwgcmVzcG9uc2UuZGF0YS5kYXRhLnNlc3Npb25JZCk7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odG9rZW5LZXksIHRva2VuKTsgLy8gU3RvcmUgdGhlIHRva2VuIHRoYXQgY3JlYXRlZCB0aGlzIHNlc3Npb25cbiAgICAgICAgICBjb25zb2xlLmxvZygnU3RvcmVkIHNlc3Npb24gSUQ6JywgcmVzcG9uc2UuZGF0YS5kYXRhLnNlc3Npb25JZCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1N0b3JlZCB0b2tlbjonLCB0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldFZhbGlkYXRpb25SZXN1bHQoe1xuICAgICAgICAgIHZhbGlkOiB0cnVlLFxuICAgICAgICAgIHVzZXJJZDogcmVzcG9uc2UuZGF0YS5kYXRhLnVzZXJJZCxcbiAgICAgICAgICBjb252ZXJzYXRpb25JZDogcmVzcG9uc2UuZGF0YS5kYXRhLmNvbnZlcnNhdGlvbklkXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gRWFjaCB0b2tlbiByZXByZXNlbnRzIGEgdW5pcXVlIGN1c3RvbWVyIGludGVyYWN0aW9uXG4gICAgICAgIC8vIEFsd2F5cyBzaG93IGN1c3RvbWVyIGZvcm0gZm9yIG5ldyB0b2tlbnMgKG5ldyBjdXN0b21lcnMpXG4gICAgICAgIHNldFNob3dDdXN0b21lckZvcm0odHJ1ZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OdIFNob3dpbmcgY3VzdG9tZXIgZm9ybSBmb3IgdG9rZW46JywgdG9rZW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignVG9rZW4gdmFsaWRhdGlvbiBmYWlsZWQ6JywgcmVzcG9uc2UuZGF0YSk7XG4gICAgICAgIHNldFZhbGlkYXRpb25SZXN1bHQoe1xuICAgICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogcmVzcG9uc2UuZGF0YS5lcnJvcj8ubWVzc2FnZSB8fCAnVG9rZW4gdmFsaWRhdGlvbiBmYWlsZWQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Rva2VuIHZhbGlkYXRpb24gZXJyb3I6JywgZXJyKTtcbiAgICAgIFxuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICdGYWlsZWQgdG8gdmFsaWRhdGUgY2hhdCB0b2tlbic7XG4gICAgICBpZiAoZXJyLnJlc3BvbnNlPy5kYXRhPy5lcnJvcj8ubWVzc2FnZSkge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnIucmVzcG9uc2UuZGF0YS5lcnJvci5tZXNzYWdlO1xuICAgICAgfSBlbHNlIGlmIChlcnIubWVzc2FnZSkge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnIubWVzc2FnZTtcbiAgICAgIH1cblxuICAgICAgc2V0VmFsaWRhdGlvblJlc3VsdCh7XG4gICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZVxuICAgICAgfSk7XG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1ZhbGlkYXRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzdGFydENoYXQgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0SGFzU3RhcnRlZENoYXQodHJ1ZSk7XG4gICAgYXdhaXQgdmFsaWRhdGVUb2tlbigpO1xuICB9O1xuXG4gIGNvbnN0IHNlbmRNZXNzYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghY3VycmVudE1lc3NhZ2UudHJpbSgpIHx8IGlzU2VuZGluZyB8fCAhdmFsaWRhdGlvblJlc3VsdD8uY29udmVyc2F0aW9uSWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinYwgQ2Fubm90IHNlbmQgbWVzc2FnZTonLCB7XG4gICAgICAgIGhhc01lc3NhZ2U6ICEhY3VycmVudE1lc3NhZ2UudHJpbSgpLFxuICAgICAgICBpc1NlbmRpbmcsXG4gICAgICAgIGhhc0NvbnZlcnNhdGlvbklkOiAhIXZhbGlkYXRpb25SZXN1bHQ/LmNvbnZlcnNhdGlvbklkLFxuICAgICAgICBjb252ZXJzYXRpb25JZDogdmFsaWRhdGlvblJlc3VsdD8uY29udmVyc2F0aW9uSWRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCfwn5OkIFNlbmRpbmcgbWVzc2FnZTonLCB7XG4gICAgICBjb252ZXJzYXRpb25JZDogdmFsaWRhdGlvblJlc3VsdC5jb252ZXJzYXRpb25JZCxcbiAgICAgIG1lc3NhZ2VMZW5ndGg6IGN1cnJlbnRNZXNzYWdlLmxlbmd0aCxcbiAgICAgIHZhbGlkYXRpb25SZXN1bHRcbiAgICB9KTtcblxuICAgIHNldElzU2VuZGluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbmV3TWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgdGV4dDogY3VycmVudE1lc3NhZ2UsXG4gICAgICAgIHNlbmRlcjogJ2N1c3RvbWVyJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH07XG5cbiAgICAgIC8vIEFkZCBtZXNzYWdlIHRvIFVJIGltbWVkaWF0ZWx5XG4gICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdNZXNzYWdlXSk7XG4gICAgICBzZXRDdXJyZW50TWVzc2FnZSgnJyk7XG5cbiAgICAgIC8vIFNlbmQgdG8gYmFja2VuZFxuICAgICAgY29uc3QgYXBpVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovLzE5Mi4xNjguMC4xMjk6MzAwMC9hcGkvdjEnO1xuICAgICAgY29uc3QgbWVzc2FnZVVybCA9IGAke2FwaVVybH0vbWFya2V0cGxhY2UvY29udmVyc2F0aW9ucy8ke3ZhbGlkYXRpb25SZXN1bHQuY29udmVyc2F0aW9uSWR9L21lc3NhZ2VzYDtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OkIFNlbmRpbmcgbWVzc2FnZSB0bzonLCBtZXNzYWdlVXJsKTtcbiAgICAgIFxuICAgICAgYXdhaXQgYXhpb3MucG9zdChtZXNzYWdlVXJsLCB7XG4gICAgICAgIHNlbmRlclR5cGU6ICdjdXN0b21lcicsXG4gICAgICAgIHNlbmRlck5hbWU6IGN1c3RvbWVySW5mby5uYW1lIHx8ICdDdXN0b21lcicsXG4gICAgICAgIG1lc3NhZ2U6IGN1cnJlbnRNZXNzYWdlLFxuICAgICAgICBtZXNzYWdlVHlwZTogJ3RleHQnXG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coJ+KchSBNZXNzYWdlIHNlbnQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBzZW5kIG1lc3NhZ2U6JywgZXJyb3IpO1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGRldGFpbHM6Jywge1xuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICBzdGF0dXM6IGVycm9yLnJlc3BvbnNlPy5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IGVycm9yLnJlc3BvbnNlPy5zdGF0dXNUZXh0LFxuICAgICAgICBkYXRhOiBlcnJvci5yZXNwb25zZT8uZGF0YSxcbiAgICAgICAgdXJsOiBlcnJvci5jb25maWc/LnVybFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFNob3cgdXNlci1mcmllbmRseSBlcnJvclxuICAgICAgYWxlcnQoYNCT0YDQtdGI0LrQsCDQv9GA0Lgg0LjQt9C/0YDQsNGJ0LDQvdC1INC90LAg0YHRitC+0LHRidC10L3QuNC10YLQvjogJHtlcnJvci5yZXNwb25zZT8uc3RhdHVzIHx8ICfQndC10LjQt9Cy0LXRgdGC0L3QsCDQs9GA0LXRiNC60LAnfVxcblxcbtCU0LXRgtCw0LnQu9C4OiAke2Vycm9yLnJlc3BvbnNlPy5kYXRhPy5lcnJvcj8ubWVzc2FnZSB8fCBlcnJvci5tZXNzYWdlfWApO1xuICAgICAgXG4gICAgICAvLyBSZW1vdmUgbWVzc2FnZSBmcm9tIFVJIG9uIGVycm9yXG4gICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHByZXYuZmlsdGVyKG0gPT4gbS5pZCAhPT0gRGF0ZS5ub3coKS50b1N0cmluZygpKSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzU2VuZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUtleVByZXNzID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQpID0+IHtcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNlbmRNZXNzYWdlKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUN1c3RvbWVyRm9ybVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgXG4gICAgaWYgKCFjdXN0b21lckluZm8ubmFtZS50cmltKCkgfHwgIWN1c3RvbWVySW5mby5waG9uZS50cmltKCkpIHtcbiAgICAgIGFsZXJ0KCfQnNC+0LvRjyDQstGK0LLQtdC00LXRgtC1INC40LzQtSDQuCDRgtC10LvQtdGE0L7QvScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBTdG9yZSBjdXN0b21lciBpbmZvIGZvciB0aGlzIHNwZWNpZmljIHRva2VuXG4gICAgY29uc3QgY3VzdG9tZXJLZXkgPSBgY3VzdG9tZXJfaW5mb18ke3Rva2VufWA7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oY3VzdG9tZXJLZXksIEpTT04uc3RyaW5naWZ5KGN1c3RvbWVySW5mbykpO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBjb252ZXJzYXRpb24gd2l0aCBjdXN0b21lciBkZXRhaWxzXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFwaVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly8xOTIuMTY4LjAuMTI5OjMwMDAvYXBpL3YxJztcbiAgICAgIGNvbnN0IHVwZGF0ZVVybCA9IGAke2FwaVVybH0vbWFya2V0cGxhY2UvY29udmVyc2F0aW9ucy8ke3ZhbGlkYXRpb25SZXN1bHQ/LmNvbnZlcnNhdGlvbklkfWA7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFVwZGF0aW5nIGNvbnZlcnNhdGlvbiB3aXRoIGN1c3RvbWVyIGRldGFpbHM6Jywge1xuICAgICAgICB1cmw6IHVwZGF0ZVVybCxcbiAgICAgICAgY29udmVyc2F0aW9uSWQ6IHZhbGlkYXRpb25SZXN1bHQ/LmNvbnZlcnNhdGlvbklkLFxuICAgICAgICBjdXN0b21lck5hbWU6IGN1c3RvbWVySW5mby5uYW1lLFxuICAgICAgICBjdXN0b21lclBob25lOiBjdXN0b21lckluZm8ucGhvbmUsXG4gICAgICAgIGN1c3RvbWVyRW1haWw6IGN1c3RvbWVySW5mby5lbWFpbFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucHV0KHVwZGF0ZVVybCwge1xuICAgICAgICBjdXN0b21lck5hbWU6IGN1c3RvbWVySW5mby5uYW1lLFxuICAgICAgICBjdXN0b21lclBob25lOiBjdXN0b21lckluZm8ucGhvbmUsXG4gICAgICAgIGN1c3RvbWVyRW1haWw6IGN1c3RvbWVySW5mby5lbWFpbFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgQ29udmVyc2F0aW9uIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5OicsIHJlc3BvbnNlLmRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gdXBkYXRlIGNvbnZlcnNhdGlvbiB3aXRoIGN1c3RvbWVyIGRldGFpbHM6JywgZXJyb3IpO1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIFVwZGF0ZSBlcnJvciBkZXRhaWxzOicsIHtcbiAgICAgICAgc3RhdHVzOiBlcnJvci5yZXNwb25zZT8uc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiBlcnJvci5yZXNwb25zZT8uc3RhdHVzVGV4dCxcbiAgICAgICAgZGF0YTogZXJyb3IucmVzcG9uc2U/LmRhdGEsXG4gICAgICAgIHVybDogZXJyb3IuY29uZmlnPy51cmxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBIaWRlIGZvcm0gYW5kIHN0YXJ0IGNoYXRcbiAgICBzZXRTaG93Q3VzdG9tZXJGb3JtKGZhbHNlKTtcbiAgICBzZXRIYXNTdGFydGVkQ2hhdCh0cnVlKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDdXN0b21lckluZm9DaGFuZ2UgPSAoZmllbGQ6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIHNldEN1c3RvbWVySW5mbyhwcmV2ID0+ICh7IC4uLnByZXYsIFtmaWVsZF06IHZhbHVlIH0pKTtcbiAgfTtcblxuICBjb25zdCBmZXRjaFByb3ZpZGVySW5mbyA9IGFzeW5jICh1c2VySWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBGZXRjaGluZyBwcm92aWRlciBpbmZvIGZvciB1c2VySWQ6JywgdXNlcklkKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwOi8vMTkyLjE2OC4wLjEyOTozMDAwL2FwaS92MS9tYXJrZXRwbGFjZS9wcm92aWRlcnMvJHt1c2VySWR9YCk7XG4gICAgICBjb25zb2xlLmxvZygn8J+ToSBQcm92aWRlciBBUEkgcmVzcG9uc2U6JywgcmVzcG9uc2UuZGF0YSk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgc2V0UHJvdmlkZXJJbmZvKHJlc3BvbnNlLmRhdGEuZGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgUHJvdmlkZXIgaW5mbyBsb2FkZWQ6JywgcmVzcG9uc2UuZGF0YS5kYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBQcm92aWRlciBBUEkgcmV0dXJuZWQgZXJyb3I6JywgcmVzcG9uc2UuZGF0YS5lcnJvcik7XG4gICAgICAgIHNldEZhbGxiYWNrUHJvdmlkZXJJbmZvKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gZmV0Y2ggcHJvdmlkZXIgaW5mbzonLCBlcnJvcik7XG4gICAgICBzZXRGYWxsYmFja1Byb3ZpZGVySW5mbygpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzZXRGYWxsYmFja1Byb3ZpZGVySW5mbyA9ICgpID0+IHtcbiAgICBzZXRQcm92aWRlckluZm8oe1xuICAgICAgYnVzaW5lc3NOYW1lOiAnTWFtYSBNaWEnLFxuICAgICAgZmlyc3ROYW1lOiAnTWFtYSBNaWEnLCBcbiAgICAgIGxhc3ROYW1lOiAnJyxcbiAgICAgIHNlcnZpY2VDYXRlZ29yeTogJ2VsZWN0cmljaWFuJ1xuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKCfwn5SEIFVzaW5nIGZhbGxiYWNrIHByb3ZpZGVyIGluZm86IE1hbWEgTWlhJyk7XG4gIH07XG5cbiAgaWYgKGlzVmFsaWRhdGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC04IHJvdW5kZWQtbGcgc2hhZG93LW1kIG1heC13LW1kIHctZnVsbCBteC00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTIgdy0xMiBib3JkZXItYi0yIGJvcmRlci1ibHVlLTYwMCBteC1hdXRvIG1iLTRcIj48L2Rpdj5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+XG4gICAgICAgICAgICAgINCf0YDQvtCy0LXRgNGP0LLQsNC90LUg0L3QsCDQstGA0YrQt9C60LDRgtCwLi4uXG4gICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICDQnNC+0LvRjywg0LjQt9GH0LDQutCw0LnRgtC1INC00L7QutCw0YLQviDQv9GA0L7QstC10YDQuNC8INCy0LDRiNCw0YLQsCDQstGA0YrQt9C60LAuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFNob3cgY3VzdG9tZXIgaW5mb3JtYXRpb24gZm9ybVxuICBpZiAoc2hvd0N1c3RvbWVyRm9ybSAmJiB2YWxpZGF0aW9uUmVzdWx0Py52YWxpZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC04IHJvdW5kZWQtbGcgc2hhZG93LW1kIG1heC13LW1kIHctZnVsbCBteC00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTIgaC0xMiBiZy1ibHVlLTEwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbXgtYXV0byBtYi00XCI+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy02IGgtNiB0ZXh0LWJsdWUtNjAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTE2IDdhNCA0IDAgMTEtOCAwIDQgNCAwIDAxOCAwek0xMiAxNGE3IDcgMCAwMC03IDdoMTRhNyA3IDAgMDAtNy03elwiIC8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgbWItMlwiPlxuICAgICAgICAgICAgICDQl9Cw0L/QvtGH0L3QtdGC0LUg0YfQsNGCINGBIHtwcm92aWRlckluZm8uYnVzaW5lc3NOYW1lIHx8IHByb3ZpZGVySW5mby5maXJzdE5hbWV9XG4gICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICDQnNC+0LvRjyDQstGK0LLQtdC00LXRgtC1INCy0LDRiNC40YLQtSDQtNCw0L3QvdC4INC30LAg0LTQsCDQt9Cw0L/QvtGH0L3QtdC8INGA0LDQt9Cz0L7QstC+0YDQsFxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZUN1c3RvbWVyRm9ybVN1Ym1pdH0gY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cIm5hbWVcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgINCY0LzQtSAqXG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBpZD1cIm5hbWVcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21lckluZm8ubmFtZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUN1c3RvbWVySW5mb0NoYW5nZSgnbmFtZScsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgZm9jdXM6Ym9yZGVyLWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cItCS0LDRiNC10YLQviDQuNC80LVcIlxuICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJwaG9uZVwiIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0xXCI+XG4gICAgICAgICAgICAgICAg0KLQtdC70LXRhNC+0L0gKlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGVsXCJcbiAgICAgICAgICAgICAgICBpZD1cInBob25lXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17Y3VzdG9tZXJJbmZvLnBob25lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ3VzdG9tZXJJbmZvQ2hhbmdlKCdwaG9uZScsIGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgZm9jdXM6Ym9yZGVyLWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIjA4ODggMTIzIDQ1NlwiXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImVtYWlsXCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICDQmNC80LXQudC7ICjQv9C+INC20LXQu9Cw0L3QuNC1KVxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgIGlkPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21lckluZm8uZW1haWx9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVDdXN0b21lckluZm9DaGFuZ2UoJ2VtYWlsJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBmb2N1czpib3JkZXItYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwieW91ckBlbWFpbC5jb21cIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB5LTIgcHgtNCByb3VuZGVkLW1kIGhvdmVyOmJnLWJsdWUtNzAwIHRyYW5zaXRpb24tY29sb3JzIGZvbnQtbWVkaXVtXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg0JfQsNC/0L7Rh9C90Lgg0YfQsNGCXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Zvcm0+XG5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgdGV4dC1jZW50ZXIgbXQtNFwiPlxuICAgICAgICAgICAg0JLQsNGI0LjRgtC1INC00LDQvdC90Lgg0YnQtSDQsdGK0LTQsNGCINC40LfQv9C+0LvQt9Cy0LDQvdC4INGB0LDQvNC+INC30LAg0YLQvtC30Lgg0YDQsNC30LPQvtCy0L7RgFxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKGhhc1N0YXJ0ZWRDaGF0ICYmICF2YWxpZGF0aW9uUmVzdWx0Py52YWxpZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC04IHJvdW5kZWQtbGcgc2hhZG93LW1kIG1heC13LW1kIHctZnVsbCBteC00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgYmctcmVkLTEwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbXgtYXV0byBtYi00XCI+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy02IGgtNiB0ZXh0LXJlZC02MDBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiIC8+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgbWItMlwiPlxuICAgICAgICAgICAgICDQndC10LLQsNC70LjQtNC90LAg0LLRgNGK0LfQutCwXG4gICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBtYi00XCI+XG4gICAgICAgICAgICAgIHt2YWxpZGF0aW9uUmVzdWx0Py5lcnJvciB8fCAn0KLQsNC30Lgg0LLRgNGK0LfQutCwINCy0LXRh9C1INC90LUg0LUg0LDQutGC0LjQstC90LAg0LjQu9C4INC1INC40LfRgtC10LrQu9CwLid9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB5LTIgcHgtNCByb3VuZGVkLW1kIGhvdmVyOmJnLWJsdWUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgINCe0L/QuNGC0LDQudGC0LUg0L7RgtC90L7QstC+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICDQkNC60L4g0L/RgNC+0LHQu9C10LzRitGCINC/0YDQvtC00YrQu9C20LDQstCwLCDQvNC+0LvRjyDQvtCx0LDQtNC10YLQtSDRgdC1INC+0YLQvdC+0LLQvi5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFNob3cgd2VsY29tZSBzY3JlZW4gaWYgY2hhdCBoYXNuJ3Qgc3RhcnRlZCB5ZXRcbiAgaWYgKCFoYXNTdGFydGVkQ2hhdCAmJiAhdmFsaWRhdGlvblJlc3VsdD8udmFsaWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS01MFwiPlxuICAgICAgICB7LyogSGVhZGVyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHNoYWRvdy1zbSBib3JkZXItYlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG8gcHgtNCBweS00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMFwiPlxuICAgICAgICAgICAgICAgICAg8J+SrCDQp9Cw0YIg0YEge3Byb3ZpZGVySW5mbz8uYnVzaW5lc3NOYW1lIHx8ICfRgtC10YXQvdC40LonfVxuICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgICDQntC/0LjRiNC10YLQtSDQstCw0YjQuNGPINC/0YDQvtCx0LvQtdC8INC4INGJ0LUg0L/QvtC70YPRh9C40YLQtSDQsdGK0YDQtyDQvtGC0LPQvtCy0L7RgFxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTMgaC0zIGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj7QntC90LvQsNC50L08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBXZWxjb21lIFNjcmVlbiAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy00eGwgbXgtYXV0byBweC00IHB5LTZcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LXNtIGJvcmRlciBtaW4taC1bNjAwcHhdIGZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBXZWxjb21lIENvbnRlbnQgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1heC13LW1kIG14LWF1dG8gcC04XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IGJnLWJsdWUtMTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBteC1hdXRvIG1iLTZcIj5cbiAgICAgICAgICAgICAgICB7cHJvdmlkZXJJbmZvPy5idXNpbmVzc05hbWUgPyAoXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGZvbnQtYm9sZCB0ZXh0LWxnXCI+XG4gICAgICAgICAgICAgICAgICAgIHtwcm92aWRlckluZm8uYnVzaW5lc3NOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC1ibHVlLTYwMFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNOCAxMmguMDFNMTIgMTJoLjAxTTE2IDEyaC4wMU0yMSAxMmMwIDQuNDE4LTQuMDMgOC05IDhhOS44NjMgOS44NjMgMCAwMS00LjI1NS0uOTQ5TDMgMjBsMS4zOTUtMy43MkMzLjUxMiAxNS4wNDIgMyAxMy41NzQgMyAxMmMwLTQuNDE4IDQuMDMtOCA5LThzOSAzLjU4MiA5IDh6XCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTRcIj5cbiAgICAgICAgICAgICAgICDQlNC+0LHRgNC1INC00L7RiNC70Lgg0LIg0YfQsNGC0LAg0YEge3Byb3ZpZGVySW5mbz8uYnVzaW5lc3NOYW1lIHx8ICfQvdCw0YEnfSFcbiAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgbWItNlwiPlxuICAgICAgICAgICAgICAgINCT0L7RgtC+0LLQuCDRgdC80LUg0LTQsCDQstC4INC/0L7QvNC+0LPQvdC10Lwg0YEg0LLQsNGI0LjRjyDQv9GA0L7QsdC70LXQvC4g0J3QsNGC0LjRgdC90LXRgtC1INCx0YPRgtC+0L3QsCDQv9C+LdC00L7Qu9GDINC30LAg0LTQsCDQt9Cw0L/QvtGH0L3QtdGC0LUg0YDQsNC30LPQvtCy0L7RgNCwLlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17c3RhcnRDaGF0fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHgtOCBweS0zIHJvdW5kZWQtbGcgaG92ZXI6YmctYmx1ZS03MDAgdHJhbnNpdGlvbi1jb2xvcnMgZm9udC1tZWRpdW1cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg0JfQsNC/0L7Rh9C90Lgg0YfQsNGCXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04IHAtNCBiZy1ibHVlLTUwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggYmctYmx1ZS02MDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3Byb3ZpZGVySW5mbz8uYnVzaW5lc3NOYW1lPy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSB8fCAn0KInfVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZWZ0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTkwMCBmb250LW1lZGl1bSBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3Byb3ZpZGVySW5mbz8uYnVzaW5lc3NOYW1lIHx8ICfQotC10YXQvdC40LonfSAtIHtwcm92aWRlckluZm8/LnNlcnZpY2VDYXRlZ29yeSA9PT0gJ2VsZWN0cmljaWFuJyA/ICfQldC70LXQutGC0YDQvtGC0LXRhdC90LjQuicgOiAn0KLQtdGF0L3QuNC6J31cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICDQl9C00YDQsNCy0LXQudGC0LUhINCT0L7RgtC+0LIg0YHRitC8INC00LAg0LLQuCDQv9C+0LzQvtCz0L3QsCDRgSDQstCw0YjQuNGPINC/0YDQvtCx0LvQtdC8LlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwXCI+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBzaGFkb3ctc20gYm9yZGVyLWJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy00eGwgbXgtYXV0byBweC00IHB5LTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgICAg8J+SrCDQp9Cw0YIg0YEge3Byb3ZpZGVySW5mbz8uYnVzaW5lc3NOYW1lIHx8ICfRgtC10YXQvdC40LonfVxuICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICDQntC/0LjRiNC10YLQtSDQstCw0YjQuNGPINC/0YDQvtCx0LvQtdC8INC4INGJ0LUg0L/QvtC70YPRh9C40YLQtSDQsdGK0YDQtyDQvtGC0LPQvtCy0L7RgFxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtMyBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPtCe0L3Qu9Cw0LnQvTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogQ2hhdCBJbnRlcmZhY2UgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTR4bCBteC1hdXRvIHB4LTQgcHktNlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LXNtIGJvcmRlciBtaW4taC1bNjAwcHhdIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogV2VsY29tZSBNZXNzYWdlICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC02IGJvcmRlci1iIGJnLWJsdWUtNTBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IGJnLWJsdWUtNjAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICB7cHJvdmlkZXJJbmZvPy5idXNpbmVzc05hbWU/LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpIHx8ICfQoid9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtNCByb3VuZGVkLWxnIHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTkwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgINCX0LTRgNCw0LLQtdC50YLQtSEg0JDQtyDRgdGK0Lwge3Byb3ZpZGVySW5mbz8uZmlyc3ROYW1lIHx8IHByb3ZpZGVySW5mbz8uYnVzaW5lc3NOYW1lIHx8ICfQstCw0YjQuNGP0YIg0YLQtdGF0L3QuNC6J30uIFxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTcwMCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgINCc0L7Qu9GPLCDQvtC/0LjRiNC10YLQtSDQutCw0LrRitCyINC1INC/0YDQvtCx0LvQtdC80YrRgiDQuCDRidC1INCy0Lgg0L/QvtC80L7Qs9C90LAg0LLRitC30LzQvtC20L3QviDQvdCw0Lkt0LHRitGA0LfQvi4gXG4gICAgICAgICAgICAgICAgICAgINCQ0LrQviDQtSDRgdC/0LXRiNC90L4sINGB0L/QvtC80LXQvdC10YLQtSDRgtC+0LLQsCDQsiDRgdGK0L7QsdGJ0LXQvdC40LXRgtC+LlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBtdC0yXCI+0KHQtdCz0LA8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogQ2hhdCBNZXNzYWdlcyBBcmVhICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHAtNiBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgIHttZXNzYWdlcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwIHB5LThcIj5cbiAgICAgICAgICAgICAgICAgIDxwPtCX0LDQv9C+0YfQvdC10YLQtSDRgNCw0LfQs9C+0LLQvtGA0LAg0LrQsNGC0L4g0L3QsNC/0LjRiNC10YLQtSDRgdGK0L7QsdGJ0LXQvdC40LUg0L/Qvi3QtNC+0LvRgzwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXttZXNzYWdlLmlkfSBjbGFzc05hbWU9e2BmbGV4ICR7bWVzc2FnZS5zZW5kZXIgPT09ICdjdXN0b21lcicgPyAnanVzdGlmeS1lbmQnIDogJ2p1c3RpZnktc3RhcnQnfWB9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YG1heC13LXhzIGxnOm1heC13LW1kIHB4LTQgcHktMiByb3VuZGVkLWxnICR7XG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZW5kZXIgPT09ICdjdXN0b21lcicgXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlJyBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktMTAwIHRleHQtZ3JheS05MDAnXG4gICAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICA8cD57bWVzc2FnZS50ZXh0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9e2B0ZXh0LXhzIG10LTEgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2VuZGVyID09PSAnY3VzdG9tZXInID8gJ3RleHQtYmx1ZS0xMDAnIDogJ3RleHQtZ3JheS01MDAnXG4gICAgICAgICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAge25ldyBEYXRlKG1lc3NhZ2UudGltZXN0YW1wKS50b0xvY2FsZVRpbWVTdHJpbmcoJ2JnLUJHJywgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pfVxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogTWVzc2FnZSBJbnB1dCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IHAtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtM1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2N1cnJlbnRNZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRDdXJyZW50TWVzc2FnZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBvbktleVByZXNzPXtoYW5kbGVLZXlQcmVzc31cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi0J7Qv9C40YjQtdGC0LUg0LLQsNGI0LjRjyDQv9GA0L7QsdC70LXQvCDRgtGD0LouLi5cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgcmVzaXplLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgZm9jdXM6Ym9yZGVyLXRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgICAgIHJvd3M9ezN9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTZW5kaW5nfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3NlbmRNZXNzYWdlfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshY3VycmVudE1lc3NhZ2UudHJpbSgpIHx8IGlzU2VuZGluZ31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB4LTYgcHktMyByb3VuZGVkLWxnIGhvdmVyOmJnLWJsdWUtNzAwIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCI+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTIgMTlsOSAyLTktMTgtOSAxOCA5LTJ6bTAgMHYtOFwiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbXQtMlwiPlxuICAgICAgICAgICAgICDQndCw0YLQuNGB0L3QtdGC0LUgRW50ZXIg0LfQsCDQtNCwINC40LfQv9GA0LDRgtC40YLQtSDQuNC70LggU2hpZnQrRW50ZXIg0LfQsCDQvdC+0LIg0YDQtdC0XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBJbmZvIFNlY3Rpb24gKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1zbSBib3JkZXIgcC02XCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0zXCI+4oS577iPINCf0L7Qu9C10LfQvdCwINC40L3RhNC+0YDQvNCw0YbQuNGPPC9oMz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTQgdGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIG1iLTFcIj7QoNCw0LHQvtGC0L3QviDQstGA0LXQvNC1OjwvcD5cbiAgICAgICAgICAgICAgPHA+0J/QvtC90LXQtNC10LvQvdC40LogLSDQn9C10YLRitC6OiAwODowMCAtIDE4OjAwPC9wPlxuICAgICAgICAgICAgICA8cD7QodGK0LHQvtGC0LA6IDA5OjAwIC0gMTU6MDA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItMVwiPtCh0L/QtdGI0L3QuCDRgdC70YPRh9Cw0Lg6PC9wPlxuICAgICAgICAgICAgICA8cD7QntGC0LPQvtCy0LDRgNGP0Lwg0LIg0YDQsNC80LrQuNGC0LUg0L3QsCAxNSDQvNC40L3Rg9GC0Lg8L3A+XG4gICAgICAgICAgICAgIDxwPtCU0L7RgdGC0YrQv9C10L0gMjQvNyDQt9CwINCw0LLQsNGA0LjQuDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUm91dGVyIiwiYXhpb3MiLCJDaGF0UGFnZSIsInBhcmFtcyIsInNwSWRlbnRpZmllciIsInRva2VuIiwicm91dGVyIiwiaXNWYWxpZGF0aW5nIiwic2V0SXNWYWxpZGF0aW5nIiwidmFsaWRhdGlvblJlc3VsdCIsInNldFZhbGlkYXRpb25SZXN1bHQiLCJlcnJvciIsInNldEVycm9yIiwiaGFzU3RhcnRlZENoYXQiLCJzZXRIYXNTdGFydGVkQ2hhdCIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJjdXJyZW50TWVzc2FnZSIsInNldEN1cnJlbnRNZXNzYWdlIiwiaXNTZW5kaW5nIiwic2V0SXNTZW5kaW5nIiwiaGFzVmFsaWRhdGVkIiwic2V0SGFzVmFsaWRhdGVkIiwic2hvd0N1c3RvbWVyRm9ybSIsInNldFNob3dDdXN0b21lckZvcm0iLCJjdXN0b21lckluZm8iLCJzZXRDdXN0b21lckluZm8iLCJuYW1lIiwicGhvbmUiLCJlbWFpbCIsInByb3ZpZGVySW5mbyIsInNldFByb3ZpZGVySW5mbyIsImJ1c2luZXNzTmFtZSIsImZpcnN0TmFtZSIsInNlcnZpY2VDYXRlZ29yeSIsImNoZWNrRXhpc3RpbmdTZXNzaW9uIiwic2Vzc2lvbktleSIsInRva2VuS2V5IiwiZXhpc3RpbmdTZXNzaW9uSWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibGFzdFVzZWRUb2tlbiIsImNvbnNvbGUiLCJsb2ciLCJyZW1vdmVJdGVtIiwidmFsaWRhdGVUb2tlbiIsInJlc3BvbnNlIiwiZ2V0IiwidGltZW91dCIsImRhdGEiLCJzdWNjZXNzIiwidmFsaWQiLCJ1c2VySWQiLCJjb252ZXJzYXRpb25JZCIsImZldGNoUHJvdmlkZXJJbmZvIiwic3Vic3RyaW5nIiwiaGVhZGVycyIsInNlc3Npb25JZCIsInNldEl0ZW0iLCJtZXNzYWdlIiwiZXJyIiwiZXJyb3JNZXNzYWdlIiwic3RhcnRDaGF0Iiwic2VuZE1lc3NhZ2UiLCJ0cmltIiwiaGFzTWVzc2FnZSIsImhhc0NvbnZlcnNhdGlvbklkIiwibWVzc2FnZUxlbmd0aCIsImxlbmd0aCIsIm5ld01lc3NhZ2UiLCJpZCIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsInRleHQiLCJzZW5kZXIiLCJ0aW1lc3RhbXAiLCJ0b0lTT1N0cmluZyIsInByZXYiLCJhcGlVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsIm1lc3NhZ2VVcmwiLCJwb3N0Iiwic2VuZGVyVHlwZSIsInNlbmRlck5hbWUiLCJtZXNzYWdlVHlwZSIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJ1cmwiLCJjb25maWciLCJhbGVydCIsImZpbHRlciIsIm0iLCJoYW5kbGVLZXlQcmVzcyIsImUiLCJrZXkiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwiaGFuZGxlQ3VzdG9tZXJGb3JtU3VibWl0IiwiY3VzdG9tZXJLZXkiLCJKU09OIiwic3RyaW5naWZ5IiwidXBkYXRlVXJsIiwiY3VzdG9tZXJOYW1lIiwiY3VzdG9tZXJQaG9uZSIsImN1c3RvbWVyRW1haWwiLCJwdXQiLCJoYW5kbGVDdXN0b21lckluZm9DaGFuZ2UiLCJmaWVsZCIsInZhbHVlIiwic2V0RmFsbGJhY2tQcm92aWRlckluZm8iLCJsYXN0TmFtZSIsImRpdiIsImNsYXNzTmFtZSIsImgyIiwicCIsInN2ZyIsImZpbGwiLCJzdHJva2UiLCJ2aWV3Qm94IiwicGF0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInN0cm9rZVdpZHRoIiwiZCIsImZvcm0iLCJvblN1Ym1pdCIsImxhYmVsIiwiaHRtbEZvciIsImlucHV0IiwidHlwZSIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwicGxhY2Vob2xkZXIiLCJyZXF1aXJlZCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImgxIiwic3BhbiIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwibWFwIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsInRleHRhcmVhIiwib25LZXlQcmVzcyIsInJvd3MiLCJkaXNhYmxlZCIsImgzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/app/u/[spIdentifier]/c/[token]/page.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/ChatWidget.tsx":
/*!***************************************!*\
  !*** ./src/components/ChatWidget.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatWidget)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(ssr)/./src/contexts/AuthContext.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/api */ \"(ssr)/./src/lib/api.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\nfunction ChatWidget() {\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isMinimized, setIsMinimized] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [conversations, setConversations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [unreadTotal, setUnreadTotal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [activeConversation, setActiveConversation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [newMessage, setNewMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [sending, setSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [socket, setSocket] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const { user, isAuthenticated, isLoading } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__.useAuth)();\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const pathname = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.usePathname)();\n    // Debug authentication state\n    console.log(\"\\uD83D\\uDCAC ChatWidget - Auth Debug:\", {\n        isAuthenticated,\n        isLoading,\n        user: user ? {\n            id: user.id,\n            email: user.email,\n            role: user.role\n        } : null,\n        hasAuthToken:  false ? 0 : \"SSR\",\n        hasUserData:  false ? 0 : \"SSR\"\n    });\n    // Load conversations when widget opens and set up global WebSocket\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen && isAuthenticated && user) {\n            loadConversations();\n            // Set up periodic refresh every 10 seconds when widget is open (more frequent to catch customer name updates)\n            const refreshInterval = setInterval(()=>{\n                loadConversations();\n            }, 10000);\n            return ()=>clearInterval(refreshInterval);\n        }\n    }, [\n        isOpen,\n        isAuthenticated,\n        user\n    ]);\n    // Calculate total unread messages\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const total = conversations.reduce((sum, conv)=>sum + conv.unreadCount, 0);\n        setUnreadTotal(total);\n    }, [\n        conversations\n    ]);\n    const loadConversations = async ()=>{\n        if (!user) return;\n        console.log(\"\\uD83D\\uDCAC ChatWidget - Loading conversations for user:\", user.role, user.id);\n        setLoading(true);\n        try {\n            // For service providers, get their conversations\n            if (user.role === \"service_provider\" || user.role === \"tradesperson\") {\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Loading provider conversations for:\", user.id);\n                console.log(\"\\uD83D\\uDCAC ChatWidget - API URL will be:\", `/chat/provider/${user.id}/conversations`);\n                const response = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.apiClient.getProviderMarketplaceConversations(user.id);\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Provider conversations full response:\", response);\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Provider conversations response.data:\", response.data);\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Provider conversations response.status:\", response.status);\n                if (response.data?.success) {\n                    let conversationsData = response.data.data;\n                    console.log(\"\\uD83D\\uDCAC ChatWidget - Raw conversations data:\", JSON.stringify(conversationsData, null, 2));\n                    // Handle different response formats and map fields correctly\n                    if (Array.isArray(conversationsData)) {\n                        // Data is already an array - map the fields\n                        const mappedConversations = conversationsData.map((conv)=>({\n                                ...conv,\n                                lastActivity: conv.last_message_at || conv.created_at,\n                                unreadCount: conv.unread_count || 0\n                            }));\n                        setConversations(mappedConversations);\n                        console.log(\"\\uD83D\\uDCAC ChatWidget - Set provider conversations (array):\", mappedConversations.length, mappedConversations);\n                    } else if (conversationsData && typeof conversationsData === \"object\") {\n                        // Data is an object, check if it has a conversations property or convert to array\n                        if (conversationsData.conversations && Array.isArray(conversationsData.conversations)) {\n                            const mappedConversations = conversationsData.conversations.map((conv)=>({\n                                    ...conv,\n                                    lastActivity: conv.last_message_at || conv.created_at,\n                                    unreadCount: conv.unread_count || 0\n                                }));\n                            setConversations(mappedConversations);\n                            console.log(\"\\uD83D\\uDCAC ChatWidget - Set provider conversations (object.conversations):\", mappedConversations.length, mappedConversations);\n                        } else if (conversationsData.data && Array.isArray(conversationsData.data)) {\n                            setConversations(conversationsData.data);\n                            console.log(\"\\uD83D\\uDCAC ChatWidget - Set provider conversations (object.data):\", conversationsData.data.length, conversationsData.data);\n                        } else {\n                            // Try to convert object to array or handle single conversation\n                            console.log(\"\\uD83D\\uDCAC ChatWidget - Received object data:\", conversationsData);\n                            const conversationsArray = Object.values(conversationsData).filter((item)=>item && typeof item === \"object\" && \"id\" in item);\n                            setConversations(conversationsArray);\n                            console.log(\"\\uD83D\\uDCAC ChatWidget - Converted object to array:\", conversationsArray.length, conversationsArray);\n                        }\n                    } else {\n                        console.log(\"\\uD83D\\uDCAC ChatWidget - No conversations data found\");\n                        setConversations([]);\n                    }\n                } else {\n                    console.log(\"\\uD83D\\uDCAC ChatWidget - API response not successful\");\n                    console.log(\"\\uD83D\\uDCAC ChatWidget - Response structure:\", {\n                        hasSuccess: \"success\" in (response.data || {}),\n                        successValue: response.data?.success,\n                        hasData: \"data\" in (response.data || {}),\n                        dataType: typeof response.data?.data,\n                        isArray: Array.isArray(response.data?.data)\n                    });\n                    setConversations([]);\n                }\n            } else {\n                // For customers, get their conversations\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Loading customer conversations\");\n                const response = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.apiClient.getConversations();\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Customer conversations response:\", response.data);\n                if (response.data?.success && Array.isArray(response.data.data)) {\n                    setConversations(response.data.data);\n                    console.log(\"\\uD83D\\uDCAC ChatWidget - Set customer conversations:\", response.data.data.length);\n                } else {\n                    console.log(\"\\uD83D\\uDCAC ChatWidget - No customer conversations found or invalid response\");\n                    setConversations([]);\n                }\n            }\n        } catch (error) {\n            console.error(\"\\uD83D\\uDCAC ChatWidget - Error loading conversations:\", error);\n            console.error(\"\\uD83D\\uDCAC ChatWidget - Error details:\", {\n                message: error.message,\n                status: error.response?.status,\n                statusText: error.response?.statusText,\n                data: error.response?.data\n            });\n            setConversations([]);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleConversationClick = async (conversation)=>{\n        console.log(\"\\uD83D\\uDCAC ChatWidget - Opening conversation inline:\", conversation.id, conversation);\n        // Set active conversation and load messages\n        setActiveConversation(conversation);\n        setMessages([]);\n        try {\n            // Load messages for this conversation\n            console.log(\"\\uD83D\\uDCAC ChatWidget - Loading messages for conversation:\", conversation.id);\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.apiClient.getMarketplaceMessages(conversation.id);\n            console.log(\"\\uD83D\\uDCAC ChatWidget - Messages API response:\", response);\n            console.log(\"\\uD83D\\uDCAC ChatWidget - Messages response data:\", response.data);\n            if (response.data?.success) {\n                let messagesData = response.data.data;\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Raw messages data:\", JSON.stringify(messagesData, null, 2));\n                // Handle different response formats\n                if (Array.isArray(messagesData)) {\n                    // Data is already an array\n                    setMessages(messagesData);\n                    console.log(\"\\uD83D\\uDCAC ChatWidget - Loaded messages (array):\", messagesData.length, messagesData);\n                } else if (messagesData && typeof messagesData === \"object\") {\n                    // Data is an object, check if it has a messages property or convert to array\n                    if (messagesData.messages && Array.isArray(messagesData.messages)) {\n                        setMessages(messagesData.messages);\n                        console.log(\"\\uD83D\\uDCAC ChatWidget - Loaded messages (object.messages):\", messagesData.messages.length, messagesData.messages);\n                    } else if (messagesData.data && Array.isArray(messagesData.data)) {\n                        setMessages(messagesData.data);\n                        console.log(\"\\uD83D\\uDCAC ChatWidget - Loaded messages (object.data):\", messagesData.data.length, messagesData.data);\n                    } else {\n                        // Try to convert object to array or handle single message\n                        console.log(\"\\uD83D\\uDCAC ChatWidget - Received object messages data:\", messagesData);\n                        const messagesArray = Object.values(messagesData).filter((item)=>item && typeof item === \"object\" && \"id\" in item);\n                        setMessages(messagesArray);\n                        console.log(\"\\uD83D\\uDCAC ChatWidget - Converted messages object to array:\", messagesArray.length, messagesArray);\n                    }\n                } else {\n                    console.log(\"\\uD83D\\uDCAC ChatWidget - No messages data found\");\n                    setMessages([]);\n                }\n            } else {\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Messages API response not successful\");\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Response structure:\", {\n                    hasSuccess: \"success\" in (response.data || {}),\n                    successValue: response.data?.success,\n                    hasData: \"data\" in (response.data || {}),\n                    dataType: typeof response.data?.data,\n                    isArray: Array.isArray(response.data?.data),\n                    dataContent: response.data?.data\n                });\n                setMessages([]);\n            }\n            // Auto-scroll to bottom after loading messages\n            setTimeout(()=>scrollToBottom(), 200);\n            // Mark conversation as read after loading messages\n            markConversationAsRead(conversation.id);\n            // Initialize socket for real-time updates if not already connected\n            if (!socket) {\n                initializeSocket(conversation.id);\n            }\n        } catch (error) {\n            console.error(\"\\uD83D\\uDCAC ChatWidget - Error loading messages:\", error);\n            console.error(\"\\uD83D\\uDCAC ChatWidget - Error details:\", {\n                message: error.message,\n                status: error.response?.status,\n                statusText: error.response?.statusText,\n                data: error.response?.data\n            });\n        }\n    };\n    const initializeSocket = (conversationId)=>{\n        try {\n            const apiUrl = \"http://192.168.0.129:3000/api/v1\" || 0;\n            const socketUrl = apiUrl.replace(\"/api/v1\", \"\");\n            console.log(\"\\uD83D\\uDCAC ChatWidget - Connecting to socket for conversation:\", conversationId);\n            const { io } = __webpack_require__(/*! socket.io-client */ \"(ssr)/./node_modules/socket.io-client/build/cjs/index.js\");\n            const socketInstance = io(socketUrl, {\n                transports: [\n                    \"websocket\",\n                    \"polling\"\n                ],\n                timeout: 10000,\n                reconnection: true\n            });\n            socketInstance.on(\"connect\", ()=>{\n                console.log(\"✅ ChatWidget connected to WebSocket\");\n                setSocket(socketInstance);\n                socketInstance.emit(\"join-conversation\", conversationId);\n            });\n            socketInstance.on(\"new_message\", (data)=>{\n                console.log(\"\\uD83D\\uDCAC ChatWidget received new message:\", data);\n                if (data.conversationId === conversationId && data.messageId) {\n                    const newMessage = {\n                        id: data.messageId,\n                        conversationId: data.conversationId,\n                        senderType: data.senderType,\n                        senderName: data.senderName,\n                        message: data.message,\n                        timestamp: data.timestamp,\n                        sent_at: data.timestamp // Add sent_at for consistency\n                    };\n                    setMessages((prev)=>{\n                        const exists = prev.some((msg)=>msg.id === data.messageId);\n                        if (!exists) {\n                            console.log(\"\\uD83D\\uDCAC Adding new message to chat:\", newMessage);\n                            return [\n                                ...prev,\n                                newMessage\n                            ];\n                        }\n                        return prev;\n                    });\n                }\n                // Also refresh conversations list to update last message\n                loadConversations();\n            });\n        } catch (error) {\n            console.error(\"\\uD83D\\uDCAC ChatWidget - Socket initialization error:\", error);\n        }\n    };\n    const sendMessage = async ()=>{\n        if (!newMessage.trim() || sending || !activeConversation) return;\n        setSending(true);\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.apiClient.sendMessage({\n                conversationId: activeConversation.id,\n                senderType: user?.role === \"service_provider\" || user?.role === \"tradesperson\" ? \"provider\" : \"customer\",\n                senderName: `${user?.firstName} ${user?.lastName}`.trim() || \"User\",\n                message: newMessage\n            });\n            if (response.data?.success) {\n                const newMsg = {\n                    id: response.data.data?.messageId || Date.now().toString(),\n                    conversationId: activeConversation.id,\n                    senderType: user?.role === \"service_provider\" || user?.role === \"tradesperson\" ? \"provider\" : \"customer\",\n                    senderName: `${user?.firstName} ${user?.lastName}`.trim() || \"User\",\n                    message: newMessage,\n                    timestamp: new Date().toISOString()\n                };\n                setMessages((prev)=>[\n                        ...prev,\n                        newMsg\n                    ]);\n                setNewMessage(\"\");\n                // Auto-scroll after sending message\n                setTimeout(()=>scrollToBottom(), 100);\n            }\n        } catch (error) {\n            console.error(\"\\uD83D\\uDCAC ChatWidget - Error sending message:\", error);\n        } finally{\n            setSending(false);\n        }\n    };\n    const markConversationAsRead = async (conversationId)=>{\n        try {\n            console.log(\"\\uD83D\\uDCD6 Marking conversation as read:\", conversationId);\n            const senderType = user?.role === \"service_provider\" || user?.role === \"tradesperson\" ? \"provider\" : \"customer\";\n            await _lib_api__WEBPACK_IMPORTED_MODULE_4__.apiClient.markMarketplaceAsRead(conversationId, senderType);\n            // Update the conversation in the local state to remove unread count\n            setConversations((prev)=>prev.map((conv)=>conv.id === conversationId ? {\n                        ...conv,\n                        unreadCount: 0\n                    } : conv));\n            console.log(\"✅ Conversation marked as read\");\n        } catch (error) {\n            console.error(\"❌ Failed to mark conversation as read:\", error);\n        }\n    };\n    const scrollToBottom = ()=>{\n        messagesEndRef.current?.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    // Auto-scroll when messages change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (messages.length > 0) {\n            setTimeout(()=>scrollToBottom(), 100);\n        }\n    }, [\n        messages\n    ]);\n    const goBackToConversations = ()=>{\n        setActiveConversation(null);\n        setMessages([]);\n        setNewMessage(\"\");\n        if (socket) {\n            socket.disconnect();\n            setSocket(null);\n        }\n    };\n    const formatMessageTime = (timestamp)=>{\n        if (!timestamp) return \"неизвестно\";\n        let date;\n        // Handle different timestamp formats\n        if (typeof timestamp === \"number\") {\n            date = new Date(timestamp > 1000000000000 ? timestamp : timestamp * 1000);\n        } else if (typeof timestamp === \"string\") {\n            // SQLite datetime format: \"2024-01-15 10:30:45\" or ISO format\n            if (timestamp.includes(\" \") && !timestamp.includes(\"T\")) {\n                // SQLite format: convert to ISO format\n                const isoTimestamp = timestamp.replace(\" \", \"T\") + \"Z\";\n                date = new Date(isoTimestamp);\n            } else {\n                date = new Date(timestamp);\n            }\n        } else {\n            return \"неизвестно\";\n        }\n        // Check if date is valid\n        if (isNaN(date.getTime())) {\n            console.warn(\"Invalid message timestamp:\", timestamp);\n            return \"неизвестно\";\n        }\n        // Return time in HH:MM format\n        try {\n            return date.toLocaleTimeString(\"bg-BG\", {\n                hour: \"2-digit\",\n                minute: \"2-digit\",\n                hour12: false\n            });\n        } catch (e) {\n            return date.toLocaleTimeString();\n        }\n    };\n    const formatLastActivity = (timestamp)=>{\n        if (!timestamp) return \"неизвестно\";\n        let date;\n        // Handle different timestamp formats (same logic as formatMessageTime)\n        if (typeof timestamp === \"number\") {\n            date = new Date(timestamp > 1000000000000 ? timestamp : timestamp * 1000);\n        } else if (typeof timestamp === \"string\") {\n            // SQLite datetime format: \"2024-01-15 10:30:45\" or ISO format\n            if (timestamp.includes(\" \") && !timestamp.includes(\"T\")) {\n                // SQLite format: convert to ISO format\n                const isoTimestamp = timestamp.replace(\" \", \"T\") + \"Z\";\n                date = new Date(isoTimestamp);\n            } else {\n                date = new Date(timestamp);\n            }\n        } else {\n            return \"неизвестно\";\n        }\n        // Check if date is valid\n        if (isNaN(date.getTime())) {\n            console.warn(\"Invalid last activity timestamp:\", timestamp);\n            return \"неизвестно\";\n        }\n        const now = new Date();\n        const diffMs = now.getTime() - date.getTime();\n        const diffDays = Math.floor(diffMs / 86400000);\n        // Show actual time for today's messages, date for older ones\n        if (diffDays === 0) {\n            // Today - show time like \"14:30\"\n            try {\n                return date.toLocaleTimeString(\"bg-BG\", {\n                    hour: \"2-digit\",\n                    minute: \"2-digit\",\n                    hour12: false\n                });\n            } catch (e) {\n                return date.toLocaleTimeString();\n            }\n        } else if (diffDays === 1) {\n            // Yesterday - show \"вчера\"\n            return \"вчера\";\n        } else if (diffDays < 7) {\n            // This week - show day name\n            try {\n                return date.toLocaleDateString(\"bg-BG\", {\n                    weekday: \"short\"\n                });\n            } catch (e) {\n                return `${diffDays}д`;\n            }\n        } else {\n            // Older - show date\n            try {\n                return date.toLocaleDateString(\"bg-BG\", {\n                    day: \"2-digit\",\n                    month: \"2-digit\"\n                });\n            } catch (e) {\n                return date.toLocaleDateString();\n            }\n        }\n    };\n    // Wait for authentication to load\n    if (isLoading) {\n        console.log(\"\\uD83D\\uDCAC ChatWidget - Auth still loading, waiting...\");\n        return null;\n    }\n    // Don't show widget on authentication pages\n    if (pathname?.startsWith(\"/auth/\")) {\n        console.log(\"\\uD83D\\uDCAC ChatWidget - Not showing on auth page:\", pathname);\n        return null;\n    }\n    // Don't show widget if user is not authenticated\n    if (!isAuthenticated || !user) {\n        console.log(\"\\uD83D\\uDCAC ChatWidget - Not showing widget: user not authenticated\", {\n            isAuthenticated,\n            user: !!user\n        });\n        // Temporary: Show a login prompt widget for non-authenticated users\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n            onClick: ()=>window.location.href = \"/auth/login\",\n            className: \"fixed bottom-6 right-6 bg-gray-600 hover:bg-gray-700 text-white p-4 rounded-full shadow-lg transition-all duration-200 z-[9999] relative\",\n            \"aria-label\": \"Влезте за чат\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                    className: \"w-6 h-6\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: 2,\n                        d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                        lineNumber: 490,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                    lineNumber: 489,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute -top-2 -right-2 bg-blue-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold\",\n                    children: \"!\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                    lineNumber: 492,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n            lineNumber: 484,\n            columnNumber: 7\n        }, this);\n    }\n    console.log(\"\\uD83D\\uDCAC ChatWidget - Rendering widget for user:\", user?.role, \"isOpen:\", isOpen);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            !isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: ()=>setIsOpen(true),\n                className: \"fixed bottom-6 right-6 bg-purple-600 hover:bg-purple-700 text-white p-4 rounded-full shadow-lg transition-all duration-200 z-[9999] relative border-4 border-white\",\n                \"aria-label\": \"Отвори чат\",\n                style: {\n                    position: \"fixed\",\n                    bottom: \"24px\",\n                    right: \"24px\",\n                    zIndex: 9999,\n                    width: \"64px\",\n                    height: \"64px\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        className: \"w-6 h-6\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        viewBox: \"0 0 24 24\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\",\n                            strokeWidth: 2,\n                            d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                            lineNumber: 519,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                        lineNumber: 518,\n                        columnNumber: 11\n                    }, this),\n                    unreadTotal > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold\",\n                        children: unreadTotal > 99 ? \"99+\" : unreadTotal\n                    }, void 0, false, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                        lineNumber: 524,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                lineNumber: 505,\n                columnNumber: 9\n            }, this),\n            isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `fixed bottom-6 right-6 bg-white rounded-lg shadow-xl border z-[9999] transition-all duration-200 ${isMinimized ? \"w-80 h-12\" : \"w-80 h-96\"}`,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between p-4 border-b bg-purple-600 text-white rounded-t-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-2\",\n                                children: [\n                                    activeConversation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: goBackToConversations,\n                                        className: \"text-white hover:text-gray-200 mr-2\",\n                                        children: \"←\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 540,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-2 h-2 bg-green-400 rounded-full\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 547,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-medium\",\n                                        children: activeConversation ? activeConversation.customerName : \"Съобщения\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 548,\n                                        columnNumber: 15\n                                    }, this),\n                                    !activeConversation && unreadTotal > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"bg-red-500 text-white text-xs px-2 py-1 rounded-full\",\n                                        children: unreadTotal\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 552,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                lineNumber: 538,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setIsMinimized(!isMinimized),\n                                        className: \"text-white hover:text-gray-200 transition-colors\",\n                                        \"aria-label\": isMinimized ? \"Разшири\" : \"Минимизирай\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-4 h-4\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            children: isMinimized ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M5 15l7-7 7 7\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 565,\n                                                columnNumber: 21\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M19 9l-7 7-7-7\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 567,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 563,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 558,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setIsOpen(false),\n                                        className: \"text-white hover:text-gray-200 transition-colors\",\n                                        \"aria-label\": \"Затвори чат\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-4 h-4\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M6 18L18 6M6 6l12 12\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 577,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 576,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 571,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                lineNumber: 557,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                        lineNumber: 537,\n                        columnNumber: 11\n                    }, this),\n                    !isMinimized && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col h-80\",\n                        children: activeConversation ? /* Active Chat View */ /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 overflow-y-auto p-3 space-y-2\",\n                                    children: [\n                                        messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center text-gray-500 py-8\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-2xl mb-2\",\n                                                    children: \"\\uD83D\\uDCAC\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 593,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm\",\n                                                    children: \"Няма съобщения\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 594,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 592,\n                                            columnNumber: 23\n                                        }, this) : messages.map((msg)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `flex ${user?.role === \"service_provider\" || user?.role === \"tradesperson\" ? msg.senderType === \"provider\" ? \"justify-end\" : \"justify-start\" : msg.senderType === \"customer\" ? \"justify-end\" : \"justify-start\"}`,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: `max-w-xs px-3 py-2 rounded-lg text-sm ${user?.role === \"service_provider\" || user?.role === \"tradesperson\" ? msg.senderType === \"provider\" ? \"bg-purple-600 text-white\" : \"bg-gray-200 text-gray-800\" : msg.senderType === \"customer\" ? \"bg-purple-600 text-white\" : \"bg-gray-200 text-gray-800\"}`,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: msg.message\n                                                        }, void 0, false, {\n                                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                            lineNumber: 613,\n                                                            columnNumber: 31\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: `text-xs mt-1 ${user?.role === \"service_provider\" || user?.role === \"tradesperson\" ? msg.senderType === \"provider\" ? \"text-purple-200\" : \"text-gray-500\" : msg.senderType === \"customer\" ? \"text-purple-200\" : \"text-gray-500\"}`,\n                                                            children: formatMessageTime(msg.sent_at || msg.timestamp)\n                                                        }, void 0, false, {\n                                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                            lineNumber: 614,\n                                                            columnNumber: 31\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 606,\n                                                    columnNumber: 29\n                                                }, this)\n                                            }, msg.id, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 598,\n                                                columnNumber: 27\n                                            }, this)),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            ref: messagesEndRef\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 626,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 590,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border-t p-3\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex space-x-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: newMessage,\n                                                onChange: (e)=>setNewMessage(e.target.value),\n                                                onKeyPress: (e)=>e.key === \"Enter\" && sendMessage(),\n                                                placeholder: \"Напишете съобщение...\",\n                                                className: \"flex-1 border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500\",\n                                                disabled: sending\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 632,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: sendMessage,\n                                                disabled: !newMessage.trim() || sending,\n                                                className: \"bg-purple-600 text-white px-3 py-2 rounded-lg disabled:opacity-50 text-sm hover:bg-purple-700\",\n                                                children: sending ? \"...\" : \"\\uD83D\\uDCE4\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 641,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 631,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 630,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true) : /* Conversations List View */ /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-2\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 657,\n                                                columnNumber: 25\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-500\",\n                                                children: \"Зареждане...\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 658,\n                                                columnNumber: 25\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 656,\n                                        columnNumber: 23\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 655,\n                                    columnNumber: 21\n                                }, this) : conversations.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 flex items-center justify-center text-gray-500\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-4xl mb-2\",\n                                                children: \"\\uD83D\\uDCAC\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 664,\n                                                columnNumber: 25\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm\",\n                                                children: [\n                                                    \"Здравейте, \",\n                                                    user?.firstName,\n                                                    \"!\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 665,\n                                                columnNumber: 25\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-gray-400 mt-1\",\n                                                children: user?.role === \"service_provider\" || user?.role === \"tradesperson\" ? \"Няма активни разговори с клиенти\" : \"Няма активни разговори\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 666,\n                                                columnNumber: 25\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 663,\n                                        columnNumber: 23\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 662,\n                                    columnNumber: 21\n                                }, this) : /* Conversations List */ /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 overflow-y-auto\",\n                                    children: conversations.map((conversation)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            onClick: ()=>handleConversationClick(conversation),\n                                            className: \"flex items-center space-x-3 p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-purple-600 font-medium text-sm\",\n                                                        children: conversation.customerName?.charAt(0) || \"C\"\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                        lineNumber: 684,\n                                                        columnNumber: 31\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 683,\n                                                    columnNumber: 29\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex-1 min-w-0\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center justify-between\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-sm font-medium text-gray-900 truncate\",\n                                                                    children: conversation.customerName || \"Неизвестен клиент\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                                    lineNumber: 690,\n                                                                    columnNumber: 33\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center space-x-2\",\n                                                                    children: [\n                                                                        conversation.unreadCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-600 rounded-full\",\n                                                                            children: conversation.unreadCount\n                                                                        }, void 0, false, {\n                                                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                                            lineNumber: 695,\n                                                                            columnNumber: 37\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-xs text-gray-500\",\n                                                                            children: formatLastActivity(conversation.lastActivity)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                                            lineNumber: 699,\n                                                                            columnNumber: 35\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                                    lineNumber: 693,\n                                                                    columnNumber: 33\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                            lineNumber: 689,\n                                                            columnNumber: 31\n                                                        }, this),\n                                                        conversation.lastMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-sm text-gray-500 truncate mt-1\",\n                                                            children: conversation.lastMessage\n                                                        }, void 0, false, {\n                                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                            lineNumber: 705,\n                                                            columnNumber: 33\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 688,\n                                                    columnNumber: 29\n                                                }, this)\n                                            ]\n                                        }, conversation.id, true, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 678,\n                                            columnNumber: 27\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 676,\n                                    columnNumber: 21\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border-t p-3 space-y-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>window.open(\"/search\", \"_blank\"),\n                                            className: \"w-full text-left text-sm text-purple-600 hover:text-purple-800 transition-colors\",\n                                            children: \"\\uD83D\\uDD0D Търси специалисти\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 717,\n                                            columnNumber: 21\n                                        }, this),\n                                        (user?.role === \"service_provider\" || user?.role === \"tradesperson\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>window.open(\"/dashboard\", \"_blank\"),\n                                                    className: \"w-full text-left text-sm text-purple-600 hover:text-purple-800 transition-colors\",\n                                                    children: \"\\uD83D\\uDCCA Табло за управление\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 725,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>window.open(\"/dashboard?view=assigned\", \"_blank\"),\n                                                    className: \"w-full text-left text-sm text-purple-600 hover:text-purple-800 transition-colors\",\n                                                    children: \"\\uD83D\\uDCCB Моите заявки\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 731,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 716,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                        lineNumber: 585,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                lineNumber: 533,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Vzs0REFBSVgsV0FBVTs7OEVBQ2IsOERBQUNxQjtvRUFBRXJCLFdBQVU7OEVBQ1YzRSxhQUFhK0YsWUFBWSxJQUFJOzs7Ozs7OEVBRWhDLDhEQUFDVDtvRUFBSVgsV0FBVTs7d0VBQ1ozRSxhQUFhaEMsV0FBVyxHQUFHLG1CQUMxQiw4REFBQzhIOzRFQUFLbkIsV0FBVTtzRkFDYjNFLGFBQWFoQyxXQUFXOzs7Ozs7c0ZBRzdCLDhEQUFDOEg7NEVBQUtuQixXQUFVO3NGQUNiZixtQkFBbUI1RCxhQUFhbkIsWUFBWTs7Ozs7Ozs7Ozs7Ozs7Ozs7O3dEQUlsRG1CLGFBQWE0RyxXQUFXLGtCQUN2Qiw4REFBQ1o7NERBQUVyQixXQUFVO3NFQUNWM0UsYUFBYTRHLFdBQVc7Ozs7Ozs7Ozs7Ozs7MkNBM0IxQjVHLGFBQWEvQyxFQUFFOzs7Ozs7Ozs7OzhDQXFDOUIsOERBQUNxSTtvQ0FBSVgsV0FBVTs7c0RBQ2IsOERBQUNMOzRDQUNDQyxTQUFTLElBQU1DLE9BQU9xQyxJQUFJLENBQUMsV0FBVzs0Q0FDdENsQyxXQUFVO3NEQUNYOzs7Ozs7d0NBR0NqSSxDQUFBQSxNQUFNUyxTQUFTLHNCQUFzQlQsTUFBTVMsU0FBUyxjQUFhLG1CQUNqRTs7OERBQ0UsOERBQUNtSDtvREFDQ0MsU0FBUyxJQUFNQyxPQUFPcUMsSUFBSSxDQUFDLGNBQWM7b0RBQ3pDbEMsV0FBVTs4REFDWDs7Ozs7OzhEQUdELDhEQUFDTDtvREFDQ0MsU0FBUyxJQUFNQyxPQUFPcUMsSUFBSSxDQUFDLDRCQUE0QjtvREFDdkRsQyxXQUFVOzhEQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL3NlcnZpY2V0ZXh0cHJvLW1hcmtldHBsYWNlLy4vc3JjL2NvbXBvbmVudHMvQ2hhdFdpZGdldC50c3g/N2Y2YiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VQYXRobmFtZSB9IGZyb20gJ25leHQvbmF2aWdhdGlvbidcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tICdAL2NvbnRleHRzL0F1dGhDb250ZXh0J1xuaW1wb3J0IHsgYXBpQ2xpZW50IH0gZnJvbSAnQC9saWIvYXBpJ1xuXG5pbnRlcmZhY2UgQ29udmVyc2F0aW9uIHtcbiAgaWQ6IHN0cmluZ1xuICBjdXN0b21lck5hbWU6IHN0cmluZ1xuICBzZXJ2aWNlUHJvdmlkZXJOYW1lOiBzdHJpbmdcbiAgbGFzdE1lc3NhZ2U/OiBzdHJpbmdcbiAgbGFzdEFjdGl2aXR5OiBzdHJpbmdcbiAgdW5yZWFkQ291bnQ6IG51bWJlclxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGF0V2lkZ2V0KCkge1xuICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtpc01pbmltaXplZCwgc2V0SXNNaW5pbWl6ZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtjb252ZXJzYXRpb25zLCBzZXRDb252ZXJzYXRpb25zXSA9IHVzZVN0YXRlPENvbnZlcnNhdGlvbltdPihbXSlcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFt1bnJlYWRUb3RhbCwgc2V0VW5yZWFkVG90YWxdID0gdXNlU3RhdGUoMClcbiAgY29uc3QgW2FjdGl2ZUNvbnZlcnNhdGlvbiwgc2V0QWN0aXZlQ29udmVyc2F0aW9uXSA9IHVzZVN0YXRlPENvbnZlcnNhdGlvbiB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGU8YW55W10+KFtdKVxuICBjb25zdCBbbmV3TWVzc2FnZSwgc2V0TmV3TWVzc2FnZV0gPSB1c2VTdGF0ZSgnJylcbiAgY29uc3QgW3NlbmRpbmcsIHNldFNlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtzb2NrZXQsIHNldFNvY2tldF0gPSB1c2VTdGF0ZTxhbnk+KG51bGwpXG4gIGNvbnN0IHsgdXNlciwgaXNBdXRoZW50aWNhdGVkLCBpc0xvYWRpbmcgfSA9IHVzZUF1dGgoKVxuICBjb25zdCBtZXNzYWdlc0VuZFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcbiAgY29uc3QgcGF0aG5hbWUgPSB1c2VQYXRobmFtZSgpXG5cbiAgLy8gRGVidWcgYXV0aGVudGljYXRpb24gc3RhdGVcbiAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIEF1dGggRGVidWc6Jywge1xuICAgIGlzQXV0aGVudGljYXRlZCxcbiAgICBpc0xvYWRpbmcsXG4gICAgdXNlcjogdXNlciA/IHsgaWQ6IHVzZXIuaWQsIGVtYWlsOiB1c2VyLmVtYWlsLCByb2xlOiB1c2VyLnJvbGUgfSA6IG51bGwsXG4gICAgaGFzQXV0aFRva2VuOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/ICEhbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKSA6ICdTU1InLFxuICAgIGhhc1VzZXJEYXRhOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/ICEhbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfZGF0YScpIDogJ1NTUidcbiAgfSlcblxuICAvLyBMb2FkIGNvbnZlcnNhdGlvbnMgd2hlbiB3aWRnZXQgb3BlbnMgYW5kIHNldCB1cCBnbG9iYWwgV2ViU29ja2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzT3BlbiAmJiBpc0F1dGhlbnRpY2F0ZWQgJiYgdXNlcikge1xuICAgICAgbG9hZENvbnZlcnNhdGlvbnMoKVxuICAgICAgXG4gICAgICAvLyBTZXQgdXAgcGVyaW9kaWMgcmVmcmVzaCBldmVyeSAxMCBzZWNvbmRzIHdoZW4gd2lkZ2V0IGlzIG9wZW4gKG1vcmUgZnJlcXVlbnQgdG8gY2F0Y2ggY3VzdG9tZXIgbmFtZSB1cGRhdGVzKVxuICAgICAgY29uc3QgcmVmcmVzaEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBsb2FkQ29udmVyc2F0aW9ucygpXG4gICAgICB9LCAxMDAwMClcbiAgICAgIFxuICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwocmVmcmVzaEludGVydmFsKVxuICAgIH1cbiAgfSwgW2lzT3BlbiwgaXNBdXRoZW50aWNhdGVkLCB1c2VyXSlcblxuICAvLyBDYWxjdWxhdGUgdG90YWwgdW5yZWFkIG1lc3NhZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdG90YWwgPSBjb252ZXJzYXRpb25zLnJlZHVjZSgoc3VtLCBjb252KSA9PiBzdW0gKyBjb252LnVucmVhZENvdW50LCAwKVxuICAgIHNldFVucmVhZFRvdGFsKHRvdGFsKVxuICB9LCBbY29udmVyc2F0aW9uc10pXG5cbiAgY29uc3QgbG9hZENvbnZlcnNhdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF1c2VyKSByZXR1cm5cbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gTG9hZGluZyBjb252ZXJzYXRpb25zIGZvciB1c2VyOicsIHVzZXIucm9sZSwgdXNlci5pZClcbiAgICBzZXRMb2FkaW5nKHRydWUpXG4gICAgdHJ5IHtcbiAgICAgIC8vIEZvciBzZXJ2aWNlIHByb3ZpZGVycywgZ2V0IHRoZWlyIGNvbnZlcnNhdGlvbnNcbiAgICAgIGlmICh1c2VyLnJvbGUgPT09ICdzZXJ2aWNlX3Byb3ZpZGVyJyB8fCB1c2VyLnJvbGUgPT09ICd0cmFkZXNwZXJzb24nKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBMb2FkaW5nIHByb3ZpZGVyIGNvbnZlcnNhdGlvbnMgZm9yOicsIHVzZXIuaWQpXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBBUEkgVVJMIHdpbGwgYmU6JywgYC9jaGF0L3Byb3ZpZGVyLyR7dXNlci5pZH0vY29udmVyc2F0aW9uc2ApXG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5nZXRQcm92aWRlck1hcmtldHBsYWNlQ29udmVyc2F0aW9ucyh1c2VyLmlkKVxuICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gUHJvdmlkZXIgY29udmVyc2F0aW9ucyBmdWxsIHJlc3BvbnNlOicsIHJlc3BvbnNlKVxuICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gUHJvdmlkZXIgY29udmVyc2F0aW9ucyByZXNwb25zZS5kYXRhOicsIHJlc3BvbnNlLmRhdGEpXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBQcm92aWRlciBjb252ZXJzYXRpb25zIHJlc3BvbnNlLnN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpXG4gICAgICAgIFxuICAgICAgICBpZiAocmVzcG9uc2UuZGF0YT8uc3VjY2Vzcykge1xuICAgICAgICAgIGxldCBjb252ZXJzYXRpb25zRGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YVxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBSYXcgY29udmVyc2F0aW9ucyBkYXRhOicsIEpTT04uc3RyaW5naWZ5KGNvbnZlcnNhdGlvbnNEYXRhLCBudWxsLCAyKSlcbiAgICAgICAgICBcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBIYW5kbGUgZGlmZmVyZW50IHJlc3BvbnNlIGZvcm1hdHMgYW5kIG1hcCBmaWVsZHMgY29ycmVjdGx5XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29udmVyc2F0aW9uc0RhdGEpKSB7XG4gICAgICAgICAgICAvLyBEYXRhIGlzIGFscmVhZHkgYW4gYXJyYXkgLSBtYXAgdGhlIGZpZWxkc1xuICAgICAgICAgICAgY29uc3QgbWFwcGVkQ29udmVyc2F0aW9ucyA9IGNvbnZlcnNhdGlvbnNEYXRhLm1hcCgoY29udjogYW55KSA9PiAoe1xuICAgICAgICAgICAgICAuLi5jb252LFxuICAgICAgICAgICAgICBsYXN0QWN0aXZpdHk6IGNvbnYubGFzdF9tZXNzYWdlX2F0IHx8IGNvbnYuY3JlYXRlZF9hdCwgLy8gTWFwIGxhc3RfbWVzc2FnZV9hdCB0byBsYXN0QWN0aXZpdHlcbiAgICAgICAgICAgICAgdW5yZWFkQ291bnQ6IGNvbnYudW5yZWFkX2NvdW50IHx8IDBcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgc2V0Q29udmVyc2F0aW9ucyhtYXBwZWRDb252ZXJzYXRpb25zKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIFNldCBwcm92aWRlciBjb252ZXJzYXRpb25zIChhcnJheSk6JywgbWFwcGVkQ29udmVyc2F0aW9ucy5sZW5ndGgsIG1hcHBlZENvbnZlcnNhdGlvbnMpXG4gICAgICAgICAgfSBlbHNlIGlmIChjb252ZXJzYXRpb25zRGF0YSAmJiB0eXBlb2YgY29udmVyc2F0aW9uc0RhdGEgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAvLyBEYXRhIGlzIGFuIG9iamVjdCwgY2hlY2sgaWYgaXQgaGFzIGEgY29udmVyc2F0aW9ucyBwcm9wZXJ0eSBvciBjb252ZXJ0IHRvIGFycmF5XG4gICAgICAgICAgICBpZiAoY29udmVyc2F0aW9uc0RhdGEuY29udmVyc2F0aW9ucyAmJiBBcnJheS5pc0FycmF5KGNvbnZlcnNhdGlvbnNEYXRhLmNvbnZlcnNhdGlvbnMpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG1hcHBlZENvbnZlcnNhdGlvbnMgPSBjb252ZXJzYXRpb25zRGF0YS5jb252ZXJzYXRpb25zLm1hcCgoY29udjogYW55KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLmNvbnYsXG4gICAgICAgICAgICAgICAgbGFzdEFjdGl2aXR5OiBjb252Lmxhc3RfbWVzc2FnZV9hdCB8fCBjb252LmNyZWF0ZWRfYXQsIC8vIE1hcCBsYXN0X21lc3NhZ2VfYXQgdG8gbGFzdEFjdGl2aXR5XG4gICAgICAgICAgICAgICAgdW5yZWFkQ291bnQ6IGNvbnYudW5yZWFkX2NvdW50IHx8IDBcbiAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgIHNldENvbnZlcnNhdGlvbnMobWFwcGVkQ29udmVyc2F0aW9ucylcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIFNldCBwcm92aWRlciBjb252ZXJzYXRpb25zIChvYmplY3QuY29udmVyc2F0aW9ucyk6JywgbWFwcGVkQ29udmVyc2F0aW9ucy5sZW5ndGgsIG1hcHBlZENvbnZlcnNhdGlvbnMpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnZlcnNhdGlvbnNEYXRhLmRhdGEgJiYgQXJyYXkuaXNBcnJheShjb252ZXJzYXRpb25zRGF0YS5kYXRhKSkge1xuICAgICAgICAgICAgICBzZXRDb252ZXJzYXRpb25zKGNvbnZlcnNhdGlvbnNEYXRhLmRhdGEpXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBTZXQgcHJvdmlkZXIgY29udmVyc2F0aW9ucyAob2JqZWN0LmRhdGEpOicsIGNvbnZlcnNhdGlvbnNEYXRhLmRhdGEubGVuZ3RoLCBjb252ZXJzYXRpb25zRGF0YS5kYXRhKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gVHJ5IHRvIGNvbnZlcnQgb2JqZWN0IHRvIGFycmF5IG9yIGhhbmRsZSBzaW5nbGUgY29udmVyc2F0aW9uXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBSZWNlaXZlZCBvYmplY3QgZGF0YTonLCBjb252ZXJzYXRpb25zRGF0YSlcbiAgICAgICAgICAgICAgY29uc3QgY29udmVyc2F0aW9uc0FycmF5ID0gT2JqZWN0LnZhbHVlcyhjb252ZXJzYXRpb25zRGF0YSkuZmlsdGVyKGl0ZW0gPT4gXG4gICAgICAgICAgICAgICAgaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgJiYgJ2lkJyBpbiBpdGVtXG4gICAgICAgICAgICAgICkgYXMgQ29udmVyc2F0aW9uW11cbiAgICAgICAgICAgICAgc2V0Q29udmVyc2F0aW9ucyhjb252ZXJzYXRpb25zQXJyYXkpXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBDb252ZXJ0ZWQgb2JqZWN0IHRvIGFycmF5OicsIGNvbnZlcnNhdGlvbnNBcnJheS5sZW5ndGgsIGNvbnZlcnNhdGlvbnNBcnJheSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIE5vIGNvbnZlcnNhdGlvbnMgZGF0YSBmb3VuZCcpXG4gICAgICAgICAgICBzZXRDb252ZXJzYXRpb25zKFtdKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gQVBJIHJlc3BvbnNlIG5vdCBzdWNjZXNzZnVsJylcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gUmVzcG9uc2Ugc3RydWN0dXJlOicsIHtcbiAgICAgICAgICAgIGhhc1N1Y2Nlc3M6ICdzdWNjZXNzJyBpbiAocmVzcG9uc2UuZGF0YSB8fCB7fSksXG4gICAgICAgICAgICBzdWNjZXNzVmFsdWU6IHJlc3BvbnNlLmRhdGE/LnN1Y2Nlc3MsXG4gICAgICAgICAgICBoYXNEYXRhOiAnZGF0YScgaW4gKHJlc3BvbnNlLmRhdGEgfHwge30pLFxuICAgICAgICAgICAgZGF0YVR5cGU6IHR5cGVvZiByZXNwb25zZS5kYXRhPy5kYXRhLFxuICAgICAgICAgICAgaXNBcnJheTogQXJyYXkuaXNBcnJheShyZXNwb25zZS5kYXRhPy5kYXRhKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgc2V0Q29udmVyc2F0aW9ucyhbXSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIGN1c3RvbWVycywgZ2V0IHRoZWlyIGNvbnZlcnNhdGlvbnNcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIExvYWRpbmcgY3VzdG9tZXIgY29udmVyc2F0aW9ucycpXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LmdldENvbnZlcnNhdGlvbnMoKVxuICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gQ3VzdG9tZXIgY29udmVyc2F0aW9ucyByZXNwb25zZTonLCByZXNwb25zZS5kYXRhKVxuICAgICAgICBpZiAocmVzcG9uc2UuZGF0YT8uc3VjY2VzcyAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlLmRhdGEuZGF0YSkpIHtcbiAgICAgICAgICBzZXRDb252ZXJzYXRpb25zKHJlc3BvbnNlLmRhdGEuZGF0YSlcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gU2V0IGN1c3RvbWVyIGNvbnZlcnNhdGlvbnM6JywgcmVzcG9uc2UuZGF0YS5kYXRhLmxlbmd0aClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gTm8gY3VzdG9tZXIgY29udmVyc2F0aW9ucyBmb3VuZCBvciBpbnZhbGlkIHJlc3BvbnNlJylcbiAgICAgICAgICBzZXRDb252ZXJzYXRpb25zKFtdKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcign8J+SrCBDaGF0V2lkZ2V0IC0gRXJyb3IgbG9hZGluZyBjb252ZXJzYXRpb25zOicsIGVycm9yKVxuICAgICAgY29uc29sZS5lcnJvcign8J+SrCBDaGF0V2lkZ2V0IC0gRXJyb3IgZGV0YWlsczonLCB7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIHN0YXR1czogZXJyb3IucmVzcG9uc2U/LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogZXJyb3IucmVzcG9uc2U/LnN0YXR1c1RleHQsXG4gICAgICAgIGRhdGE6IGVycm9yLnJlc3BvbnNlPy5kYXRhXG4gICAgICB9KVxuICAgICAgc2V0Q29udmVyc2F0aW9ucyhbXSlcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVDb252ZXJzYXRpb25DbGljayA9IGFzeW5jIChjb252ZXJzYXRpb246IENvbnZlcnNhdGlvbikgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBPcGVuaW5nIGNvbnZlcnNhdGlvbiBpbmxpbmU6JywgY29udmVyc2F0aW9uLmlkLCBjb252ZXJzYXRpb24pXG4gICAgXG4gICAgLy8gU2V0IGFjdGl2ZSBjb252ZXJzYXRpb24gYW5kIGxvYWQgbWVzc2FnZXNcbiAgICBzZXRBY3RpdmVDb252ZXJzYXRpb24oY29udmVyc2F0aW9uKVxuICAgIHNldE1lc3NhZ2VzKFtdKVxuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBMb2FkIG1lc3NhZ2VzIGZvciB0aGlzIGNvbnZlcnNhdGlvblxuICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIExvYWRpbmcgbWVzc2FnZXMgZm9yIGNvbnZlcnNhdGlvbjonLCBjb252ZXJzYXRpb24uaWQpXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5nZXRNYXJrZXRwbGFjZU1lc3NhZ2VzKGNvbnZlcnNhdGlvbi5pZClcbiAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBNZXNzYWdlcyBBUEkgcmVzcG9uc2U6JywgcmVzcG9uc2UpXG4gICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gTWVzc2FnZXMgcmVzcG9uc2UgZGF0YTonLCByZXNwb25zZS5kYXRhKVxuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2UuZGF0YT8uc3VjY2Vzcykge1xuICAgICAgICBsZXQgbWVzc2FnZXNEYXRhID0gcmVzcG9uc2UuZGF0YS5kYXRhXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBSYXcgbWVzc2FnZXMgZGF0YTonLCBKU09OLnN0cmluZ2lmeShtZXNzYWdlc0RhdGEsIG51bGwsIDIpKVxuICAgICAgICBcbiAgICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCByZXNwb25zZSBmb3JtYXRzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG1lc3NhZ2VzRGF0YSkpIHtcbiAgICAgICAgICAvLyBEYXRhIGlzIGFscmVhZHkgYW4gYXJyYXlcbiAgICAgICAgICBzZXRNZXNzYWdlcyhtZXNzYWdlc0RhdGEpXG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIExvYWRlZCBtZXNzYWdlcyAoYXJyYXkpOicsIG1lc3NhZ2VzRGF0YS5sZW5ndGgsIG1lc3NhZ2VzRGF0YSlcbiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlc0RhdGEgJiYgdHlwZW9mIG1lc3NhZ2VzRGF0YSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAvLyBEYXRhIGlzIGFuIG9iamVjdCwgY2hlY2sgaWYgaXQgaGFzIGEgbWVzc2FnZXMgcHJvcGVydHkgb3IgY29udmVydCB0byBhcnJheVxuICAgICAgICAgIGlmIChtZXNzYWdlc0RhdGEubWVzc2FnZXMgJiYgQXJyYXkuaXNBcnJheShtZXNzYWdlc0RhdGEubWVzc2FnZXMpKSB7XG4gICAgICAgICAgICBzZXRNZXNzYWdlcyhtZXNzYWdlc0RhdGEubWVzc2FnZXMpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gTG9hZGVkIG1lc3NhZ2VzIChvYmplY3QubWVzc2FnZXMpOicsIG1lc3NhZ2VzRGF0YS5tZXNzYWdlcy5sZW5ndGgsIG1lc3NhZ2VzRGF0YS5tZXNzYWdlcylcbiAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2VzRGF0YS5kYXRhICYmIEFycmF5LmlzQXJyYXkobWVzc2FnZXNEYXRhLmRhdGEpKSB7XG4gICAgICAgICAgICBzZXRNZXNzYWdlcyhtZXNzYWdlc0RhdGEuZGF0YSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBMb2FkZWQgbWVzc2FnZXMgKG9iamVjdC5kYXRhKTonLCBtZXNzYWdlc0RhdGEuZGF0YS5sZW5ndGgsIG1lc3NhZ2VzRGF0YS5kYXRhKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gY29udmVydCBvYmplY3QgdG8gYXJyYXkgb3IgaGFuZGxlIHNpbmdsZSBtZXNzYWdlXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gUmVjZWl2ZWQgb2JqZWN0IG1lc3NhZ2VzIGRhdGE6JywgbWVzc2FnZXNEYXRhKVxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZXNBcnJheSA9IE9iamVjdC52YWx1ZXMobWVzc2FnZXNEYXRhKS5maWx0ZXIoaXRlbSA9PiBcbiAgICAgICAgICAgICAgaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgJiYgJ2lkJyBpbiBpdGVtXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBzZXRNZXNzYWdlcyhtZXNzYWdlc0FycmF5KVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIENvbnZlcnRlZCBtZXNzYWdlcyBvYmplY3QgdG8gYXJyYXk6JywgbWVzc2FnZXNBcnJheS5sZW5ndGgsIG1lc3NhZ2VzQXJyYXkpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBObyBtZXNzYWdlcyBkYXRhIGZvdW5kJylcbiAgICAgICAgICBzZXRNZXNzYWdlcyhbXSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIE1lc3NhZ2VzIEFQSSByZXNwb25zZSBub3Qgc3VjY2Vzc2Z1bCcpXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBSZXNwb25zZSBzdHJ1Y3R1cmU6Jywge1xuICAgICAgICAgIGhhc1N1Y2Nlc3M6ICdzdWNjZXNzJyBpbiAocmVzcG9uc2UuZGF0YSB8fCB7fSksXG4gICAgICAgICAgc3VjY2Vzc1ZhbHVlOiByZXNwb25zZS5kYXRhPy5zdWNjZXNzLFxuICAgICAgICAgIGhhc0RhdGE6ICdkYXRhJyBpbiAocmVzcG9uc2UuZGF0YSB8fCB7fSksXG4gICAgICAgICAgZGF0YVR5cGU6IHR5cGVvZiByZXNwb25zZS5kYXRhPy5kYXRhLFxuICAgICAgICAgIGlzQXJyYXk6IEFycmF5LmlzQXJyYXkocmVzcG9uc2UuZGF0YT8uZGF0YSksXG4gICAgICAgICAgZGF0YUNvbnRlbnQ6IHJlc3BvbnNlLmRhdGE/LmRhdGFcbiAgICAgICAgfSlcbiAgICAgICAgc2V0TWVzc2FnZXMoW10pXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEF1dG8tc2Nyb2xsIHRvIGJvdHRvbSBhZnRlciBsb2FkaW5nIG1lc3NhZ2VzXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNjcm9sbFRvQm90dG9tKCksIDIwMClcbiAgICAgIFxuICAgICAgLy8gTWFyayBjb252ZXJzYXRpb24gYXMgcmVhZCBhZnRlciBsb2FkaW5nIG1lc3NhZ2VzXG4gICAgICBtYXJrQ29udmVyc2F0aW9uQXNSZWFkKGNvbnZlcnNhdGlvbi5pZClcbiAgICAgIFxuICAgICAgLy8gSW5pdGlhbGl6ZSBzb2NrZXQgZm9yIHJlYWwtdGltZSB1cGRhdGVzIGlmIG5vdCBhbHJlYWR5IGNvbm5lY3RlZFxuICAgICAgaWYgKCFzb2NrZXQpIHtcbiAgICAgICAgaW5pdGlhbGl6ZVNvY2tldChjb252ZXJzYXRpb24uaWQpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcign8J+SrCBDaGF0V2lkZ2V0IC0gRXJyb3IgbG9hZGluZyBtZXNzYWdlczonLCBlcnJvcilcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfkqwgQ2hhdFdpZGdldCAtIEVycm9yIGRldGFpbHM6Jywge1xuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICBzdGF0dXM6IGVycm9yLnJlc3BvbnNlPy5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IGVycm9yLnJlc3BvbnNlPy5zdGF0dXNUZXh0LFxuICAgICAgICBkYXRhOiBlcnJvci5yZXNwb25zZT8uZGF0YVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBpbml0aWFsaXplU29ja2V0ID0gKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXBpVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovLzE5Mi4xNjguMC4xMjk6MzAwMC9hcGkvdjEnXG4gICAgICBjb25zdCBzb2NrZXRVcmwgPSBhcGlVcmwucmVwbGFjZSgnL2FwaS92MScsICcnKVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gQ29ubmVjdGluZyB0byBzb2NrZXQgZm9yIGNvbnZlcnNhdGlvbjonLCBjb252ZXJzYXRpb25JZClcbiAgICAgIFxuICAgICAgY29uc3QgeyBpbyB9ID0gcmVxdWlyZSgnc29ja2V0LmlvLWNsaWVudCcpXG4gICAgICBjb25zdCBzb2NrZXRJbnN0YW5jZSA9IGlvKHNvY2tldFVybCwge1xuICAgICAgICB0cmFuc3BvcnRzOiBbJ3dlYnNvY2tldCcsICdwb2xsaW5nJ10sXG4gICAgICAgIHRpbWVvdXQ6IDEwMDAwLFxuICAgICAgICByZWNvbm5lY3Rpb246IHRydWVcbiAgICAgIH0pXG5cbiAgICAgIHNvY2tldEluc3RhbmNlLm9uKCdjb25uZWN0JywgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIENoYXRXaWRnZXQgY29ubmVjdGVkIHRvIFdlYlNvY2tldCcpXG4gICAgICAgIHNldFNvY2tldChzb2NrZXRJbnN0YW5jZSlcbiAgICAgICAgc29ja2V0SW5zdGFuY2UuZW1pdCgnam9pbi1jb252ZXJzYXRpb24nLCBjb252ZXJzYXRpb25JZClcbiAgICAgIH0pXG5cbiAgICAgIHNvY2tldEluc3RhbmNlLm9uKCduZXdfbWVzc2FnZScsIChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCByZWNlaXZlZCBuZXcgbWVzc2FnZTonLCBkYXRhKVxuICAgICAgICBpZiAoZGF0YS5jb252ZXJzYXRpb25JZCA9PT0gY29udmVyc2F0aW9uSWQgJiYgZGF0YS5tZXNzYWdlSWQpIHtcbiAgICAgICAgICBjb25zdCBuZXdNZXNzYWdlID0ge1xuICAgICAgICAgICAgaWQ6IGRhdGEubWVzc2FnZUlkLFxuICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IGRhdGEuY29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICBzZW5kZXJUeXBlOiBkYXRhLnNlbmRlclR5cGUsXG4gICAgICAgICAgICBzZW5kZXJOYW1lOiBkYXRhLnNlbmRlck5hbWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IGRhdGEudGltZXN0YW1wLFxuICAgICAgICAgICAgc2VudF9hdDogZGF0YS50aW1lc3RhbXAgLy8gQWRkIHNlbnRfYXQgZm9yIGNvbnNpc3RlbmN5XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RzID0gcHJldi5zb21lKG1zZyA9PiBtc2cuaWQgPT09IGRhdGEubWVzc2FnZUlkKVxuICAgICAgICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQWRkaW5nIG5ldyBtZXNzYWdlIHRvIGNoYXQ6JywgbmV3TWVzc2FnZSlcbiAgICAgICAgICAgICAgcmV0dXJuIFsuLi5wcmV2LCBuZXdNZXNzYWdlXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByZXZcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBBbHNvIHJlZnJlc2ggY29udmVyc2F0aW9ucyBsaXN0IHRvIHVwZGF0ZSBsYXN0IG1lc3NhZ2VcbiAgICAgICAgbG9hZENvbnZlcnNhdGlvbnMoKVxuICAgICAgfSlcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfwn5KsIENoYXRXaWRnZXQgLSBTb2NrZXQgaW5pdGlhbGl6YXRpb24gZXJyb3I6JywgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2VuZE1lc3NhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFuZXdNZXNzYWdlLnRyaW0oKSB8fCBzZW5kaW5nIHx8ICFhY3RpdmVDb252ZXJzYXRpb24pIHJldHVyblxuXG4gICAgc2V0U2VuZGluZyh0cnVlKVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5zZW5kTWVzc2FnZSh7XG4gICAgICAgIGNvbnZlcnNhdGlvbklkOiBhY3RpdmVDb252ZXJzYXRpb24uaWQsXG4gICAgICAgIHNlbmRlclR5cGU6IHVzZXI/LnJvbGUgPT09ICdzZXJ2aWNlX3Byb3ZpZGVyJyB8fCB1c2VyPy5yb2xlID09PSAndHJhZGVzcGVyc29uJyA/ICdwcm92aWRlcicgOiAnY3VzdG9tZXInLFxuICAgICAgICBzZW5kZXJOYW1lOiBgJHt1c2VyPy5maXJzdE5hbWV9ICR7dXNlcj8ubGFzdE5hbWV9YC50cmltKCkgfHwgJ1VzZXInLFxuICAgICAgICBtZXNzYWdlOiBuZXdNZXNzYWdlXG4gICAgICB9KVxuXG4gICAgICBpZiAocmVzcG9uc2UuZGF0YT8uc3VjY2Vzcykge1xuICAgICAgICBjb25zdCBuZXdNc2cgPSB7XG4gICAgICAgICAgaWQ6IHJlc3BvbnNlLmRhdGEuZGF0YT8ubWVzc2FnZUlkIHx8IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgICAgICBjb252ZXJzYXRpb25JZDogYWN0aXZlQ29udmVyc2F0aW9uLmlkLFxuICAgICAgICAgIHNlbmRlclR5cGU6IHVzZXI/LnJvbGUgPT09ICdzZXJ2aWNlX3Byb3ZpZGVyJyB8fCB1c2VyPy5yb2xlID09PSAndHJhZGVzcGVyc29uJyA/ICdwcm92aWRlcicgOiAnY3VzdG9tZXInLFxuICAgICAgICAgIHNlbmRlck5hbWU6IGAke3VzZXI/LmZpcnN0TmFtZX0gJHt1c2VyPy5sYXN0TmFtZX1gLnRyaW0oKSB8fCAnVXNlcicsXG4gICAgICAgICAgbWVzc2FnZTogbmV3TWVzc2FnZSxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdNc2ddKVxuICAgICAgICBzZXROZXdNZXNzYWdlKCcnKVxuICAgICAgICBcbiAgICAgICAgLy8gQXV0by1zY3JvbGwgYWZ0ZXIgc2VuZGluZyBtZXNzYWdlXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2Nyb2xsVG9Cb3R0b20oKSwgMTAwKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfwn5KsIENoYXRXaWRnZXQgLSBFcnJvciBzZW5kaW5nIG1lc3NhZ2U6JywgZXJyb3IpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFNlbmRpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgbWFya0NvbnZlcnNhdGlvbkFzUmVhZCA9IGFzeW5jIChjb252ZXJzYXRpb25JZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OWIE1hcmtpbmcgY29udmVyc2F0aW9uIGFzIHJlYWQ6JywgY29udmVyc2F0aW9uSWQpXG4gICAgICBjb25zdCBzZW5kZXJUeXBlID0gdXNlcj8ucm9sZSA9PT0gJ3NlcnZpY2VfcHJvdmlkZXInIHx8IHVzZXI/LnJvbGUgPT09ICd0cmFkZXNwZXJzb24nID8gJ3Byb3ZpZGVyJyA6ICdjdXN0b21lcidcbiAgICAgIFxuICAgICAgYXdhaXQgYXBpQ2xpZW50Lm1hcmtNYXJrZXRwbGFjZUFzUmVhZChjb252ZXJzYXRpb25JZCwgc2VuZGVyVHlwZSlcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHRoZSBjb252ZXJzYXRpb24gaW4gdGhlIGxvY2FsIHN0YXRlIHRvIHJlbW92ZSB1bnJlYWQgY291bnRcbiAgICAgIHNldENvbnZlcnNhdGlvbnMocHJldiA9PiBwcmV2Lm1hcChjb252ID0+IFxuICAgICAgICBjb252LmlkID09PSBjb252ZXJzYXRpb25JZCBcbiAgICAgICAgICA/IHsgLi4uY29udiwgdW5yZWFkQ291bnQ6IDAgfVxuICAgICAgICAgIDogY29udlxuICAgICAgKSlcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ+KchSBDb252ZXJzYXRpb24gbWFya2VkIGFzIHJlYWQnKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIG1hcmsgY29udmVyc2F0aW9uIGFzIHJlYWQ6JywgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoKSA9PiB7XG4gICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSlcbiAgfVxuXG4gIC8vIEF1dG8tc2Nyb2xsIHdoZW4gbWVzc2FnZXMgY2hhbmdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2Nyb2xsVG9Cb3R0b20oKSwgMTAwKVxuICAgIH1cbiAgfSwgW21lc3NhZ2VzXSlcblxuICBjb25zdCBnb0JhY2tUb0NvbnZlcnNhdGlvbnMgPSAoKSA9PiB7XG4gICAgc2V0QWN0aXZlQ29udmVyc2F0aW9uKG51bGwpXG4gICAgc2V0TWVzc2FnZXMoW10pXG4gICAgc2V0TmV3TWVzc2FnZSgnJylcbiAgICBpZiAoc29ja2V0KSB7XG4gICAgICBzb2NrZXQuZGlzY29ubmVjdCgpXG4gICAgICBzZXRTb2NrZXQobnVsbClcbiAgICB9XG4gIH1cblxuICBjb25zdCBmb3JtYXRNZXNzYWdlVGltZSA9ICh0aW1lc3RhbXA6IHN0cmluZyB8IG51bWJlcikgPT4ge1xuICAgIGlmICghdGltZXN0YW1wKSByZXR1cm4gJ9C90LXQuNC30LLQtdGB0YLQvdC+J1xuICAgIFxuICAgIGxldCBkYXRlOiBEYXRlXG4gICAgXG4gICAgLy8gSGFuZGxlIGRpZmZlcmVudCB0aW1lc3RhbXAgZm9ybWF0c1xuICAgIGlmICh0eXBlb2YgdGltZXN0YW1wID09PSAnbnVtYmVyJykge1xuICAgICAgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCA+IDEwMDAwMDAwMDAwMDAgPyB0aW1lc3RhbXAgOiB0aW1lc3RhbXAgKiAxMDAwKVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRpbWVzdGFtcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIFNRTGl0ZSBkYXRldGltZSBmb3JtYXQ6IFwiMjAyNC0wMS0xNSAxMDozMDo0NVwiIG9yIElTTyBmb3JtYXRcbiAgICAgIGlmICh0aW1lc3RhbXAuaW5jbHVkZXMoJyAnKSAmJiAhdGltZXN0YW1wLmluY2x1ZGVzKCdUJykpIHtcbiAgICAgICAgLy8gU1FMaXRlIGZvcm1hdDogY29udmVydCB0byBJU08gZm9ybWF0XG4gICAgICAgIGNvbnN0IGlzb1RpbWVzdGFtcCA9IHRpbWVzdGFtcC5yZXBsYWNlKCcgJywgJ1QnKSArICdaJ1xuICAgICAgICBkYXRlID0gbmV3IERhdGUoaXNvVGltZXN0YW1wKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICfQvdC10LjQt9Cy0LXRgdGC0L3QvidcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgZGF0ZSBpcyB2YWxpZFxuICAgIGlmIChpc05hTihkYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgIGNvbnNvbGUud2FybignSW52YWxpZCBtZXNzYWdlIHRpbWVzdGFtcDonLCB0aW1lc3RhbXApXG4gICAgICByZXR1cm4gJ9C90LXQuNC30LLQtdGB0YLQvdC+J1xuICAgIH1cbiAgICBcbiAgICAvLyBSZXR1cm4gdGltZSBpbiBISDpNTSBmb3JtYXRcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCdiZy1CRycsIHsgXG4gICAgICAgIGhvdXI6ICcyLWRpZ2l0JywgXG4gICAgICAgIG1pbnV0ZTogJzItZGlnaXQnLFxuICAgICAgICBob3VyMTI6IGZhbHNlXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlVGltZVN0cmluZygpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZm9ybWF0TGFzdEFjdGl2aXR5ID0gKHRpbWVzdGFtcDogc3RyaW5nIHwgbnVtYmVyKSA9PiB7XG4gICAgaWYgKCF0aW1lc3RhbXApIHJldHVybiAn0L3QtdC40LfQstC10YHRgtC90L4nXG4gICAgXG4gICAgbGV0IGRhdGU6IERhdGVcbiAgICBcbiAgICAvLyBIYW5kbGUgZGlmZmVyZW50IHRpbWVzdGFtcCBmb3JtYXRzIChzYW1lIGxvZ2ljIGFzIGZvcm1hdE1lc3NhZ2VUaW1lKVxuICAgIGlmICh0eXBlb2YgdGltZXN0YW1wID09PSAnbnVtYmVyJykge1xuICAgICAgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCA+IDEwMDAwMDAwMDAwMDAgPyB0aW1lc3RhbXAgOiB0aW1lc3RhbXAgKiAxMDAwKVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRpbWVzdGFtcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIFNRTGl0ZSBkYXRldGltZSBmb3JtYXQ6IFwiMjAyNC0wMS0xNSAxMDozMDo0NVwiIG9yIElTTyBmb3JtYXRcbiAgICAgIGlmICh0aW1lc3RhbXAuaW5jbHVkZXMoJyAnKSAmJiAhdGltZXN0YW1wLmluY2x1ZGVzKCdUJykpIHtcbiAgICAgICAgLy8gU1FMaXRlIGZvcm1hdDogY29udmVydCB0byBJU08gZm9ybWF0XG4gICAgICAgIGNvbnN0IGlzb1RpbWVzdGFtcCA9IHRpbWVzdGFtcC5yZXBsYWNlKCcgJywgJ1QnKSArICdaJ1xuICAgICAgICBkYXRlID0gbmV3IERhdGUoaXNvVGltZXN0YW1wKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHRpbWVzdGFtcClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICfQvdC10LjQt9Cy0LXRgdGC0L3QvidcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgZGF0ZSBpcyB2YWxpZFxuICAgIGlmIChpc05hTihkYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgIGNvbnNvbGUud2FybignSW52YWxpZCBsYXN0IGFjdGl2aXR5IHRpbWVzdGFtcDonLCB0aW1lc3RhbXApXG4gICAgICByZXR1cm4gJ9C90LXQuNC30LLQtdGB0YLQvdC+J1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXG4gICAgY29uc3QgZGlmZk1zID0gbm93LmdldFRpbWUoKSAtIGRhdGUuZ2V0VGltZSgpXG4gICAgY29uc3QgZGlmZkRheXMgPSBNYXRoLmZsb29yKGRpZmZNcyAvIDg2NDAwMDAwKVxuXG4gICAgLy8gU2hvdyBhY3R1YWwgdGltZSBmb3IgdG9kYXkncyBtZXNzYWdlcywgZGF0ZSBmb3Igb2xkZXIgb25lc1xuICAgIGlmIChkaWZmRGF5cyA9PT0gMCkge1xuICAgICAgLy8gVG9kYXkgLSBzaG93IHRpbWUgbGlrZSBcIjE0OjMwXCJcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlVGltZVN0cmluZygnYmctQkcnLCB7IFxuICAgICAgICAgIGhvdXI6ICcyLWRpZ2l0JywgXG4gICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsXG4gICAgICAgICAgaG91cjEyOiBmYWxzZVxuICAgICAgICB9KVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGlmZkRheXMgPT09IDEpIHtcbiAgICAgIC8vIFllc3RlcmRheSAtIHNob3cgXCLQstGH0LXRgNCwXCJcbiAgICAgIHJldHVybiAn0LLRh9C10YDQsCdcbiAgICB9IGVsc2UgaWYgKGRpZmZEYXlzIDwgNykge1xuICAgICAgLy8gVGhpcyB3ZWVrIC0gc2hvdyBkYXkgbmFtZVxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdiZy1CRycsIHsgd2Vla2RheTogJ3Nob3J0JyB9KVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gYCR7ZGlmZkRheXN90LRgXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE9sZGVyIC0gc2hvdyBkYXRlXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2JnLUJHJywgeyBcbiAgICAgICAgICBkYXk6ICcyLWRpZ2l0JywgXG4gICAgICAgICAgbW9udGg6ICcyLWRpZ2l0JyBcbiAgICAgICAgfSlcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBXYWl0IGZvciBhdXRoZW50aWNhdGlvbiB0byBsb2FkXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gQXV0aCBzdGlsbCBsb2FkaW5nLCB3YWl0aW5nLi4uJylcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgLy8gRG9uJ3Qgc2hvdyB3aWRnZXQgb24gYXV0aGVudGljYXRpb24gcGFnZXNcbiAgaWYgKHBhdGhuYW1lPy5zdGFydHNXaXRoKCcvYXV0aC8nKSkge1xuICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBOb3Qgc2hvd2luZyBvbiBhdXRoIHBhZ2U6JywgcGF0aG5hbWUpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIC8vIERvbid0IHNob3cgd2lkZ2V0IGlmIHVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWRcbiAgaWYgKCFpc0F1dGhlbnRpY2F0ZWQgfHwgIXVzZXIpIHtcbiAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gTm90IHNob3dpbmcgd2lkZ2V0OiB1c2VyIG5vdCBhdXRoZW50aWNhdGVkJywgeyBpc0F1dGhlbnRpY2F0ZWQsIHVzZXI6ICEhdXNlciB9KVxuICAgIC8vIFRlbXBvcmFyeTogU2hvdyBhIGxvZ2luIHByb21wdCB3aWRnZXQgZm9yIG5vbi1hdXRoZW50aWNhdGVkIHVzZXJzXG4gICAgcmV0dXJuIChcbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2F1dGgvbG9naW4nfVxuICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCBib3R0b20tNiByaWdodC02IGJnLWdyYXktNjAwIGhvdmVyOmJnLWdyYXktNzAwIHRleHQtd2hpdGUgcC00IHJvdW5kZWQtZnVsbCBzaGFkb3ctbGcgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIHotWzk5OTldIHJlbGF0aXZlXCJcbiAgICAgICAgYXJpYS1sYWJlbD1cItCS0LvQtdC30YLQtSDQt9CwINGH0LDRglwiXG4gICAgICA+XG4gICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy02IGgtNlwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk04IDEyaC4wMU0xMiAxMmguMDFNMTYgMTJoLjAxTTIxIDEyYzAgNC40MTgtNC4wMyA4LTkgOGE5Ljg2MyA5Ljg2MyAwIDAxLTQuMjU1LS45NDlMMyAyMGwxLjM5NS0zLjcyQzMuNTEyIDE1LjA0MiAzIDEzLjU3NCAzIDEyYzAtNC40MTggNC4wMy04IDktOHM5IDMuNTgyIDkgOHpcIiAvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtdG9wLTIgLXJpZ2h0LTIgYmctYmx1ZS01MDAgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQtZnVsbCB3LTYgaC02IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGZvbnQtYm9sZFwiPlxuICAgICAgICAgICFcbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2J1dHRvbj5cbiAgICApXG4gIH1cblxuICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gUmVuZGVyaW5nIHdpZGdldCBmb3IgdXNlcjonLCB1c2VyPy5yb2xlLCAnaXNPcGVuOicsIGlzT3BlbilcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICB7LyogQ2hhdCBXaWRnZXQgQnV0dG9uICovfVxuICAgICAgeyFpc09wZW4gJiYgKFxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNPcGVuKHRydWUpfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGJvdHRvbS02IHJpZ2h0LTYgYmctcHVycGxlLTYwMCBob3ZlcjpiZy1wdXJwbGUtNzAwIHRleHQtd2hpdGUgcC00IHJvdW5kZWQtZnVsbCBzaGFkb3ctbGcgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIHotWzk5OTldIHJlbGF0aXZlIGJvcmRlci00IGJvcmRlci13aGl0ZVwiXG4gICAgICAgICAgYXJpYS1sYWJlbD1cItCe0YLQstC+0YDQuCDRh9Cw0YJcIlxuICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsIFxuICAgICAgICAgICAgYm90dG9tOiAnMjRweCcsIFxuICAgICAgICAgICAgcmlnaHQ6ICcyNHB4JywgXG4gICAgICAgICAgICB6SW5kZXg6IDk5OTksXG4gICAgICAgICAgICB3aWR0aDogJzY0cHgnLFxuICAgICAgICAgICAgaGVpZ2h0OiAnNjRweCdcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTYgaC02XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNOCAxMmguMDFNMTIgMTJoLjAxTTE2IDEyaC4wMU0yMSAxMmMwIDQuNDE4LTQuMDMgOC05IDhhOS44NjMgOS44NjMgMCAwMS00LjI1NS0uOTQ5TDMgMjBsMS4zOTUtMy43MkMzLjUxMiAxNS4wNDIgMyAxMy41NzQgMyAxMmMwLTQuNDE4IDQuMDMtOCA5LThzOSAzLjU4MiA5IDh6XCIgLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogVW5yZWFkIGJhZGdlICovfVxuICAgICAgICAgIHt1bnJlYWRUb3RhbCA+IDAgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtdG9wLTIgLXJpZ2h0LTIgYmctcmVkLTUwMCB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZC1mdWxsIHctNiBoLTYgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZm9udC1ib2xkXCI+XG4gICAgICAgICAgICAgIHt1bnJlYWRUb3RhbCA+IDk5ID8gJzk5KycgOiB1bnJlYWRUb3RhbH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKX1cblxuICAgICAgey8qIENoYXQgV2lkZ2V0IFdpbmRvdyAqL31cbiAgICAgIHtpc09wZW4gJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGZpeGVkIGJvdHRvbS02IHJpZ2h0LTYgYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cteGwgYm9yZGVyIHotWzk5OTldIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCAke1xuICAgICAgICAgIGlzTWluaW1pemVkID8gJ3ctODAgaC0xMicgOiAndy04MCBoLTk2J1xuICAgICAgICB9YH0+XG4gICAgICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTQgYm9yZGVyLWIgYmctcHVycGxlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtdC1sZ1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAge2FjdGl2ZUNvbnZlcnNhdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17Z29CYWNrVG9Db252ZXJzYXRpb25zfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBob3Zlcjp0ZXh0LWdyYXktMjAwIG1yLTJcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIOKGkFxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMiBoLTIgYmctZ3JlZW4tNDAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgIHthY3RpdmVDb252ZXJzYXRpb24gPyBhY3RpdmVDb252ZXJzYXRpb24uY3VzdG9tZXJOYW1lIDogJ9Ch0YrQvtCx0YnQtdC90LjRjyd9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgeyFhY3RpdmVDb252ZXJzYXRpb24gJiYgdW5yZWFkVG90YWwgPiAwICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJiZy1yZWQtNTAwIHRleHQtd2hpdGUgdGV4dC14cyBweC0yIHB5LTEgcm91bmRlZC1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICB7dW5yZWFkVG90YWx9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNNaW5pbWl6ZWQoIWlzTWluaW1pemVkKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIGhvdmVyOnRleHQtZ3JheS0yMDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2lzTWluaW1pemVkID8gXCLQoNCw0LfRiNC40YDQuFwiIDogXCLQnNC40L3QuNC80LjQt9C40YDQsNC5XCJ9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNCBoLTRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICAgIHtpc01pbmltaXplZCA/IChcbiAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTUgMTVsNy03IDcgN1wiIC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTkgOWwtNyA3LTctN1wiIC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzT3BlbihmYWxzZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBob3Zlcjp0ZXh0LWdyYXktMjAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwi0JfQsNGC0LLQvtGA0Lgg0YfQsNGCXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTYgMThMMTggNk02IDZsMTIgMTJcIiAvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIENvbnRlbnQgKi99XG4gICAgICAgICAgeyFpc01pbmltaXplZCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaC04MFwiPlxuICAgICAgICAgICAgICB7YWN0aXZlQ29udmVyc2F0aW9uID8gKFxuICAgICAgICAgICAgICAgIC8qIEFjdGl2ZSBDaGF0IFZpZXcgKi9cbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgey8qIE1lc3NhZ2VzIEFyZWEgKi99XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcC0zIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZXMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1ncmF5LTUwMCBweS04XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIG1iLTJcIj7wn5KsPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+0J3Rj9C80LAg0YHRitC+0LHRidC10L3QuNGPPC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLm1hcCgobXNnKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e21zZy5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4ICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodXNlcj8ucm9sZSA9PT0gJ3NlcnZpY2VfcHJvdmlkZXInIHx8IHVzZXI/LnJvbGUgPT09ICd0cmFkZXNwZXJzb24nKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAobXNnLnNlbmRlclR5cGUgPT09ICdwcm92aWRlcicgPyAnanVzdGlmeS1lbmQnIDogJ2p1c3RpZnktc3RhcnQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChtc2cuc2VuZGVyVHlwZSA9PT0gJ2N1c3RvbWVyJyA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BtYXgtdy14cyBweC0zIHB5LTIgcm91bmRlZC1sZyB0ZXh0LXNtICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh1c2VyPy5yb2xlID09PSAnc2VydmljZV9wcm92aWRlcicgfHwgdXNlcj8ucm9sZSA9PT0gJ3RyYWRlc3BlcnNvbicpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKG1zZy5zZW5kZXJUeXBlID09PSAncHJvdmlkZXInID8gJ2JnLXB1cnBsZS02MDAgdGV4dC13aGl0ZScgOiAnYmctZ3JheS0yMDAgdGV4dC1ncmF5LTgwMCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAobXNnLnNlbmRlclR5cGUgPT09ICdjdXN0b21lcicgPyAnYmctcHVycGxlLTYwMCB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTIwMCB0ZXh0LWdyYXktODAwJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+e21zZy5tZXNzYWdlfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B0ZXh0LXhzIG10LTEgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHVzZXI/LnJvbGUgPT09ICdzZXJ2aWNlX3Byb3ZpZGVyJyB8fCB1c2VyPy5yb2xlID09PSAndHJhZGVzcGVyc29uJykgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAobXNnLnNlbmRlclR5cGUgPT09ICdwcm92aWRlcicgPyAndGV4dC1wdXJwbGUtMjAwJyA6ICd0ZXh0LWdyYXktNTAwJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChtc2cuc2VuZGVyVHlwZSA9PT0gJ2N1c3RvbWVyJyA/ICd0ZXh0LXB1cnBsZS0yMDAnIDogJ3RleHQtZ3JheS01MDAnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0TWVzc2FnZVRpbWUobXNnLnNlbnRfYXQgfHwgbXNnLnRpbWVzdGFtcCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgey8qIEludmlzaWJsZSBlbGVtZW50IHRvIHNjcm9sbCB0byAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiByZWY9e21lc3NhZ2VzRW5kUmVmfSAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBNZXNzYWdlIElucHV0ICovfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e25ld01lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5ld01lc3NhZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlQcmVzcz17KGUpID0+IGUua2V5ID09PSAnRW50ZXInICYmIHNlbmRNZXNzYWdlKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cItCd0LDQv9C40YjQtdGC0LUg0YHRitC+0LHRidC10L3QuNC1Li4uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBib3JkZXIgcm91bmRlZC1sZyBweC0zIHB5LTIgdGV4dC1zbSBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHVycGxlLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2VuZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3NlbmRNZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFuZXdNZXNzYWdlLnRyaW0oKSB8fCBzZW5kaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctcHVycGxlLTYwMCB0ZXh0LXdoaXRlIHB4LTMgcHktMiByb3VuZGVkLWxnIGRpc2FibGVkOm9wYWNpdHktNTAgdGV4dC1zbSBob3ZlcjpiZy1wdXJwbGUtNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c2VuZGluZyA/ICcuLi4nIDogJ/Cfk6QnfVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIC8qIENvbnZlcnNhdGlvbnMgTGlzdCBWaWV3ICovXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIHtsb2FkaW5nID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTggdy04IGJvcmRlci1iLTIgYm9yZGVyLXB1cnBsZS02MDAgbXgtYXV0byBtYi0yXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj7Ql9Cw0YDQtdC20LTQsNC90LUuLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IGNvbnZlcnNhdGlvbnMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBtYi0yXCI+8J+SrDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbVwiPtCX0LTRgNCw0LLQtdC50YLQtSwge3VzZXI/LmZpcnN0TmFtZX0hPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3VzZXI/LnJvbGUgPT09ICdzZXJ2aWNlX3Byb3ZpZGVyJyB8fCB1c2VyPy5yb2xlID09PSAndHJhZGVzcGVyc29uJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICfQndGP0LzQsCDQsNC60YLQuNCy0L3QuCDRgNCw0LfQs9C+0LLQvtGA0Lgg0YEg0LrQu9C40LXQvdGC0LgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAn0J3Rj9C80LAg0LDQutGC0LjQstC90Lgg0YDQsNC30LPQvtCy0L7RgNC4J1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgLyogQ29udmVyc2F0aW9ucyBMaXN0ICovXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtjb252ZXJzYXRpb25zLm1hcCgoY29udmVyc2F0aW9uKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2NvbnZlcnNhdGlvbi5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVDb252ZXJzYXRpb25DbGljayhjb252ZXJzYXRpb24pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMyBwLTMgaG92ZXI6YmctZ3JheS01MCBjdXJzb3ItcG9pbnRlciBib3JkZXItYiBib3JkZXItZ3JheS0xMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgYmctcHVycGxlLTEwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtcHVycGxlLTYwMCBmb250LW1lZGl1bSB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb252ZXJzYXRpb24uY3VzdG9tZXJOYW1lPy5jaGFyQXQoMCkgfHwgJ0MnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCB0cnVuY2F0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb252ZXJzYXRpb24uY3VzdG9tZXJOYW1lIHx8ICfQndC10LjQt9Cy0LXRgdGC0LXQvSDQutC70LjQtdC90YInfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbnZlcnNhdGlvbi51bnJlYWRDb3VudCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB4LTIgcHktMSB0ZXh0LXhzIGZvbnQtYm9sZCBsZWFkaW5nLW5vbmUgdGV4dC13aGl0ZSBiZy1yZWQtNjAwIHJvdW5kZWQtZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29udmVyc2F0aW9uLnVucmVhZENvdW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0TGFzdEFjdGl2aXR5KGNvbnZlcnNhdGlvbi5sYXN0QWN0aXZpdHkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb252ZXJzYXRpb24ubGFzdE1lc3NhZ2UgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDAgdHJ1bmNhdGUgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb252ZXJzYXRpb24ubGFzdE1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBRdWljayBBY3Rpb25zICovfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBwLTMgc3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93Lm9wZW4oJy9zZWFyY2gnLCAnX2JsYW5rJyl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCB0ZXh0LXNtIHRleHQtcHVycGxlLTYwMCBob3Zlcjp0ZXh0LXB1cnBsZS04MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAg8J+UjSDQotGK0YDRgdC4INGB0L/QtdGG0LjQsNC70LjRgdGC0LhcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIHsodXNlcj8ucm9sZSA9PT0gJ3NlcnZpY2VfcHJvdmlkZXInIHx8IHVzZXI/LnJvbGUgPT09ICd0cmFkZXNwZXJzb24nKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5vcGVuKCcvZGFzaGJvYXJkJywgJ19ibGFuaycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHRleHQtc20gdGV4dC1wdXJwbGUtNjAwIGhvdmVyOnRleHQtcHVycGxlLTgwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIPCfk4og0KLQsNCx0LvQviDQt9CwINGD0L/RgNCw0LLQu9C10L3QuNC1XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5vcGVuKCcvZGFzaGJvYXJkP3ZpZXc9YXNzaWduZWQnLCAnX2JsYW5rJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgdGV4dC1zbSB0ZXh0LXB1cnBsZS02MDAgaG92ZXI6dGV4dC1wdXJwbGUtODAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TiyDQnNC+0LjRgtC1INC30LDRj9Cy0LrQuFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8Lz5cbiAgKVxufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlUGF0aG5hbWUiLCJ1c2VBdXRoIiwiYXBpQ2xpZW50IiwiQ2hhdFdpZGdldCIsImlzT3BlbiIsInNldElzT3BlbiIsImlzTWluaW1pemVkIiwic2V0SXNNaW5pbWl6ZWQiLCJjb252ZXJzYXRpb25zIiwic2V0Q29udmVyc2F0aW9ucyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwidW5yZWFkVG90YWwiLCJzZXRVbnJlYWRUb3RhbCIsImFjdGl2ZUNvbnZlcnNhdGlvbiIsInNldEFjdGl2ZUNvbnZlcnNhdGlvbiIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJuZXdNZXNzYWdlIiwic2V0TmV3TWVzc2FnZSIsInNlbmRpbmciLCJzZXRTZW5kaW5nIiwic29ja2V0Iiwic2V0U29ja2V0IiwidXNlciIsImlzQXV0aGVudGljYXRlZCIsImlzTG9hZGluZyIsIm1lc3NhZ2VzRW5kUmVmIiwicGF0aG5hbWUiLCJjb25zb2xlIiwibG9nIiwiaWQiLCJlbWFpbCIsInJvbGUiLCJoYXNBdXRoVG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiaGFzVXNlckRhdGEiLCJsb2FkQ29udmVyc2F0aW9ucyIsInJlZnJlc2hJbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInRvdGFsIiwicmVkdWNlIiwic3VtIiwiY29udiIsInVucmVhZENvdW50IiwicmVzcG9uc2UiLCJnZXRQcm92aWRlck1hcmtldHBsYWNlQ29udmVyc2F0aW9ucyIsImRhdGEiLCJzdGF0dXMiLCJzdWNjZXNzIiwiY29udmVyc2F0aW9uc0RhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwiQXJyYXkiLCJpc0FycmF5IiwibWFwcGVkQ29udmVyc2F0aW9ucyIsIm1hcCIsImxhc3RBY3Rpdml0eSIsImxhc3RfbWVzc2FnZV9hdCIsImNyZWF0ZWRfYXQiLCJ1bnJlYWRfY291bnQiLCJsZW5ndGgiLCJjb252ZXJzYXRpb25zQXJyYXkiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmaWx0ZXIiLCJpdGVtIiwiaGFzU3VjY2VzcyIsInN1Y2Nlc3NWYWx1ZSIsImhhc0RhdGEiLCJkYXRhVHlwZSIsImdldENvbnZlcnNhdGlvbnMiLCJlcnJvciIsIm1lc3NhZ2UiLCJzdGF0dXNUZXh0IiwiaGFuZGxlQ29udmVyc2F0aW9uQ2xpY2siLCJjb252ZXJzYXRpb24iLCJnZXRNYXJrZXRwbGFjZU1lc3NhZ2VzIiwibWVzc2FnZXNEYXRhIiwibWVzc2FnZXNBcnJheSIsImRhdGFDb250ZW50Iiwic2V0VGltZW91dCIsInNjcm9sbFRvQm90dG9tIiwibWFya0NvbnZlcnNhdGlvbkFzUmVhZCIsImluaXRpYWxpemVTb2NrZXQiLCJjb252ZXJzYXRpb25JZCIsImFwaVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwic29ja2V0VXJsIiwicmVwbGFjZSIsImlvIiwicmVxdWlyZSIsInNvY2tldEluc3RhbmNlIiwidHJhbnNwb3J0cyIsInRpbWVvdXQiLCJyZWNvbm5lY3Rpb24iLCJvbiIsImVtaXQiLCJtZXNzYWdlSWQiLCJzZW5kZXJUeXBlIiwic2VuZGVyTmFtZSIsInRpbWVzdGFtcCIsInNlbnRfYXQiLCJwcmV2IiwiZXhpc3RzIiwic29tZSIsIm1zZyIsInNlbmRNZXNzYWdlIiwidHJpbSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwibmV3TXNnIiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwidG9JU09TdHJpbmciLCJtYXJrTWFya2V0cGxhY2VBc1JlYWQiLCJjdXJyZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImdvQmFja1RvQ29udmVyc2F0aW9ucyIsImRpc2Nvbm5lY3QiLCJmb3JtYXRNZXNzYWdlVGltZSIsImRhdGUiLCJpbmNsdWRlcyIsImlzb1RpbWVzdGFtcCIsImlzTmFOIiwiZ2V0VGltZSIsIndhcm4iLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwiaG91cjEyIiwiZSIsImZvcm1hdExhc3RBY3Rpdml0eSIsImRpZmZNcyIsImRpZmZEYXlzIiwiTWF0aCIsImZsb29yIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwid2Vla2RheSIsImRheSIsIm1vbnRoIiwic3RhcnRzV2l0aCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJjbGFzc05hbWUiLCJhcmlhLWxhYmVsIiwic3ZnIiwiZmlsbCIsInN0cm9rZSIsInZpZXdCb3giLCJwYXRoIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwic3Ryb2tlV2lkdGgiLCJkIiwiZGl2Iiwic3R5bGUiLCJwb3NpdGlvbiIsImJvdHRvbSIsInJpZ2h0IiwiekluZGV4Iiwid2lkdGgiLCJoZWlnaHQiLCJzcGFuIiwiY3VzdG9tZXJOYW1lIiwicCIsInJlZiIsImlucHV0IiwidHlwZSIsInZhbHVlIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJvbktleVByZXNzIiwia2V5IiwicGxhY2Vob2xkZXIiLCJkaXNhYmxlZCIsImNoYXJBdCIsImxhc3RNZXNzYWdlIiwib3BlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/ChatWidget.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/GDPRPopup.tsx":
/*!**************************************!*\
  !*** ./src/components/GDPRPopup.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GDPRPopup)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/link */ \"(ssr)/./node_modules/next/dist/api/link.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nfunction GDPRPopup() {\n    const [isVisible, setIsVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Check if user has already seen the popup\n        const hasSeenPopup = localStorage.getItem(\"gdpr_consent_shown\");\n        if (!hasSeenPopup) {\n            // Show popup after 1 second delay\n            const timer = setTimeout(()=>{\n                setIsVisible(true);\n            }, 1000);\n            return ()=>clearTimeout(timer);\n        }\n    }, []);\n    const handleAccept = ()=>{\n        localStorage.setItem(\"gdpr_consent_shown\", \"true\");\n        localStorage.setItem(\"gdpr_consent_accepted\", \"true\");\n        localStorage.setItem(\"gdpr_consent_date\", new Date().toISOString());\n        setIsVisible(false);\n    };\n    const handleDecline = ()=>{\n        localStorage.setItem(\"gdpr_consent_shown\", \"true\");\n        localStorage.setItem(\"gdpr_consent_accepted\", \"false\");\n        localStorage.setItem(\"gdpr_consent_date\", new Date().toISOString());\n        setIsVisible(false);\n    };\n    if (!isVisible) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end justify-center p-4 gdpr-popup-overlay\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-lg shadow-xl max-w-md w-full p-6 gdpr-popup-content\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                    className: \"text-lg font-semibold text-gray-900 mb-3\",\n                    children: \"Защита на личните данни\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\GDPRPopup.tsx\",\n                    lineNumber: 42,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-gray-600 text-sm mb-4\",\n                    children: [\n                        \"Използваме бисквитки и други технологии за подобряване на вашето изживяване. Като продължите да използвате нашия сайт, вие се съгласявате с нашата\",\n                        \" \",\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                            href: \"/privacy-policy\",\n                            className: \"text-blue-600 hover:underline\",\n                            children: \"политика за поверителност\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\GDPRPopup.tsx\",\n                            lineNumber: 48,\n                            columnNumber: 11\n                        }, this),\n                        \".\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\GDPRPopup.tsx\",\n                    lineNumber: 45,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex space-x-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleAccept,\n                            className: \"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors\",\n                            children: \"Приемам\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\GDPRPopup.tsx\",\n                            lineNumber: 53,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleDecline,\n                            className: \"flex-1 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300 transition-colors\",\n                            children: \"Отказвам\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\GDPRPopup.tsx\",\n                            lineNumber: 59,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\GDPRPopup.tsx\",\n                    lineNumber: 52,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\GDPRPopup.tsx\",\n            lineNumber: 41,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\GDPRPopup.tsx\",\n        lineNumber: 40,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9HRFBSUG9wdXAudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFMkM7QUFDZjtBQUViLFNBQVNHO0lBQ3RCLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHTCwrQ0FBUUEsQ0FBQztJQUUzQ0MsZ0RBQVNBLENBQUM7UUFDUiwyQ0FBMkM7UUFDM0MsTUFBTUssZUFBZUMsYUFBYUMsT0FBTyxDQUFDO1FBRTFDLElBQUksQ0FBQ0YsY0FBYztZQUNqQixrQ0FBa0M7WUFDbEMsTUFBTUcsUUFBUUMsV0FBVztnQkFDdkJMLGFBQWE7WUFDZixHQUFHO1lBRUgsT0FBTyxJQUFNTSxhQUFhRjtRQUM1QjtJQUNGLEdBQUcsRUFBRTtJQUVMLE1BQU1HLGVBQWU7UUFDbkJMLGFBQWFNLE9BQU8sQ0FBQyxzQkFBc0I7UUFDM0NOLGFBQWFNLE9BQU8sQ0FBQyx5QkFBeUI7UUFDOUNOLGFBQWFNLE9BQU8sQ0FBQyxxQkFBcUIsSUFBSUMsT0FBT0MsV0FBVztRQUNoRVYsYUFBYTtJQUNmO0lBRUEsTUFBTVcsZ0JBQWdCO1FBQ3BCVCxhQUFhTSxPQUFPLENBQUMsc0JBQXNCO1FBQzNDTixhQUFhTSxPQUFPLENBQUMseUJBQXlCO1FBQzlDTixhQUFhTSxPQUFPLENBQUMscUJBQXFCLElBQUlDLE9BQU9DLFdBQVc7UUFDaEVWLGFBQWE7SUFDZjtJQUVBLElBQUksQ0FBQ0QsV0FBVyxPQUFPO0lBRXZCLHFCQUNFLDhEQUFDYTtRQUFJQyxXQUFVO2tCQUNiLDRFQUFDRDtZQUFJQyxXQUFVOzs4QkFDYiw4REFBQ0M7b0JBQUdELFdBQVU7OEJBQTJDOzs7Ozs7OEJBR3pELDhEQUFDRTtvQkFBRUYsV0FBVTs7d0JBQTZCO3dCQUU4QjtzQ0FDdEUsOERBQUNoQixpREFBSUE7NEJBQUNtQixNQUFLOzRCQUFrQkgsV0FBVTtzQ0FBZ0M7Ozs7Ozt3QkFFaEU7Ozs7Ozs7OEJBRVQsOERBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0k7NEJBQ0NDLFNBQVNYOzRCQUNUTSxXQUFVO3NDQUNYOzs7Ozs7c0NBR0QsOERBQUNJOzRCQUNDQyxTQUFTUDs0QkFDVEUsV0FBVTtzQ0FDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPWCIsInNvdXJjZXMiOlsid2VicGFjazovL3NlcnZpY2V0ZXh0cHJvLW1hcmtldHBsYWNlLy4vc3JjL2NvbXBvbmVudHMvR0RQUlBvcHVwLnRzeD9kNWZmIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdEUFJQb3B1cCgpIHtcbiAgY29uc3QgW2lzVmlzaWJsZSwgc2V0SXNWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQ2hlY2sgaWYgdXNlciBoYXMgYWxyZWFkeSBzZWVuIHRoZSBwb3B1cFxuICAgIGNvbnN0IGhhc1NlZW5Qb3B1cCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnZHByX2NvbnNlbnRfc2hvd24nKVxuICAgIFxuICAgIGlmICghaGFzU2VlblBvcHVwKSB7XG4gICAgICAvLyBTaG93IHBvcHVwIGFmdGVyIDEgc2Vjb25kIGRlbGF5XG4gICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRJc1Zpc2libGUodHJ1ZSlcbiAgICAgIH0sIDEwMDApXG4gICAgICBcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpXG4gICAgfVxuICB9LCBbXSlcblxuICBjb25zdCBoYW5kbGVBY2NlcHQgPSAoKSA9PiB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2dkcHJfY29uc2VudF9zaG93bicsICd0cnVlJylcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZ2Rwcl9jb25zZW50X2FjY2VwdGVkJywgJ3RydWUnKVxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnZHByX2NvbnNlbnRfZGF0ZScsIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSlcbiAgICBzZXRJc1Zpc2libGUoZmFsc2UpXG4gIH1cblxuICBjb25zdCBoYW5kbGVEZWNsaW5lID0gKCkgPT4ge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnZHByX2NvbnNlbnRfc2hvd24nLCAndHJ1ZScpXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2dkcHJfY29uc2VudF9hY2NlcHRlZCcsICdmYWxzZScpXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2dkcHJfY29uc2VudF9kYXRlJywgbmV3IERhdGUoKS50b0lTT1N0cmluZygpKVxuICAgIHNldElzVmlzaWJsZShmYWxzZSlcbiAgfVxuXG4gIGlmICghaXNWaXNpYmxlKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrIGJnLW9wYWNpdHktNTAgei01MCBmbGV4IGl0ZW1zLWVuZCBqdXN0aWZ5LWNlbnRlciBwLTQgZ2Rwci1wb3B1cC1vdmVybGF5XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LXhsIG1heC13LW1kIHctZnVsbCBwLTYgZ2Rwci1wb3B1cC1jb250ZW50XCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0zXCI+XG4gICAgICAgICAg0JfQsNGJ0LjRgtCwINC90LAg0LvQuNGH0L3QuNGC0LUg0LTQsNC90L3QuFxuICAgICAgICA8L2gzPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIHRleHQtc20gbWItNFwiPlxuICAgICAgICAgINCY0LfQv9C+0LvQt9Cy0LDQvNC1INCx0LjRgdC60LLQuNGC0LrQuCDQuCDQtNGA0YPQs9C4INGC0LXRhdC90L7Qu9C+0LPQuNC4INC30LAg0L/QvtC00L7QsdGA0Y/QstCw0L3QtSDQvdCwINCy0LDRiNC10YLQviDQuNC30LbQuNCy0Y/QstCw0L3QtS4gXG4gICAgICAgICAg0JrQsNGC0L4g0L/RgNC+0LTRitC70LbQuNGC0LUg0LTQsCDQuNC30L/QvtC70LfQstCw0YLQtSDQvdCw0YjQuNGPINGB0LDQudGCLCDQstC40LUg0YHQtSDRgdGK0LPQu9Cw0YHRj9Cy0LDRgtC1INGBINC90LDRiNCw0YLQsHsnICd9XG4gICAgICAgICAgPExpbmsgaHJlZj1cIi9wcml2YWN5LXBvbGljeVwiIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lXCI+XG4gICAgICAgICAgICDQv9C+0LvQuNGC0LjQutCwINC30LAg0L/QvtCy0LXRgNC40YLQtdC70L3QvtGB0YJcbiAgICAgICAgICA8L0xpbms+LlxuICAgICAgICA8L3A+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTNcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBY2NlcHR9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSBweC00IHB5LTIgcm91bmRlZC1sZyB0ZXh0LXNtIGZvbnQtbWVkaXVtIGhvdmVyOmJnLWJsdWUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICDQn9GA0LjQtdC80LDQvFxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURlY2xpbmV9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgYmctZ3JheS0yMDAgdGV4dC1ncmF5LTgwMCBweC00IHB5LTIgcm91bmRlZC1sZyB0ZXh0LXNtIGZvbnQtbWVkaXVtIGhvdmVyOmJnLWdyYXktMzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICDQntGC0LrQsNC30LLQsNC8XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn0iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJMaW5rIiwiR0RQUlBvcHVwIiwiaXNWaXNpYmxlIiwic2V0SXNWaXNpYmxlIiwiaGFzU2VlblBvcHVwIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInRpbWVyIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImhhbmRsZUFjY2VwdCIsInNldEl0ZW0iLCJEYXRlIiwidG9JU09TdHJpbmciLCJoYW5kbGVEZWNsaW5lIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDMiLCJwIiwiaHJlZiIsImJ1dHRvbiIsIm9uQ2xpY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/GDPRPopup.tsx\n");

/***/ }),

/***/ "(ssr)/./src/contexts/AuthContext.tsx":
/*!**************************************!*\
  !*** ./src/contexts/AuthContext.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ AuthProvider,useAuth auto */ \n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction AuthProvider({ children }) {\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Check for existing auth token on app load\n        checkAuthStatus();\n    }, []);\n    const checkAuthStatus = async ()=>{\n        try {\n            const token = localStorage.getItem(\"auth_token\");\n            const userData = localStorage.getItem(\"user_data\");\n            console.log(\"\\uD83D\\uDD0D AuthContext - Checking auth status:\", {\n                hasToken: !!token,\n                hasUserData: !!userData,\n                tokenPreview: token ? token.substring(0, 20) + \"...\" : null\n            });\n            if (token && userData) {\n                try {\n                    const parsedUser = JSON.parse(userData);\n                    // Fetch profile image if user is a service provider\n                    if (parsedUser.role === \"tradesperson\" || parsedUser.role === \"service_provider\") {\n                        try {\n                            console.log(\"\\uD83D\\uDDBC️ AuthContext - Fetching profile image for user:\", parsedUser.id);\n                            const profileResponse = await fetch(`${\"http://192.168.0.129:3000/api/v1\" || 0}/marketplace/providers/${parsedUser.id}`, {\n                                headers: {\n                                    \"Authorization\": `Bearer ${token}`\n                                }\n                            });\n                            const profileData = await profileResponse.json();\n                            console.log(\"\\uD83D\\uDDBC️ AuthContext - Profile data response:\", profileData);\n                            console.log(\"\\uD83D\\uDDBC️ AuthContext - Profile image URL from API:\", profileData.data?.profileImageUrl);\n                            if (profileData.success && profileData.data?.profileImageUrl) {\n                                parsedUser.profileImageUrl = profileData.data.profileImageUrl;\n                                console.log(\"✅ AuthContext - Set profile image URL:\", parsedUser.profileImageUrl);\n                                // Update localStorage with profile image\n                                localStorage.setItem(\"user_data\", JSON.stringify(parsedUser));\n                            } else {\n                                console.log(\"⚠️ AuthContext - No profile image URL in response\");\n                            }\n                        } catch (profileError) {\n                            console.log(\"❌ AuthContext - Could not fetch profile image:\", profileError);\n                        }\n                    }\n                    setUser(parsedUser);\n                    console.log(\"✅ AuthContext - Loaded user from localStorage:\", parsedUser);\n                } catch (parseError) {\n                    console.error(\"❌ AuthContext - Error parsing user data:\", parseError);\n                    localStorage.removeItem(\"auth_token\");\n                    localStorage.removeItem(\"user_data\");\n                }\n            } else {\n                console.log(\"⚠️ AuthContext - No token or user data found\");\n            }\n        } catch (error) {\n            console.error(\"❌ AuthContext - Auth check error:\", error);\n            // Clear potentially corrupted data\n            localStorage.removeItem(\"auth_token\");\n            localStorage.removeItem(\"user_data\");\n        } finally{\n            setIsLoading(false);\n            console.log(\"✅ AuthContext - Auth check complete, isLoading set to false\");\n        }\n    };\n    const login = async (email, password)=>{\n        try {\n            console.log(\"\\uD83D\\uDD10 AuthContext - Starting login process...\");\n            const response = await fetch(`${\"http://192.168.0.129:3000/api/v1\" || 0}/auth/login`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    email,\n                    password\n                })\n            });\n            const result = await response.json();\n            console.log(\"\\uD83D\\uDD10 AuthContext - Login response:\", result);\n            if (result.success && result.data?.tokens?.accessToken) {\n                console.log(\"✅ AuthContext - Login successful, updating state...\");\n                // Store tokens and user data\n                localStorage.setItem(\"auth_token\", result.data.tokens.accessToken);\n                if (result.data.tokens.refreshToken) {\n                    localStorage.setItem(\"refresh_token\", result.data.tokens.refreshToken);\n                }\n                const loggedInUser = result.data.user;\n                // Fetch profile image immediately after login for service providers\n                if (loggedInUser.role === \"tradesperson\" || loggedInUser.role === \"service_provider\") {\n                    try {\n                        console.log(\"\\uD83D\\uDDBC️ AuthContext - Fetching profile image after login for user:\", loggedInUser.id);\n                        const profileResponse = await fetch(`${\"http://192.168.0.129:3000/api/v1\" || 0}/marketplace/providers/${loggedInUser.id}`, {\n                            headers: {\n                                \"Authorization\": `Bearer ${result.data.tokens.accessToken}`\n                            }\n                        });\n                        const profileData = await profileResponse.json();\n                        console.log(\"\\uD83D\\uDDBC️ AuthContext - Profile data after login:\", profileData);\n                        console.log(\"\\uD83D\\uDDBC️ AuthContext - Profile image URL:\", profileData.data?.profileImageUrl);\n                        if (profileData.success && profileData.data?.profileImageUrl) {\n                            loggedInUser.profileImageUrl = profileData.data.profileImageUrl;\n                            console.log(\"✅ AuthContext - Set profile image URL after login:\", loggedInUser.profileImageUrl);\n                        } else {\n                            console.log(\"⚠️ AuthContext - No profile image URL in response after login\");\n                        }\n                    } catch (profileError) {\n                        console.log(\"❌ AuthContext - Could not fetch profile image after login:\", profileError);\n                    }\n                }\n                // Store updated user data with profile image\n                localStorage.setItem(\"user_data\", JSON.stringify(loggedInUser));\n                // Update state immediately\n                setUser(loggedInUser);\n                setIsLoading(false);\n                console.log(\"✅ AuthContext - User state updated:\", loggedInUser);\n                // Dispatch custom event for any components listening\n                window.dispatchEvent(new CustomEvent(\"auth-state-changed\", {\n                    detail: {\n                        user: loggedInUser,\n                        isAuthenticated: true\n                    }\n                }));\n                return {\n                    success: true\n                };\n            } else {\n                console.error(\"❌ AuthContext - Login failed:\", result);\n                // Extract detailed error message and debug info\n                const errorMessage = result.error?.message || \"Login failed. Please check your credentials.\";\n                const debugInfo = result.error?.details || null;\n                console.log(\"\\uD83D\\uDD0D AuthContext - Error details:\", {\n                    message: errorMessage,\n                    debugInfo: debugInfo\n                });\n                return {\n                    success: false,\n                    error: errorMessage,\n                    debugInfo: debugInfo\n                };\n            }\n        } catch (error) {\n            console.error(\"❌ AuthContext - Login error:\", error);\n            return {\n                success: false,\n                error: \"Network error. Please check your connection and try again.\"\n            };\n        }\n    };\n    const register = async (userData)=>{\n        try {\n            const response = await fetch(`${\"http://192.168.0.129:3000/api/v1\" || 0}/auth/register`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(userData)\n            });\n            const result = await response.json();\n            if (result.success && result.data?.tokens?.accessToken) {\n                localStorage.setItem(\"auth_token\", result.data.tokens.accessToken);\n                if (result.data.tokens.refreshToken) {\n                    localStorage.setItem(\"refresh_token\", result.data.tokens.refreshToken);\n                }\n                localStorage.setItem(\"user_data\", JSON.stringify(result.data.user));\n                setUser(result.data.user);\n                return true;\n            }\n            return false;\n        } catch (error) {\n            console.error(\"Registration error:\", error);\n            return false;\n        }\n    };\n    const refreshToken = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        try {\n            const refreshTokenValue = localStorage.getItem(\"refresh_token\");\n            if (!refreshTokenValue) {\n                return false;\n            }\n            const response = await fetch(`${\"http://192.168.0.129:3000/api/v1\" || 0}/auth/refresh`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    refreshToken: refreshTokenValue\n                })\n            });\n            const result = await response.json();\n            if (result.success && result.data?.accessToken) {\n                localStorage.setItem(\"auth_token\", result.data.accessToken);\n                if (result.data.refreshToken) {\n                    localStorage.setItem(\"refresh_token\", result.data.refreshToken);\n                }\n                return true;\n            }\n            return false;\n        } catch (error) {\n            console.error(\"Token refresh error:\", error);\n            return false;\n        }\n    }, []);\n    const logout = ()=>{\n        localStorage.removeItem(\"auth_token\");\n        localStorage.removeItem(\"refresh_token\");\n        localStorage.removeItem(\"user_data\");\n        setUser(null);\n    };\n    const updateUser = (updatedUser)=>{\n        setUser(updatedUser);\n        localStorage.setItem(\"user_data\", JSON.stringify(updatedUser));\n        console.log(\"✅ AuthContext - User updated:\", updatedUser);\n    };\n    // Auto-refresh token every 90 minutes (before 2h expiration)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!user) return;\n        const interval = setInterval(async ()=>{\n            const success = await refreshToken();\n            if (!success) {\n                console.log(\"Token refresh failed, logging out user\");\n                logout();\n            }\n        }, 90 * 60 * 1000) // 90 minutes\n        ;\n        return ()=>clearInterval(interval);\n    }, [\n        user,\n        refreshToken\n    ]);\n    const value = {\n        user,\n        isAuthenticated: !!user,\n        isLoading,\n        login,\n        logout,\n        register,\n        refreshToken,\n        updateUser\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\contexts\\\\AuthContext.tsx\",\n        lineNumber: 292,\n        columnNumber: 5\n    }, this);\n}\nfunction useAuth() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dEIsSUFBSSxDQUFDaEIsU0FBUztnQkFDWnJCLFFBQVFDLEdBQUcsQ0FBQztnQkFDWmlEO1lBQ0Y7UUFDRixHQUFHLEtBQUssS0FBSyxNQUFNLGFBQWE7O1FBRWhDLE9BQU8sSUFBTUssY0FBY0Y7SUFDN0IsR0FBRztRQUFDOUQ7UUFBTThDO0tBQWE7SUFFdkIsTUFBTW1CLFFBQVE7UUFDWmpFO1FBQ0FvRCxpQkFBaUIsQ0FBQyxDQUFDcEQ7UUFDbkJFO1FBQ0FtQztRQUNBc0I7UUFDQUY7UUFDQVg7UUFDQWM7SUFDRjtJQUVBLHFCQUNFLDhEQUFDaEUsWUFBWXNFLFFBQVE7UUFBQ0QsT0FBT0E7a0JBQzFCbEU7Ozs7OztBQUdQO0FBRU8sU0FBU29FO0lBQ2QsTUFBTUMsVUFBVTVFLGlEQUFVQSxDQUFDSTtJQUMzQixJQUFJd0UsWUFBWXZFLFdBQVc7UUFDekIsTUFBTSxJQUFJd0UsTUFBTTtJQUNsQjtJQUNBLE9BQU9EO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZXJ2aWNldGV4dHByby1tYXJrZXRwbGFjZS8uL3NyYy9jb250ZXh0cy9BdXRoQ29udGV4dC50c3g/MWZhMiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXG5cbmludGVyZmFjZSBVc2VyIHtcbiAgaWQ6IHN0cmluZ1xuICBlbWFpbDogc3RyaW5nXG4gIGZpcnN0TmFtZTogc3RyaW5nXG4gIGxhc3ROYW1lOiBzdHJpbmdcbiAgcm9sZTogJ2N1c3RvbWVyJyB8ICd0cmFkZXNwZXJzb24nIHwgJ3NlcnZpY2VfcHJvdmlkZXInIHwgJ2FkbWluJ1xuICBwaG9uZU51bWJlcj86IHN0cmluZ1xuICBjb21wYW55TmFtZT86IHN0cmluZ1xuICBzZXJ2aWNlQ2F0ZWdvcnk/OiBzdHJpbmdcbiAgcHJvZmlsZUltYWdlVXJsPzogc3RyaW5nXG59XG5cbmludGVyZmFjZSBBdXRoQ29udGV4dFR5cGUge1xuICB1c2VyOiBVc2VyIHwgbnVsbFxuICBpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW5cbiAgaXNMb2FkaW5nOiBib29sZWFuXG4gIGxvZ2luOiAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4gUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nOyBkZWJ1Z0luZm8/OiBhbnkgfT5cbiAgbG9nb3V0OiAoKSA9PiB2b2lkXG4gIHJlZ2lzdGVyOiAodXNlckRhdGE6IGFueSkgPT4gUHJvbWlzZTxib29sZWFuPlxuICByZWZyZXNoVG9rZW46ICgpID0+IFByb21pc2U8Ym9vbGVhbj5cbiAgdXBkYXRlVXNlcjogKHVwZGF0ZWRVc2VyOiBVc2VyKSA9PiB2b2lkXG59XG5cbmNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxBdXRoQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZClcblxuZXhwb3J0IGZ1bmN0aW9uIEF1dGhQcm92aWRlcih7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSB7XG4gIGNvbnN0IFt1c2VyLCBzZXRVc2VyXSA9IHVzZVN0YXRlPFVzZXIgfCBudWxsPihudWxsKVxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIENoZWNrIGZvciBleGlzdGluZyBhdXRoIHRva2VuIG9uIGFwcCBsb2FkXG4gICAgY2hlY2tBdXRoU3RhdHVzKClcbiAgfSwgW10pXG5cbiAgY29uc3QgY2hlY2tBdXRoU3RhdHVzID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJylcbiAgICAgIGNvbnN0IHVzZXJEYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfZGF0YScpXG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEF1dGhDb250ZXh0IC0gQ2hlY2tpbmcgYXV0aCBzdGF0dXM6JywgeyBcbiAgICAgICAgaGFzVG9rZW46ICEhdG9rZW4sIFxuICAgICAgICBoYXNVc2VyRGF0YTogISF1c2VyRGF0YSxcbiAgICAgICAgdG9rZW5QcmV2aWV3OiB0b2tlbiA/IHRva2VuLnN1YnN0cmluZygwLCAyMCkgKyAnLi4uJyA6IG51bGxcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIGlmICh0b2tlbiAmJiB1c2VyRGF0YSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZFVzZXIgPSBKU09OLnBhcnNlKHVzZXJEYXRhKVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZldGNoIHByb2ZpbGUgaW1hZ2UgaWYgdXNlciBpcyBhIHNlcnZpY2UgcHJvdmlkZXJcbiAgICAgICAgICBpZiAocGFyc2VkVXNlci5yb2xlID09PSAndHJhZGVzcGVyc29uJyB8fCBwYXJzZWRVc2VyLnJvbGUgPT09ICdzZXJ2aWNlX3Byb3ZpZGVyJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflrzvuI8gQXV0aENvbnRleHQgLSBGZXRjaGluZyBwcm9maWxlIGltYWdlIGZvciB1c2VyOicsIHBhcnNlZFVzZXIuaWQpXG4gICAgICAgICAgICAgIGNvbnN0IHByb2ZpbGVSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly8xOTIuMTY4LjAuMTI5OjMwMDAvYXBpL3YxJ30vbWFya2V0cGxhY2UvcHJvdmlkZXJzLyR7cGFyc2VkVXNlci5pZH1gLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgY29uc3QgcHJvZmlsZURhdGEgPSBhd2FpdCBwcm9maWxlUmVzcG9uc2UuanNvbigpXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5a877iPIEF1dGhDb250ZXh0IC0gUHJvZmlsZSBkYXRhIHJlc3BvbnNlOicsIHByb2ZpbGVEYXRhKVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+WvO+4jyBBdXRoQ29udGV4dCAtIFByb2ZpbGUgaW1hZ2UgVVJMIGZyb20gQVBJOicsIHByb2ZpbGVEYXRhLmRhdGE/LnByb2ZpbGVJbWFnZVVybClcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmIChwcm9maWxlRGF0YS5zdWNjZXNzICYmIHByb2ZpbGVEYXRhLmRhdGE/LnByb2ZpbGVJbWFnZVVybCkge1xuICAgICAgICAgICAgICAgIHBhcnNlZFVzZXIucHJvZmlsZUltYWdlVXJsID0gcHJvZmlsZURhdGEuZGF0YS5wcm9maWxlSW1hZ2VVcmxcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEF1dGhDb250ZXh0IC0gU2V0IHByb2ZpbGUgaW1hZ2UgVVJMOicsIHBhcnNlZFVzZXIucHJvZmlsZUltYWdlVXJsKVxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBsb2NhbFN0b3JhZ2Ugd2l0aCBwcm9maWxlIGltYWdlXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJfZGF0YScsIEpTT04uc3RyaW5naWZ5KHBhcnNlZFVzZXIpKVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gQXV0aENvbnRleHQgLSBObyBwcm9maWxlIGltYWdlIFVSTCBpbiByZXNwb25zZScpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKHByb2ZpbGVFcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIEF1dGhDb250ZXh0IC0gQ291bGQgbm90IGZldGNoIHByb2ZpbGUgaW1hZ2U6JywgcHJvZmlsZUVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBzZXRVc2VyKHBhcnNlZFVzZXIpXG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSBBdXRoQ29udGV4dCAtIExvYWRlZCB1c2VyIGZyb20gbG9jYWxTdG9yYWdlOicsIHBhcnNlZFVzZXIpXG4gICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQXV0aENvbnRleHQgLSBFcnJvciBwYXJzaW5nIHVzZXIgZGF0YTonLCBwYXJzZUVycm9yKVxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoX3Rva2VuJylcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcl9kYXRhJylcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBBdXRoQ29udGV4dCAtIE5vIHRva2VuIG9yIHVzZXIgZGF0YSBmb3VuZCcpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBdXRoQ29udGV4dCAtIEF1dGggY2hlY2sgZXJyb3I6JywgZXJyb3IpXG4gICAgICAvLyBDbGVhciBwb3RlbnRpYWxseSBjb3JydXB0ZWQgZGF0YVxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2F1dGhfdG9rZW4nKVxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXJfZGF0YScpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgQXV0aENvbnRleHQgLSBBdXRoIGNoZWNrIGNvbXBsZXRlLCBpc0xvYWRpbmcgc2V0IHRvIGZhbHNlJylcbiAgICB9XG4gIH1cblxuICBjb25zdCBsb2dpbiA9IGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nOyBkZWJ1Z0luZm8/OiBhbnkgfT4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UkCBBdXRoQ29udGV4dCAtIFN0YXJ0aW5nIGxvZ2luIHByb2Nlc3MuLi4nKVxuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly8xOTIuMTY4LjAuMTI5OjMwMDAvYXBpL3YxJ30vYXV0aC9sb2dpbmAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGVtYWlsLCBwYXNzd29yZCB9KVxuICAgICAgfSlcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICBjb25zb2xlLmxvZygn8J+UkCBBdXRoQ29udGV4dCAtIExvZ2luIHJlc3BvbnNlOicsIHJlc3VsdClcblxuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzICYmIHJlc3VsdC5kYXRhPy50b2tlbnM/LmFjY2Vzc1Rva2VuKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgQXV0aENvbnRleHQgLSBMb2dpbiBzdWNjZXNzZnVsLCB1cGRhdGluZyBzdGF0ZS4uLicpXG4gICAgICAgIFxuICAgICAgICAvLyBTdG9yZSB0b2tlbnMgYW5kIHVzZXIgZGF0YVxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXV0aF90b2tlbicsIHJlc3VsdC5kYXRhLnRva2Vucy5hY2Nlc3NUb2tlbilcbiAgICAgICAgaWYgKHJlc3VsdC5kYXRhLnRva2Vucy5yZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVmcmVzaF90b2tlbicsIHJlc3VsdC5kYXRhLnRva2Vucy5yZWZyZXNoVG9rZW4pXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGxvZ2dlZEluVXNlciA9IHJlc3VsdC5kYXRhLnVzZXJcbiAgICAgICAgXG4gICAgICAgIC8vIEZldGNoIHByb2ZpbGUgaW1hZ2UgaW1tZWRpYXRlbHkgYWZ0ZXIgbG9naW4gZm9yIHNlcnZpY2UgcHJvdmlkZXJzXG4gICAgICAgIGlmIChsb2dnZWRJblVzZXIucm9sZSA9PT0gJ3RyYWRlc3BlcnNvbicgfHwgbG9nZ2VkSW5Vc2VyLnJvbGUgPT09ICdzZXJ2aWNlX3Byb3ZpZGVyJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+WvO+4jyBBdXRoQ29udGV4dCAtIEZldGNoaW5nIHByb2ZpbGUgaW1hZ2UgYWZ0ZXIgbG9naW4gZm9yIHVzZXI6JywgbG9nZ2VkSW5Vc2VyLmlkKVxuICAgICAgICAgICAgY29uc3QgcHJvZmlsZVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovLzE5Mi4xNjguMC4xMjk6MzAwMC9hcGkvdjEnfS9tYXJrZXRwbGFjZS9wcm92aWRlcnMvJHtsb2dnZWRJblVzZXIuaWR9YCwge1xuICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7cmVzdWx0LmRhdGEudG9rZW5zLmFjY2Vzc1Rva2VufWBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGNvbnN0IHByb2ZpbGVEYXRhID0gYXdhaXQgcHJvZmlsZVJlc3BvbnNlLmpzb24oKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflrzvuI8gQXV0aENvbnRleHQgLSBQcm9maWxlIGRhdGEgYWZ0ZXIgbG9naW46JywgcHJvZmlsZURhdGEpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+WvO+4jyBBdXRoQ29udGV4dCAtIFByb2ZpbGUgaW1hZ2UgVVJMOicsIHByb2ZpbGVEYXRhLmRhdGE/LnByb2ZpbGVJbWFnZVVybClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHByb2ZpbGVEYXRhLnN1Y2Nlc3MgJiYgcHJvZmlsZURhdGEuZGF0YT8ucHJvZmlsZUltYWdlVXJsKSB7XG4gICAgICAgICAgICAgIGxvZ2dlZEluVXNlci5wcm9maWxlSW1hZ2VVcmwgPSBwcm9maWxlRGF0YS5kYXRhLnByb2ZpbGVJbWFnZVVybFxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEF1dGhDb250ZXh0IC0gU2V0IHByb2ZpbGUgaW1hZ2UgVVJMIGFmdGVyIGxvZ2luOicsIGxvZ2dlZEluVXNlci5wcm9maWxlSW1hZ2VVcmwpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIEF1dGhDb250ZXh0IC0gTm8gcHJvZmlsZSBpbWFnZSBVUkwgaW4gcmVzcG9uc2UgYWZ0ZXIgbG9naW4nKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKHByb2ZpbGVFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KdjCBBdXRoQ29udGV4dCAtIENvdWxkIG5vdCBmZXRjaCBwcm9maWxlIGltYWdlIGFmdGVyIGxvZ2luOicsIHByb2ZpbGVFcnJvcilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFN0b3JlIHVwZGF0ZWQgdXNlciBkYXRhIHdpdGggcHJvZmlsZSBpbWFnZVxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcl9kYXRhJywgSlNPTi5zdHJpbmdpZnkobG9nZ2VkSW5Vc2VyKSlcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBzdGF0ZSBpbW1lZGlhdGVseVxuICAgICAgICBzZXRVc2VyKGxvZ2dlZEluVXNlcilcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBBdXRoQ29udGV4dCAtIFVzZXIgc3RhdGUgdXBkYXRlZDonLCBsb2dnZWRJblVzZXIpXG4gICAgICAgIFxuICAgICAgICAvLyBEaXNwYXRjaCBjdXN0b20gZXZlbnQgZm9yIGFueSBjb21wb25lbnRzIGxpc3RlbmluZ1xuICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2F1dGgtc3RhdGUtY2hhbmdlZCcsIHsgXG4gICAgICAgICAgZGV0YWlsOiB7IHVzZXI6IGxvZ2dlZEluVXNlciwgaXNBdXRoZW50aWNhdGVkOiB0cnVlIH1cbiAgICAgICAgfSkpXG4gICAgICAgIFxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBdXRoQ29udGV4dCAtIExvZ2luIGZhaWxlZDonLCByZXN1bHQpXG4gICAgICAgIFxuICAgICAgICAvLyBFeHRyYWN0IGRldGFpbGVkIGVycm9yIG1lc3NhZ2UgYW5kIGRlYnVnIGluZm9cbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gcmVzdWx0LmVycm9yPy5tZXNzYWdlIHx8ICdMb2dpbiBmYWlsZWQuIFBsZWFzZSBjaGVjayB5b3VyIGNyZWRlbnRpYWxzLic7XG4gICAgICAgIGNvbnN0IGRlYnVnSW5mbyA9IHJlc3VsdC5lcnJvcj8uZGV0YWlscyB8fCBudWxsO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gQXV0aENvbnRleHQgLSBFcnJvciBkZXRhaWxzOicsIHtcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgZGVidWdJbmZvOiBkZWJ1Z0luZm9cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgICBkZWJ1Z0luZm86IGRlYnVnSW5mb1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBdXRoQ29udGV4dCAtIExvZ2luIGVycm9yOicsIGVycm9yKVxuICAgICAgcmV0dXJuIHsgXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgZXJyb3I6ICdOZXR3b3JrIGVycm9yLiBQbGVhc2UgY2hlY2sgeW91ciBjb25uZWN0aW9uIGFuZCB0cnkgYWdhaW4uJ1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHJlZ2lzdGVyID0gYXN5bmMgKHVzZXJEYXRhOiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vMTkyLjE2OC4wLjEyOTozMDAwL2FwaS92MSd9L2F1dGgvcmVnaXN0ZXJgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXNlckRhdGEpXG4gICAgICB9KVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzICYmIHJlc3VsdC5kYXRhPy50b2tlbnM/LmFjY2Vzc1Rva2VuKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhdXRoX3Rva2VuJywgcmVzdWx0LmRhdGEudG9rZW5zLmFjY2Vzc1Rva2VuKVxuICAgICAgICBpZiAocmVzdWx0LmRhdGEudG9rZW5zLnJlZnJlc2hUb2tlbikge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWZyZXNoX3Rva2VuJywgcmVzdWx0LmRhdGEudG9rZW5zLnJlZnJlc2hUb2tlbilcbiAgICAgICAgfVxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcl9kYXRhJywgSlNPTi5zdHJpbmdpZnkocmVzdWx0LmRhdGEudXNlcikpXG4gICAgICAgIHNldFVzZXIocmVzdWx0LmRhdGEudXNlcilcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdSZWdpc3RyYXRpb24gZXJyb3I6JywgZXJyb3IpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb25zdCByZWZyZXNoVG9rZW4gPSB1c2VDYWxsYmFjayhhc3luYyAoKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlZnJlc2hUb2tlblZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JlZnJlc2hfdG9rZW4nKVxuICAgICAgaWYgKCFyZWZyZXNoVG9rZW5WYWx1ZSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vMTkyLjE2OC4wLjEyOTozMDAwL2FwaS92MSd9L2F1dGgvcmVmcmVzaGAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHJlZnJlc2hUb2tlbjogcmVmcmVzaFRva2VuVmFsdWUgfSlcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuXG4gICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MgJiYgcmVzdWx0LmRhdGE/LmFjY2Vzc1Rva2VuKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhdXRoX3Rva2VuJywgcmVzdWx0LmRhdGEuYWNjZXNzVG9rZW4pXG4gICAgICAgIGlmIChyZXN1bHQuZGF0YS5yZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVmcmVzaF90b2tlbicsIHJlc3VsdC5kYXRhLnJlZnJlc2hUb2tlbilcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Rva2VuIHJlZnJlc2ggZXJyb3I6JywgZXJyb3IpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH0sIFtdKVxuXG4gIGNvbnN0IGxvZ291dCA9ICgpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aF90b2tlbicpXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3JlZnJlc2hfdG9rZW4nKVxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyX2RhdGEnKVxuICAgIHNldFVzZXIobnVsbClcbiAgfVxuXG4gIGNvbnN0IHVwZGF0ZVVzZXIgPSAodXBkYXRlZFVzZXI6IFVzZXIpID0+IHtcbiAgICBzZXRVc2VyKHVwZGF0ZWRVc2VyKVxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyX2RhdGEnLCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkVXNlcikpXG4gICAgY29uc29sZS5sb2coJ+KchSBBdXRoQ29udGV4dCAtIFVzZXIgdXBkYXRlZDonLCB1cGRhdGVkVXNlcilcbiAgfVxuXG4gIC8vIEF1dG8tcmVmcmVzaCB0b2tlbiBldmVyeSA5MCBtaW51dGVzIChiZWZvcmUgMmggZXhwaXJhdGlvbilcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXVzZXIpIHJldHVyblxuXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgcmVmcmVzaFRva2VuKClcbiAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICBjb25zb2xlLmxvZygnVG9rZW4gcmVmcmVzaCBmYWlsZWQsIGxvZ2dpbmcgb3V0IHVzZXInKVxuICAgICAgICBsb2dvdXQoKVxuICAgICAgfVxuICAgIH0sIDkwICogNjAgKiAxMDAwKSAvLyA5MCBtaW51dGVzXG5cbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbClcbiAgfSwgW3VzZXIsIHJlZnJlc2hUb2tlbl0pXG5cbiAgY29uc3QgdmFsdWUgPSB7XG4gICAgdXNlcixcbiAgICBpc0F1dGhlbnRpY2F0ZWQ6ICEhdXNlcixcbiAgICBpc0xvYWRpbmcsXG4gICAgbG9naW4sXG4gICAgbG9nb3V0LFxuICAgIHJlZ2lzdGVyLFxuICAgIHJlZnJlc2hUb2tlbixcbiAgICB1cGRhdGVVc2VyXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxBdXRoQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dmFsdWV9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvQXV0aENvbnRleHQuUHJvdmlkZXI+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUF1dGgoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEF1dGhDb250ZXh0KVxuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VBdXRoIG11c3QgYmUgdXNlZCB3aXRoaW4gYW4gQXV0aFByb3ZpZGVyJylcbiAgfVxuICByZXR1cm4gY29udGV4dFxufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiQXV0aENvbnRleHQiLCJ1bmRlZmluZWQiLCJBdXRoUHJvdmlkZXIiLCJjaGlsZHJlbiIsInVzZXIiLCJzZXRVc2VyIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiY2hlY2tBdXRoU3RhdHVzIiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidXNlckRhdGEiLCJjb25zb2xlIiwibG9nIiwiaGFzVG9rZW4iLCJoYXNVc2VyRGF0YSIsInRva2VuUHJldmlldyIsInN1YnN0cmluZyIsInBhcnNlZFVzZXIiLCJKU09OIiwicGFyc2UiLCJyb2xlIiwiaWQiLCJwcm9maWxlUmVzcG9uc2UiLCJmZXRjaCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiaGVhZGVycyIsInByb2ZpbGVEYXRhIiwianNvbiIsImRhdGEiLCJwcm9maWxlSW1hZ2VVcmwiLCJzdWNjZXNzIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsInByb2ZpbGVFcnJvciIsInBhcnNlRXJyb3IiLCJlcnJvciIsInJlbW92ZUl0ZW0iLCJsb2dpbiIsImVtYWlsIiwicGFzc3dvcmQiLCJyZXNwb25zZSIsIm1ldGhvZCIsImJvZHkiLCJyZXN1bHQiLCJ0b2tlbnMiLCJhY2Nlc3NUb2tlbiIsInJlZnJlc2hUb2tlbiIsImxvZ2dlZEluVXNlciIsIndpbmRvdyIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsImlzQXV0aGVudGljYXRlZCIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJkZWJ1Z0luZm8iLCJkZXRhaWxzIiwicmVnaXN0ZXIiLCJyZWZyZXNoVG9rZW5WYWx1ZSIsImxvZ291dCIsInVwZGF0ZVVzZXIiLCJ1cGRhdGVkVXNlciIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwidmFsdWUiLCJQcm92aWRlciIsInVzZUF1dGgiLCJjb250ZXh0IiwiRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/contexts/AuthContext.tsx\n");

/***/ }),

/***/ "(ssr)/./src/contexts/SocketContext.tsx":
/*!****************************************!*\
  !*** ./src/contexts/SocketContext.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SocketProvider: () => (/* binding */ SocketProvider),\n/* harmony export */   useSocket: () => (/* binding */ useSocket)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! socket.io-client */ \"(ssr)/./node_modules/socket.io-client/build/esm-debug/index.js\");\n/* harmony import */ var _AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AuthContext */ \"(ssr)/./src/contexts/AuthContext.tsx\");\n/* __next_internal_client_entry_do_not_use__ useSocket,SocketProvider auto */ \n\n\n\nconst SocketContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    socket: null,\n    isConnected: false\n});\nconst useSocket = ()=>(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(SocketContext);\nfunction SocketProvider({ children }) {\n    const [socket, setSocket] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { isAuthenticated } = (0,_AuthContext__WEBPACK_IMPORTED_MODULE_3__.useAuth)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Only connect if user is authenticated\n        if (!isAuthenticated) {\n            if (socket) {\n                console.log(\"\\uD83D\\uDD0C Disconnecting socket - user not authenticated\");\n                socket.disconnect();\n                setSocket(null);\n                setIsConnected(false);\n            }\n            return;\n        }\n        // Create Socket.IO connection\n        const apiUrl = \"http://192.168.0.129:3000/api/v1\" || 0;\n        const socketUrl = apiUrl.replace(\"/api/v1\", \"\");\n        console.log(\"\\uD83D\\uDD0C Connecting to Socket.IO server:\", socketUrl);\n        const socketInstance = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_2__.io)(socketUrl, {\n            transports: [\n                \"websocket\",\n                \"polling\"\n            ],\n            timeout: 10000,\n            reconnection: true,\n            reconnectionAttempts: 5,\n            reconnectionDelay: 1000\n        });\n        socketInstance.on(\"connect\", ()=>{\n            console.log(\"✅ Socket.IO connected:\", socketInstance.id);\n            setIsConnected(true);\n        });\n        socketInstance.on(\"disconnect\", (reason)=>{\n            console.log(\"\\uD83D\\uDD0C Socket.IO disconnected:\", reason);\n            setIsConnected(false);\n        });\n        socketInstance.on(\"connect_error\", (error)=>{\n            console.error(\"❌ Socket.IO connection error:\", error);\n            setIsConnected(false);\n        });\n        socketInstance.on(\"reconnect\", (attemptNumber)=>{\n            console.log(\"\\uD83D\\uDD04 Socket.IO reconnected after\", attemptNumber, \"attempts\");\n            setIsConnected(true);\n        });\n        setSocket(socketInstance);\n        // Cleanup on unmount\n        return ()=>{\n            console.log(\"\\uD83E\\uDDF9 Cleaning up Socket.IO connection\");\n            socketInstance.disconnect();\n        };\n    }, [\n        isAuthenticated\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SocketContext.Provider, {\n        value: {\n            socket,\n            isConnected\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\contexts\\\\SocketContext.tsx\",\n        lineNumber: 80,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29udGV4dHMvU29ja2V0Q29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRXdGO0FBQzNDO0FBQ047QUFPdkMsTUFBTU8sOEJBQWdCTixvREFBYUEsQ0FBb0I7SUFDckRPLFFBQVE7SUFDUkMsYUFBYTtBQUNmO0FBRU8sTUFBTUMsWUFBWSxJQUFNUixpREFBVUEsQ0FBQ0ssZUFBYztBQUVqRCxTQUFTSSxlQUFlLEVBQUVDLFFBQVEsRUFBMkI7SUFDbEUsTUFBTSxDQUFDSixRQUFRSyxVQUFVLEdBQUdULCtDQUFRQSxDQUFnQjtJQUNwRCxNQUFNLENBQUNLLGFBQWFLLGVBQWUsR0FBR1YsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxFQUFFVyxlQUFlLEVBQUUsR0FBR1QscURBQU9BO0lBRW5DSCxnREFBU0EsQ0FBQztRQUNSLHdDQUF3QztRQUN4QyxJQUFJLENBQUNZLGlCQUFpQjtZQUNwQixJQUFJUCxRQUFRO2dCQUNWUSxRQUFRQyxHQUFHLENBQUM7Z0JBQ1pULE9BQU9VLFVBQVU7Z0JBQ2pCTCxVQUFVO2dCQUNWQyxlQUFlO1lBQ2pCO1lBQ0E7UUFDRjtRQUVBLDhCQUE4QjtRQUM5QixNQUFNSyxTQUFTQyxrQ0FBK0IsSUFBSTtRQUNsRCxNQUFNRyxZQUFZSixPQUFPSyxPQUFPLENBQUMsV0FBVztRQUU1Q1IsUUFBUUMsR0FBRyxDQUFDLGdEQUFzQ007UUFFbEQsTUFBTUUsaUJBQWlCcEIsb0RBQUVBLENBQUNrQixXQUFXO1lBQ25DRyxZQUFZO2dCQUFDO2dCQUFhO2FBQVU7WUFDcENDLFNBQVM7WUFDVEMsY0FBYztZQUNkQyxzQkFBc0I7WUFDdEJDLG1CQUFtQjtRQUNyQjtRQUVBTCxlQUFlTSxFQUFFLENBQUMsV0FBVztZQUMzQmYsUUFBUUMsR0FBRyxDQUFDLDBCQUEwQlEsZUFBZU8sRUFBRTtZQUN2RGxCLGVBQWU7UUFDakI7UUFFQVcsZUFBZU0sRUFBRSxDQUFDLGNBQWMsQ0FBQ0U7WUFDL0JqQixRQUFRQyxHQUFHLENBQUMsd0NBQThCZ0I7WUFDMUNuQixlQUFlO1FBQ2pCO1FBRUFXLGVBQWVNLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQ0c7WUFDbENsQixRQUFRa0IsS0FBSyxDQUFDLGlDQUFpQ0E7WUFDL0NwQixlQUFlO1FBQ2pCO1FBRUFXLGVBQWVNLEVBQUUsQ0FBQyxhQUFhLENBQUNJO1lBQzlCbkIsUUFBUUMsR0FBRyxDQUFDLDRDQUFrQ2tCLGVBQWU7WUFDN0RyQixlQUFlO1FBQ2pCO1FBRUFELFVBQVVZO1FBRVYscUJBQXFCO1FBQ3JCLE9BQU87WUFDTFQsUUFBUUMsR0FBRyxDQUFDO1lBQ1pRLGVBQWVQLFVBQVU7UUFDM0I7SUFDRixHQUFHO1FBQUNIO0tBQWdCO0lBRXBCLHFCQUNFLDhEQUFDUixjQUFjNkIsUUFBUTtRQUFDQyxPQUFPO1lBQUU3QjtZQUFRQztRQUFZO2tCQUNsREc7Ozs7OztBQUdQIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VydmljZXRleHRwcm8tbWFya2V0cGxhY2UvLi9zcmMvY29udGV4dHMvU29ja2V0Q29udGV4dC50c3g/N2FlYSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUsIFJlYWN0Tm9kZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgaW8sIFNvY2tldCB9IGZyb20gJ3NvY2tldC5pby1jbGllbnQnXG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnLi9BdXRoQ29udGV4dCdcblxuaW50ZXJmYWNlIFNvY2tldENvbnRleHRUeXBlIHtcbiAgc29ja2V0OiBTb2NrZXQgfCBudWxsXG4gIGlzQ29ubmVjdGVkOiBib29sZWFuXG59XG5cbmNvbnN0IFNvY2tldENvbnRleHQgPSBjcmVhdGVDb250ZXh0PFNvY2tldENvbnRleHRUeXBlPih7XG4gIHNvY2tldDogbnVsbCxcbiAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxufSlcblxuZXhwb3J0IGNvbnN0IHVzZVNvY2tldCA9ICgpID0+IHVzZUNvbnRleHQoU29ja2V0Q29udGV4dClcblxuZXhwb3J0IGZ1bmN0aW9uIFNvY2tldFByb3ZpZGVyKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3ROb2RlIH0pIHtcbiAgY29uc3QgW3NvY2tldCwgc2V0U29ja2V0XSA9IHVzZVN0YXRlPFNvY2tldCB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtpc0Nvbm5lY3RlZCwgc2V0SXNDb25uZWN0ZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IHsgaXNBdXRoZW50aWNhdGVkIH0gPSB1c2VBdXRoKClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIE9ubHkgY29ubmVjdCBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcbiAgICBpZiAoIWlzQXV0aGVudGljYXRlZCkge1xuICAgICAgaWYgKHNvY2tldCkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UjCBEaXNjb25uZWN0aW5nIHNvY2tldCAtIHVzZXIgbm90IGF1dGhlbnRpY2F0ZWQnKVxuICAgICAgICBzb2NrZXQuZGlzY29ubmVjdCgpXG4gICAgICAgIHNldFNvY2tldChudWxsKVxuICAgICAgICBzZXRJc0Nvbm5lY3RlZChmYWxzZSlcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBTb2NrZXQuSU8gY29ubmVjdGlvblxuICAgIGNvbnN0IGFwaVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly8xOTIuMTY4LjAuMTI5OjMwMDAvYXBpL3YxJ1xuICAgIGNvbnN0IHNvY2tldFVybCA9IGFwaVVybC5yZXBsYWNlKCcvYXBpL3YxJywgJycpXG4gICAgXG4gICAgY29uc29sZS5sb2coJ/CflIwgQ29ubmVjdGluZyB0byBTb2NrZXQuSU8gc2VydmVyOicsIHNvY2tldFVybClcbiAgICBcbiAgICBjb25zdCBzb2NrZXRJbnN0YW5jZSA9IGlvKHNvY2tldFVybCwge1xuICAgICAgdHJhbnNwb3J0czogWyd3ZWJzb2NrZXQnLCAncG9sbGluZyddLFxuICAgICAgdGltZW91dDogMTAwMDAsXG4gICAgICByZWNvbm5lY3Rpb246IHRydWUsXG4gICAgICByZWNvbm5lY3Rpb25BdHRlbXB0czogNSxcbiAgICAgIHJlY29ubmVjdGlvbkRlbGF5OiAxMDAwLFxuICAgIH0pXG5cbiAgICBzb2NrZXRJbnN0YW5jZS5vbignY29ubmVjdCcsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgU29ja2V0LklPIGNvbm5lY3RlZDonLCBzb2NrZXRJbnN0YW5jZS5pZClcbiAgICAgIHNldElzQ29ubmVjdGVkKHRydWUpXG4gICAgfSlcblxuICAgIHNvY2tldEluc3RhbmNlLm9uKCdkaXNjb25uZWN0JywgKHJlYXNvbikgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ/CflIwgU29ja2V0LklPIGRpc2Nvbm5lY3RlZDonLCByZWFzb24pXG4gICAgICBzZXRJc0Nvbm5lY3RlZChmYWxzZSlcbiAgICB9KVxuXG4gICAgc29ja2V0SW5zdGFuY2Uub24oJ2Nvbm5lY3RfZXJyb3InLCAoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTb2NrZXQuSU8gY29ubmVjdGlvbiBlcnJvcjonLCBlcnJvcilcbiAgICAgIHNldElzQ29ubmVjdGVkKGZhbHNlKVxuICAgIH0pXG5cbiAgICBzb2NrZXRJbnN0YW5jZS5vbigncmVjb25uZWN0JywgKGF0dGVtcHROdW1iZXIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFNvY2tldC5JTyByZWNvbm5lY3RlZCBhZnRlcicsIGF0dGVtcHROdW1iZXIsICdhdHRlbXB0cycpXG4gICAgICBzZXRJc0Nvbm5lY3RlZCh0cnVlKVxuICAgIH0pXG5cbiAgICBzZXRTb2NrZXQoc29ja2V0SW5zdGFuY2UpXG5cbiAgICAvLyBDbGVhbnVwIG9uIHVubW91bnRcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ/Cfp7kgQ2xlYW5pbmcgdXAgU29ja2V0LklPIGNvbm5lY3Rpb24nKVxuICAgICAgc29ja2V0SW5zdGFuY2UuZGlzY29ubmVjdCgpXG4gICAgfVxuICB9LCBbaXNBdXRoZW50aWNhdGVkXSlcblxuICByZXR1cm4gKFxuICAgIDxTb2NrZXRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IHNvY2tldCwgaXNDb25uZWN0ZWQgfX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9Tb2NrZXRDb250ZXh0LlByb3ZpZGVyPlxuICApXG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwiaW8iLCJ1c2VBdXRoIiwiU29ja2V0Q29udGV4dCIsInNvY2tldCIsImlzQ29ubmVjdGVkIiwidXNlU29ja2V0IiwiU29ja2V0UHJvdmlkZXIiLCJjaGlsZHJlbiIsInNldFNvY2tldCIsInNldElzQ29ubmVjdGVkIiwiaXNBdXRoZW50aWNhdGVkIiwiY29uc29sZSIsImxvZyIsImRpc2Nvbm5lY3QiLCJhcGlVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsInNvY2tldFVybCIsInJlcGxhY2UiLCJzb2NrZXRJbnN0YW5jZSIsInRyYW5zcG9ydHMiLCJ0aW1lb3V0IiwicmVjb25uZWN0aW9uIiwicmVjb25uZWN0aW9uQXR0ZW1wdHMiLCJyZWNvbm5lY3Rpb25EZWxheSIsIm9uIiwiaWQiLCJyZWFzb24iLCJlcnJvciIsImF0dGVtcHROdW1iZXIiLCJQcm92aWRlciIsInZhbHVlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/contexts/SocketContext.tsx\n");

/***/ }),

/***/ "(ssr)/./src/lib/api.ts":
/*!************************!*\
  !*** ./src/lib/api.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   apiClient: () => (/* binding */ apiClient),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(ssr)/./node_modules/axios/lib/axios.js\");\n\n// API client configuration - connects to your existing backend\nconst API_BASE_URL = \"http://192.168.0.129:3000/api/v1\" || 0;\nclass ApiClient {\n    constructor(){\n        this.client = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n            baseURL: API_BASE_URL,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            timeout: 10000\n        });\n        this.setupInterceptors();\n    }\n    setupInterceptors() {\n        // Request interceptor - add auth token\n        this.client.interceptors.request.use((config)=>{\n            const token = this.getAuthToken();\n            if (token) {\n                config.headers.Authorization = `Bearer ${token}`;\n            }\n            return config;\n        }, (error)=>Promise.reject(error));\n        // Response interceptor - handle errors\n        this.client.interceptors.response.use((response)=>response, (error)=>{\n            if (error.response?.status === 401) {\n                // Token expired, redirect to login\n                this.clearAuthToken();\n                window.location.href = \"/auth/login\";\n            }\n            return Promise.reject(error);\n        });\n    }\n    getAuthToken() {\n        if (false) {}\n        return null;\n    }\n    clearAuthToken() {\n        if (false) {}\n    }\n    // Authentication endpoints\n    async login(email, password) {\n        const response = await this.client.post(\"/auth/login\", {\n            email,\n            password\n        });\n        const { token, refreshToken, user } = response.data;\n        // Store tokens\n        if (false) {}\n        return {\n            user,\n            token,\n            refreshToken\n        };\n    }\n    async register(userData) {\n        return this.client.post(\"/auth/register\", userData);\n    }\n    async logout() {\n        this.clearAuthToken();\n        return this.client.post(\"/auth/logout\");\n    }\n    // Marketplace endpoints\n    async searchProviders(filters) {\n        console.log(\"\\uD83D\\uDD0D API Client - Making request with filters:\", filters);\n        try {\n            const response = await this.client.get(\"/marketplace/providers/search\", {\n                params: filters\n            });\n            console.log(\"✅ API Client - Response received:\", response);\n            return response;\n        } catch (error) {\n            console.error(\"❌ API Client - Request failed:\", error);\n            throw error;\n        }\n    }\n    async getProvider(id) {\n        return this.client.get(`/marketplace/providers/${id}`);\n    }\n    async validatePublicChat(publicId, token) {\n        return this.client.get(`/chat/public/${publicId}/validate/${token}`);\n    }\n    async createBooking(bookingData) {\n        return this.client.post(\"/marketplace/bookings\", bookingData);\n    }\n    async getBookings() {\n        return this.client.get(\"/marketplace/bookings\");\n    }\n    // Messaging endpoints (connects to your existing messaging system)\n    async getConversations() {\n        // Get current user to determine correct endpoint\n        const user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n        if (user.role === \"customer\") {\n            return this.client.get(`/chat/user/${user.id}/conversations`);\n        } else {\n            return this.client.get(`/chat/provider/${user.id}/conversations`);\n        }\n    }\n    // User profile endpoints\n    async getProfile() {\n        return this.client.get(\"/auth/profile\");\n    }\n    async updateProfile(profileData) {\n        return this.client.put(\"/auth/profile\", profileData);\n    }\n    // GDPR endpoints (connects to your existing GDPR system)\n    async getConsentStatus() {\n        return this.client.get(\"/gdpr/consent-summary\");\n    }\n    async updateConsent(consentData) {\n        return this.client.post(\"/gdpr/consent\", consentData);\n    }\n    // Marketplace Chat endpoints\n    async startMarketplaceConversation(data) {\n        console.log(\"\\uD83D\\uDD17 API Client - Starting marketplace conversation:\", data);\n        const payload = {\n            providerId: data.providerId,\n            customerName: data.customerName,\n            customerEmail: data.customerEmail,\n            customerPhone: data.customerPhone || \"\"\n        };\n        console.log(\"\\uD83D\\uDD17 API Client - Request payload:\", JSON.stringify(payload, null, 2));\n        try {\n            const response = await this.client.post(\"/chat/conversations\", payload);\n            console.log(\"\\uD83D\\uDD17 API Client - Response:\", response.data);\n            return response;\n        } catch (error) {\n            console.error(\"\\uD83D\\uDD17 API Client - Error:\", error.response?.data || error.message);\n            throw error;\n        }\n    }\n    // Alias for ChatModal compatibility\n    async createOrGetConversation(data) {\n        return this.startMarketplaceConversation(data);\n    }\n    async sendMarketplaceMessage(data) {\n        console.log(\"\\uD83D\\uDCAC API Client - Sending marketplace message:\", data.message.substring(0, 50) + \"...\");\n        console.log(\"\\uD83D\\uDCAC API Client - Base URL:\", this.client.defaults.baseURL);\n        console.log(\"\\uD83D\\uDCAC API Client - Full URL would be:\", this.client.defaults.baseURL + \"/chat/messages\");\n        return this.client.post(\"/chat/messages\", data);\n    }\n    // Alias for ChatModal compatibility\n    async sendMessage(data) {\n        return this.sendMarketplaceMessage(data);\n    }\n    async getMarketplaceMessages(conversationId, limit) {\n        console.log(\"\\uD83D\\uDCD6 API Client - Getting marketplace messages for:\", conversationId);\n        console.log(\"\\uD83D\\uDCD6 API Client - Base URL:\", this.client.defaults.baseURL);\n        const url = `/chat/conversations/${conversationId}/messages`;\n        console.log(\"\\uD83D\\uDCD6 API Client - Request URL:\", url);\n        console.log(\"\\uD83D\\uDCD6 API Client - Full URL would be:\", this.client.defaults.baseURL + url);\n        return this.client.get(url, {\n            params: limit ? {\n                limit\n            } : {}\n        });\n    }\n    // Alias for ChatModal compatibility\n    async getConversationMessages(conversationId, limit) {\n        return this.getMarketplaceMessages(conversationId, limit);\n    }\n    async getMarketplaceConversation(conversationId) {\n        return this.client.get(`/chat/conversations/${conversationId}`);\n    }\n    // Case Management API Methods (Updated to new endpoints)\n    async createCase(caseData) {\n        console.log(\"\\uD83D\\uDCCB API Client - Creating case:\", caseData);\n        return this.client.post(\"/cases\", caseData);\n    }\n    async getCases(filters) {\n        console.log(\"\\uD83D\\uDCCB API Client - Getting cases with filters:\", filters);\n        return this.client.get(\"/cases\", {\n            params: filters\n        });\n    }\n    async getCase(caseId) {\n        console.log(\"\\uD83D\\uDCCB API Client - Getting case:\", caseId);\n        return this.client.get(`/cases/${caseId}`);\n    }\n    async assignCase(caseId, action, message) {\n        console.log(\"\\uD83D\\uDCCB API Client - Assigning case:\", caseId, action);\n        if (action === \"accept\") {\n            // Use the new accept endpoint\n            return this.client.post(`/cases/${caseId}/accept`);\n        } else {\n            // Use the new decline endpoint\n            return this.client.post(`/cases/${caseId}/decline`, {\n                reason: message\n            });\n        }\n    }\n    async declineCase(caseId, providerId, reason) {\n        console.log(\"\\uD83D\\uDCCB API Client - Declining case:\", caseId, \"by provider:\", providerId);\n        return this.client.post(`/cases/${caseId}/decline`, {\n            providerId,\n            reason\n        });\n    }\n    async getDeclinedCases(providerId) {\n        console.log(\"\\uD83D\\uDEAB API Client - Getting declined cases for provider:\", providerId);\n        return this.client.get(`/cases/declined/${providerId}`);\n    }\n    async undeclineCase(caseId, providerId) {\n        console.log(\"✅ API Client - Un-declining case:\", caseId, \"for provider:\", providerId);\n        return this.client.post(`/cases/${caseId}/undecline`, {\n            providerId\n        });\n    }\n    async updateCaseStatus(caseId, status, message) {\n        console.log(\"\\uD83D\\uDCCB API Client - Updating case status:\", caseId, status);\n        if (status === \"completed\" || status === \"closed\") {\n            return this.client.post(`/cases/${caseId}/complete`, {\n                completionNotes: message\n            });\n        }\n        // For other status updates, we might need to add more endpoints\n        return this.client.put(`/cases/${caseId}/status`, {\n            status,\n            message\n        });\n    }\n    async updateCaseStatusDirect(caseId, status, message) {\n        console.log(\"\\uD83D\\uDCCB API Client - Direct status update:\", caseId, status);\n        return this.client.put(`/cases/${caseId}/status`, {\n            status,\n            message\n        });\n    }\n    async getProviderCases(providerId, status) {\n        console.log(\"\\uD83D\\uDCCB API Client - Getting provider cases:\", providerId, status);\n        const params = status ? {\n            status\n        } : {};\n        return this.client.get(`/cases/provider/${providerId}`, {\n            params\n        });\n    }\n    async getAvailableCases(providerId, filters) {\n        console.log(\"\\uD83D\\uDCCB API Client - Getting available cases:\", providerId, filters);\n        return this.client.get(`/cases/queue/${providerId}`, {\n            params: filters\n        });\n    }\n    async getProviderMarketplaceConversations(providerId) {\n        return this.client.get(`/chat/provider/${providerId}/conversations`);\n    }\n    async markMarketplaceAsRead(conversationId, senderType) {\n        return this.client.put(`/chat/conversations/${conversationId}/read`, {\n            senderType\n        });\n    }\n    // Case template methods\n    async getCaseTemplate(serviceCategory) {\n        return this.client.get(`/cases/templates/${serviceCategory}`);\n    }\n    async createServiceCase(data) {\n        return this.client.post(\"/cases\", data);\n    }\n    async updateServiceCase(caseId, data) {\n        return this.client.put(`/cases/${caseId}`, data);\n    }\n    async getServiceCaseByConversation(conversationId) {\n        return this.client.get(`/cases/conversation/${conversationId}`);\n    }\n    // Referral System API Methods\n    async getReferralDashboard() {\n        console.log(\"\\uD83D\\uDCCA API Client - Getting referral dashboard\");\n        return this.client.get(\"/referrals/dashboard\");\n    }\n    async generateReferralCode() {\n        console.log(\"\\uD83D\\uDD17 API Client - Generating referral code\");\n        return this.client.post(\"/referrals/generate\");\n    }\n    async trackReferralClick(providerId, data) {\n        console.log(\"\\uD83D\\uDC46 API Client - Tracking referral click:\", providerId);\n        return this.client.post(`/referrals/track/${providerId}`, data);\n    }\n    async getReferralStats(providerId) {\n        console.log(\"\\uD83D\\uDCC8 API Client - Getting referral stats:\", providerId);\n        return this.client.get(`/referrals/stats/${providerId}`);\n    }\n    async getReferredUsers() {\n        console.log(\"\\uD83D\\uDC65 API Client - Getting referred users\");\n        return this.client.get(\"/referrals/users\");\n    }\n    async getReferralRewards() {\n        console.log(\"\\uD83C\\uDF81 API Client - Getting referral rewards\");\n        return this.client.get(\"/referrals/rewards\");\n    }\n    async claimReferralReward(rewardId) {\n        console.log(\"\\uD83C\\uDFAF API Client - Claiming referral reward:\", rewardId);\n        return this.client.post(`/referrals/rewards/${rewardId}/claim`);\n    }\n    async getReferralLink() {\n        console.log(\"\\uD83D\\uDD17 API Client - Getting referral link\");\n        return this.client.get(\"/referrals/link\");\n    }\n    // Case Management Methods\n    async getCasesWithFilters(filters) {\n        console.log(\"\\uD83D\\uDCCB API Client - Getting cases with filters:\", filters);\n        const params = new URLSearchParams();\n        Object.entries(filters).forEach(([key, value])=>{\n            if (value !== undefined && value !== null) {\n                params.append(key, value.toString());\n            }\n        });\n        return this.client.get(`/cases?${params.toString()}`);\n    }\n    async getCaseStats(providerId, customerId) {\n        console.log(\"\\uD83D\\uDCCA API Client - Getting case stats\");\n        const params = new URLSearchParams();\n        if (providerId) params.append(\"providerId\", providerId);\n        if (customerId) params.append(\"customerId\", customerId);\n        return this.client.get(`/cases/stats?${params.toString()}`);\n    }\n    async acceptCase(caseId, providerId, providerName) {\n        console.log(\"✅ API Client - Accepting case:\", caseId);\n        return this.client.post(`/cases/${caseId}/accept`, {\n            providerId,\n            providerName\n        });\n    }\n    async completeCase(caseId, completionNotes, income) {\n        console.log(\"\\uD83C\\uDFC1 API Client - Completing case:\", caseId, \"with income:\", income);\n        return this.client.post(`/cases/${caseId}/complete`, {\n            completionNotes,\n            income\n        });\n    }\n    async getIncomeStats(providerId, startDate, endDate) {\n        console.log(\"\\uD83D\\uDCB0 API Client - Getting income stats for provider:\", providerId);\n        const params = new URLSearchParams();\n        if (startDate) params.append(\"startDate\", startDate);\n        if (endDate) params.append(\"endDate\", endDate);\n        const queryString = params.toString() ? `?${params.toString()}` : \"\";\n        return this.client.get(`/income/provider/${providerId}${queryString}`);\n    }\n    async getIncomeYears(providerId) {\n        console.log(\"\\uD83D\\uDCC5 API Client - Getting income years for provider:\", providerId);\n        return this.client.get(`/income/provider/${providerId}/years`);\n    }\n    async getIncomeTransactionsByMethod(providerId, paymentMethod) {\n        console.log(\"\\uD83D\\uDCB0 API Client - Getting transactions for method:\", paymentMethod);\n        return this.client.get(`/income/provider/${providerId}/method/${encodeURIComponent(paymentMethod)}`);\n    }\n    async getIncomeTransactionsByMonth(providerId, month) {\n        console.log(\"\\uD83D\\uDCB0 API Client - Getting transactions for month:\", month);\n        return this.client.get(`/income/provider/${providerId}/month/${month}`);\n    }\n    async updateIncomeTransaction(incomeId, data) {\n        console.log(\"\\uD83D\\uDCB0 API Client - Updating income transaction:\", incomeId);\n        return this.client.put(`/income/${incomeId}`, data);\n    }\n    async getSmartMatches(caseId, limit) {\n        console.log(\"\\uD83C\\uDFAF API Client - Getting smart matches for case:\", caseId);\n        const params = limit ? `?limit=${limit}` : \"\";\n        return this.client.get(`/cases/${caseId}/smart-matches${params}`);\n    }\n    // Notification endpoints\n    async getUserNotifications() {\n        console.log(\"\\uD83D\\uDD14 API Client - Getting user notifications\");\n        return this.client.get(\"/notifications\");\n    }\n    async getUnreadNotificationCount() {\n        console.log(\"\\uD83D\\uDD14 API Client - Getting unread notification count\");\n        return this.client.get(\"/notifications/unread-count\");\n    }\n    async markNotificationAsRead(notificationId) {\n        console.log(\"\\uD83D\\uDD14 API Client - Marking notification as read:\", notificationId);\n        return this.client.post(`/notifications/${notificationId}/read`);\n    }\n    async markAllNotificationsAsRead() {\n        console.log(\"\\uD83D\\uDD14 API Client - Marking all notifications as read\");\n        return this.client.post(\"/notifications/mark-all-read\");\n    }\n    // Review Methods\n    async createReview(reviewData) {\n        console.log(\"⭐ API Client - Creating review:\", reviewData.caseId);\n        return this.client.post(\"/reviews\", reviewData);\n    }\n    async getProviderReviews(providerId, page, limit) {\n        console.log(\"⭐ API Client - Getting provider reviews:\", providerId);\n        const params = new URLSearchParams();\n        if (page) params.append(\"page\", page.toString());\n        if (limit) params.append(\"limit\", limit.toString());\n        return this.client.get(`/reviews/provider/${providerId}?${params.toString()}`);\n    }\n    async getProviderReviewStats(providerId) {\n        console.log(\"\\uD83D\\uDCCA API Client - Getting provider review stats:\", providerId);\n        return this.client.get(`/reviews/provider/${providerId}/stats`);\n    }\n    async canReviewCase(caseId) {\n        console.log(\"❓ API Client - Checking if can review case:\", caseId);\n        return this.client.get(`/reviews/case/${caseId}/can-review`);\n    }\n    async getPendingReviews() {\n        console.log(\"⏳ API Client - Getting pending reviews\");\n        return this.client.get(\"/reviews/pending\");\n    }\n}\n// Export singleton instance\nconst apiClient = new ApiClient();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (apiClient);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU8sSUFBSSxDQUFDdkMsTUFBTSxDQUFDd0MsR0FBRyxDQUFDO0lBQ3pCO0FBQ0Y7QUFFQSw0QkFBNEI7QUFDckIsTUFBTWlILFlBQVksSUFBSTNKLFlBQVc7QUFDeEMsaUVBQWUySixTQUFTQSxFQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VydmljZXRleHRwcm8tbWFya2V0cGxhY2UvLi9zcmMvbGliL2FwaS50cz8yZmFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcywgeyBBeGlvc0luc3RhbmNlLCBBeGlvc1Jlc3BvbnNlIH0gZnJvbSAnYXhpb3MnXG5cbi8vIEFQSSBjbGllbnQgY29uZmlndXJhdGlvbiAtIGNvbm5lY3RzIHRvIHlvdXIgZXhpc3RpbmcgYmFja2VuZFxuY29uc3QgQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovLzE5Mi4xNjguMC4xMjk6MzAwMC9hcGkvdjEnXG5cbmNsYXNzIEFwaUNsaWVudCB7XG4gIHByaXZhdGUgY2xpZW50OiBBeGlvc0luc3RhbmNlXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jbGllbnQgPSBheGlvcy5jcmVhdGUoe1xuICAgICAgYmFzZVVSTDogQVBJX0JBU0VfVVJMLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIHRpbWVvdXQ6IDEwMDAwLFxuICAgIH0pXG5cbiAgICB0aGlzLnNldHVwSW50ZXJjZXB0b3JzKClcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBJbnRlcmNlcHRvcnMoKSB7XG4gICAgLy8gUmVxdWVzdCBpbnRlcmNlcHRvciAtIGFkZCBhdXRoIHRva2VuXG4gICAgdGhpcy5jbGllbnQuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKFxuICAgICAgKGNvbmZpZykgPT4ge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHRoaXMuZ2V0QXV0aFRva2VuKClcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBCZWFyZXIgJHt0b2tlbn1gXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbmZpZ1xuICAgICAgfSxcbiAgICAgIChlcnJvcikgPT4gUHJvbWlzZS5yZWplY3QoZXJyb3IpXG4gICAgKVxuXG4gICAgLy8gUmVzcG9uc2UgaW50ZXJjZXB0b3IgLSBoYW5kbGUgZXJyb3JzXG4gICAgdGhpcy5jbGllbnQuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShcbiAgICAgIChyZXNwb25zZSkgPT4gcmVzcG9uc2UsXG4gICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAgIC8vIFRva2VuIGV4cGlyZWQsIHJlZGlyZWN0IHRvIGxvZ2luXG4gICAgICAgICAgdGhpcy5jbGVhckF1dGhUb2tlbigpXG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2F1dGgvbG9naW4nXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIHByaXZhdGUgZ2V0QXV0aFRva2VuKCk6IHN0cmluZyB8IG51bGwge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJylcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHByaXZhdGUgY2xlYXJBdXRoVG9rZW4oKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aF90b2tlbicpXG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncmVmcmVzaF90b2tlbicpXG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcl9kYXRhJylcbiAgICB9XG4gIH1cblxuICAvLyBBdXRoZW50aWNhdGlvbiBlbmRwb2ludHNcbiAgYXN5bmMgbG9naW4oZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQucG9zdCgnL2F1dGgvbG9naW4nLCB7IGVtYWlsLCBwYXNzd29yZCB9KVxuICAgIGNvbnN0IHsgdG9rZW4sIHJlZnJlc2hUb2tlbiwgdXNlciB9ID0gcmVzcG9uc2UuZGF0YVxuICAgIFxuICAgIC8vIFN0b3JlIHRva2Vuc1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2F1dGhfdG9rZW4nLCB0b2tlbilcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWZyZXNoX3Rva2VuJywgcmVmcmVzaFRva2VuKVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4geyB1c2VyLCB0b2tlbiwgcmVmcmVzaFRva2VuIH1cbiAgfVxuXG4gIGFzeW5jIHJlZ2lzdGVyKHVzZXJEYXRhOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQucG9zdCgnL2F1dGgvcmVnaXN0ZXInLCB1c2VyRGF0YSlcbiAgfVxuXG4gIGFzeW5jIGxvZ291dCgpIHtcbiAgICB0aGlzLmNsZWFyQXV0aFRva2VuKClcbiAgICByZXR1cm4gdGhpcy5jbGllbnQucG9zdCgnL2F1dGgvbG9nb3V0JylcbiAgfVxuXG4gIC8vIE1hcmtldHBsYWNlIGVuZHBvaW50c1xuICBhc3luYyBzZWFyY2hQcm92aWRlcnMoZmlsdGVyczogYW55KSB7XG4gICAgY29uc29sZS5sb2coJ/CflI0gQVBJIENsaWVudCAtIE1ha2luZyByZXF1ZXN0IHdpdGggZmlsdGVyczonLCBmaWx0ZXJzKVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldCgnL21hcmtldHBsYWNlL3Byb3ZpZGVycy9zZWFyY2gnLCB7IHBhcmFtczogZmlsdGVycyB9KVxuICAgICAgY29uc29sZS5sb2coJ+KchSBBUEkgQ2xpZW50IC0gUmVzcG9uc2UgcmVjZWl2ZWQ6JywgcmVzcG9uc2UpXG4gICAgICByZXR1cm4gcmVzcG9uc2VcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEFQSSBDbGllbnQgLSBSZXF1ZXN0IGZhaWxlZDonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0UHJvdmlkZXIoaWQ6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5nZXQoYC9tYXJrZXRwbGFjZS9wcm92aWRlcnMvJHtpZH1gKVxuICB9XG5cbiAgYXN5bmMgdmFsaWRhdGVQdWJsaWNDaGF0KHB1YmxpY0lkOiBzdHJpbmcsIHRva2VuOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZ2V0KGAvY2hhdC9wdWJsaWMvJHtwdWJsaWNJZH0vdmFsaWRhdGUvJHt0b2tlbn1gKVxuICB9XG5cbiAgYXN5bmMgY3JlYXRlQm9va2luZyhib29raW5nRGF0YTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LnBvc3QoJy9tYXJrZXRwbGFjZS9ib29raW5ncycsIGJvb2tpbmdEYXRhKVxuICB9XG5cbiAgYXN5bmMgZ2V0Qm9va2luZ3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmdldCgnL21hcmtldHBsYWNlL2Jvb2tpbmdzJylcbiAgfVxuXG4gIC8vIE1lc3NhZ2luZyBlbmRwb2ludHMgKGNvbm5lY3RzIHRvIHlvdXIgZXhpc3RpbmcgbWVzc2FnaW5nIHN5c3RlbSlcbiAgYXN5bmMgZ2V0Q29udmVyc2F0aW9ucygpIHtcbiAgICAvLyBHZXQgY3VycmVudCB1c2VyIHRvIGRldGVybWluZSBjb3JyZWN0IGVuZHBvaW50XG4gICAgY29uc3QgdXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSB8fCAne30nKVxuICAgIGlmICh1c2VyLnJvbGUgPT09ICdjdXN0b21lcicpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsaWVudC5nZXQoYC9jaGF0L3VzZXIvJHt1c2VyLmlkfS9jb252ZXJzYXRpb25zYClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuY2xpZW50LmdldChgL2NoYXQvcHJvdmlkZXIvJHt1c2VyLmlkfS9jb252ZXJzYXRpb25zYClcbiAgICB9XG4gIH1cblxuICAvLyBVc2VyIHByb2ZpbGUgZW5kcG9pbnRzXG4gIGFzeW5jIGdldFByb2ZpbGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmdldCgnL2F1dGgvcHJvZmlsZScpXG4gIH1cblxuICBhc3luYyB1cGRhdGVQcm9maWxlKHByb2ZpbGVEYXRhOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQucHV0KCcvYXV0aC9wcm9maWxlJywgcHJvZmlsZURhdGEpXG4gIH1cblxuICAvLyBHRFBSIGVuZHBvaW50cyAoY29ubmVjdHMgdG8geW91ciBleGlzdGluZyBHRFBSIHN5c3RlbSlcbiAgYXN5bmMgZ2V0Q29uc2VudFN0YXR1cygpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZ2V0KCcvZ2Rwci9jb25zZW50LXN1bW1hcnknKVxuICB9XG5cbiAgYXN5bmMgdXBkYXRlQ29uc2VudChjb25zZW50RGF0YTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LnBvc3QoJy9nZHByL2NvbnNlbnQnLCBjb25zZW50RGF0YSlcbiAgfVxuXG4gIC8vIE1hcmtldHBsYWNlIENoYXQgZW5kcG9pbnRzXG4gIGFzeW5jIHN0YXJ0TWFya2V0cGxhY2VDb252ZXJzYXRpb24oZGF0YToge1xuICAgIHByb3ZpZGVySWQ6IHN0cmluZ1xuICAgIGN1c3RvbWVyTmFtZTogc3RyaW5nXG4gICAgY3VzdG9tZXJFbWFpbDogc3RyaW5nXG4gICAgY3VzdG9tZXJQaG9uZT86IHN0cmluZ1xuICB9KSB7XG4gICAgY29uc29sZS5sb2coJ/CflJcgQVBJIENsaWVudCAtIFN0YXJ0aW5nIG1hcmtldHBsYWNlIGNvbnZlcnNhdGlvbjonLCBkYXRhKVxuICAgIFxuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICBwcm92aWRlcklkOiBkYXRhLnByb3ZpZGVySWQsXG4gICAgICBjdXN0b21lck5hbWU6IGRhdGEuY3VzdG9tZXJOYW1lLFxuICAgICAgY3VzdG9tZXJFbWFpbDogZGF0YS5jdXN0b21lckVtYWlsLFxuICAgICAgY3VzdG9tZXJQaG9uZTogZGF0YS5jdXN0b21lclBob25lIHx8ICcnXG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5SXIEFQSSBDbGllbnQgLSBSZXF1ZXN0IHBheWxvYWQ6JywgSlNPTi5zdHJpbmdpZnkocGF5bG9hZCwgbnVsbCwgMikpXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQucG9zdCgnL2NoYXQvY29udmVyc2F0aW9ucycsIHBheWxvYWQpXG4gICAgICBjb25zb2xlLmxvZygn8J+UlyBBUEkgQ2xpZW50IC0gUmVzcG9uc2U6JywgcmVzcG9uc2UuZGF0YSlcbiAgICAgIHJldHVybiByZXNwb25zZVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ/CflJcgQVBJIENsaWVudCAtIEVycm9yOicsIGVycm9yLnJlc3BvbnNlPy5kYXRhIHx8IGVycm9yLm1lc3NhZ2UpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIC8vIEFsaWFzIGZvciBDaGF0TW9kYWwgY29tcGF0aWJpbGl0eVxuICBhc3luYyBjcmVhdGVPckdldENvbnZlcnNhdGlvbihkYXRhOiB7XG4gICAgcHJvdmlkZXJJZDogc3RyaW5nXG4gICAgY3VzdG9tZXJOYW1lOiBzdHJpbmdcbiAgICBjdXN0b21lckVtYWlsOiBzdHJpbmdcbiAgICBjdXN0b21lclBob25lPzogc3RyaW5nXG4gIH0pIHtcbiAgICByZXR1cm4gdGhpcy5zdGFydE1hcmtldHBsYWNlQ29udmVyc2F0aW9uKGRhdGEpXG4gIH1cblxuICBhc3luYyBzZW5kTWFya2V0cGxhY2VNZXNzYWdlKGRhdGE6IHtcbiAgICBjb252ZXJzYXRpb25JZDogc3RyaW5nXG4gICAgc2VuZGVyVHlwZTogJ2N1c3RvbWVyJyB8ICdwcm92aWRlcidcbiAgICBzZW5kZXJOYW1lOiBzdHJpbmdcbiAgICBtZXNzYWdlOiBzdHJpbmdcbiAgICBtZXNzYWdlVHlwZT86IHN0cmluZ1xuICB9KSB7XG4gICAgY29uc29sZS5sb2coJ/CfkqwgQVBJIENsaWVudCAtIFNlbmRpbmcgbWFya2V0cGxhY2UgbWVzc2FnZTonLCBkYXRhLm1lc3NhZ2Uuc3Vic3RyaW5nKDAsIDUwKSArICcuLi4nKVxuICAgIGNvbnNvbGUubG9nKCfwn5KsIEFQSSBDbGllbnQgLSBCYXNlIFVSTDonLCB0aGlzLmNsaWVudC5kZWZhdWx0cy5iYXNlVVJMKVxuICAgIGNvbnNvbGUubG9nKCfwn5KsIEFQSSBDbGllbnQgLSBGdWxsIFVSTCB3b3VsZCBiZTonLCB0aGlzLmNsaWVudC5kZWZhdWx0cy5iYXNlVVJMICsgJy9jaGF0L21lc3NhZ2VzJylcbiAgICByZXR1cm4gdGhpcy5jbGllbnQucG9zdCgnL2NoYXQvbWVzc2FnZXMnLCBkYXRhKVxuICB9XG5cbiAgLy8gQWxpYXMgZm9yIENoYXRNb2RhbCBjb21wYXRpYmlsaXR5XG4gIGFzeW5jIHNlbmRNZXNzYWdlKGRhdGE6IHtcbiAgICBjb252ZXJzYXRpb25JZDogc3RyaW5nXG4gICAgc2VuZGVyVHlwZTogJ2N1c3RvbWVyJyB8ICdwcm92aWRlcidcbiAgICBzZW5kZXJOYW1lOiBzdHJpbmdcbiAgICBtZXNzYWdlOiBzdHJpbmdcbiAgICBtZXNzYWdlVHlwZT86IHN0cmluZ1xuICB9KSB7XG4gICAgcmV0dXJuIHRoaXMuc2VuZE1hcmtldHBsYWNlTWVzc2FnZShkYXRhKVxuICB9XG5cbiAgYXN5bmMgZ2V0TWFya2V0cGxhY2VNZXNzYWdlcyhjb252ZXJzYXRpb25JZDogc3RyaW5nLCBsaW1pdD86IG51bWJlcikge1xuICAgIGNvbnNvbGUubG9nKCfwn5OWIEFQSSBDbGllbnQgLSBHZXR0aW5nIG1hcmtldHBsYWNlIG1lc3NhZ2VzIGZvcjonLCBjb252ZXJzYXRpb25JZClcbiAgICBjb25zb2xlLmxvZygn8J+TliBBUEkgQ2xpZW50IC0gQmFzZSBVUkw6JywgdGhpcy5jbGllbnQuZGVmYXVsdHMuYmFzZVVSTClcbiAgICBjb25zdCB1cmwgPSBgL2NoYXQvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9tZXNzYWdlc2BcbiAgICBjb25zb2xlLmxvZygn8J+TliBBUEkgQ2xpZW50IC0gUmVxdWVzdCBVUkw6JywgdXJsKVxuICAgIGNvbnNvbGUubG9nKCfwn5OWIEFQSSBDbGllbnQgLSBGdWxsIFVSTCB3b3VsZCBiZTonLCB0aGlzLmNsaWVudC5kZWZhdWx0cy5iYXNlVVJMICsgdXJsKVxuICAgIHJldHVybiB0aGlzLmNsaWVudC5nZXQodXJsLCB7XG4gICAgICBwYXJhbXM6IGxpbWl0ID8geyBsaW1pdCB9IDoge31cbiAgICB9KVxuICB9XG5cbiAgLy8gQWxpYXMgZm9yIENoYXRNb2RhbCBjb21wYXRpYmlsaXR5XG4gIGFzeW5jIGdldENvbnZlcnNhdGlvbk1lc3NhZ2VzKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsIGxpbWl0PzogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TWFya2V0cGxhY2VNZXNzYWdlcyhjb252ZXJzYXRpb25JZCwgbGltaXQpXG4gIH1cblxuICBhc3luYyBnZXRNYXJrZXRwbGFjZUNvbnZlcnNhdGlvbihjb252ZXJzYXRpb25JZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmdldChgL2NoYXQvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfWApXG4gIH1cblxuICAvLyBDYXNlIE1hbmFnZW1lbnQgQVBJIE1ldGhvZHMgKFVwZGF0ZWQgdG8gbmV3IGVuZHBvaW50cylcbiAgYXN5bmMgY3JlYXRlQ2FzZShjYXNlRGF0YTogYW55KSB7XG4gICAgY29uc29sZS5sb2coJ/Cfk4sgQVBJIENsaWVudCAtIENyZWF0aW5nIGNhc2U6JywgY2FzZURhdGEpXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LnBvc3QoJy9jYXNlcycsIGNhc2VEYXRhKVxuICB9XG5cbiAgYXN5bmMgZ2V0Q2FzZXMoZmlsdGVycz86IHtcbiAgICBzdGF0dXM/OiBzdHJpbmdcbiAgICBjYXRlZ29yeT86IHN0cmluZ1xuICAgIHByb3ZpZGVySWQ/OiBzdHJpbmdcbiAgICBjdXN0b21lcklkPzogc3RyaW5nXG4gICAgcGFnZT86IG51bWJlclxuICAgIGxpbWl0PzogbnVtYmVyXG4gICAgb2Zmc2V0PzogbnVtYmVyXG4gIH0pIHtcbiAgICBjb25zb2xlLmxvZygn8J+TiyBBUEkgQ2xpZW50IC0gR2V0dGluZyBjYXNlcyB3aXRoIGZpbHRlcnM6JywgZmlsdGVycylcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZ2V0KCcvY2FzZXMnLCB7IHBhcmFtczogZmlsdGVycyB9KVxuICB9XG5cbiAgYXN5bmMgZ2V0Q2FzZShjYXNlSWQ6IHN0cmluZykge1xuICAgIGNvbnNvbGUubG9nKCfwn5OLIEFQSSBDbGllbnQgLSBHZXR0aW5nIGNhc2U6JywgY2FzZUlkKVxuICAgIHJldHVybiB0aGlzLmNsaWVudC5nZXQoYC9jYXNlcy8ke2Nhc2VJZH1gKVxuICB9XG5cbiAgYXN5bmMgYXNzaWduQ2FzZShjYXNlSWQ6IHN0cmluZywgYWN0aW9uOiAnYWNjZXB0JyB8ICdkZWNsaW5lJywgbWVzc2FnZT86IHN0cmluZykge1xuICAgIGNvbnNvbGUubG9nKCfwn5OLIEFQSSBDbGllbnQgLSBBc3NpZ25pbmcgY2FzZTonLCBjYXNlSWQsIGFjdGlvbilcbiAgICBpZiAoYWN0aW9uID09PSAnYWNjZXB0Jykge1xuICAgICAgLy8gVXNlIHRoZSBuZXcgYWNjZXB0IGVuZHBvaW50XG4gICAgICByZXR1cm4gdGhpcy5jbGllbnQucG9zdChgL2Nhc2VzLyR7Y2FzZUlkfS9hY2NlcHRgKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVc2UgdGhlIG5ldyBkZWNsaW5lIGVuZHBvaW50XG4gICAgICByZXR1cm4gdGhpcy5jbGllbnQucG9zdChgL2Nhc2VzLyR7Y2FzZUlkfS9kZWNsaW5lYCwgeyByZWFzb246IG1lc3NhZ2UgfSlcbiAgICB9XG4gIH1cblxuICBhc3luYyBkZWNsaW5lQ2FzZShjYXNlSWQ6IHN0cmluZywgcHJvdmlkZXJJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcbiAgICBjb25zb2xlLmxvZygn8J+TiyBBUEkgQ2xpZW50IC0gRGVjbGluaW5nIGNhc2U6JywgY2FzZUlkLCAnYnkgcHJvdmlkZXI6JywgcHJvdmlkZXJJZClcbiAgICByZXR1cm4gdGhpcy5jbGllbnQucG9zdChgL2Nhc2VzLyR7Y2FzZUlkfS9kZWNsaW5lYCwgeyBwcm92aWRlcklkLCByZWFzb24gfSlcbiAgfVxuXG4gIGFzeW5jIGdldERlY2xpbmVkQ2FzZXMocHJvdmlkZXJJZDogc3RyaW5nKSB7XG4gICAgY29uc29sZS5sb2coJ/CfmqsgQVBJIENsaWVudCAtIEdldHRpbmcgZGVjbGluZWQgY2FzZXMgZm9yIHByb3ZpZGVyOicsIHByb3ZpZGVySWQpXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmdldChgL2Nhc2VzL2RlY2xpbmVkLyR7cHJvdmlkZXJJZH1gKVxuICB9XG5cbiAgYXN5bmMgdW5kZWNsaW5lQ2FzZShjYXNlSWQ6IHN0cmluZywgcHJvdmlkZXJJZDogc3RyaW5nKSB7XG4gICAgY29uc29sZS5sb2coJ+KchSBBUEkgQ2xpZW50IC0gVW4tZGVjbGluaW5nIGNhc2U6JywgY2FzZUlkLCAnZm9yIHByb3ZpZGVyOicsIHByb3ZpZGVySWQpXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LnBvc3QoYC9jYXNlcy8ke2Nhc2VJZH0vdW5kZWNsaW5lYCwgeyBwcm92aWRlcklkIH0pXG4gIH1cblxuICBhc3luYyB1cGRhdGVDYXNlU3RhdHVzKGNhc2VJZDogc3RyaW5nLCBzdGF0dXM6IHN0cmluZywgbWVzc2FnZT86IHN0cmluZykge1xuICAgIGNvbnNvbGUubG9nKCfwn5OLIEFQSSBDbGllbnQgLSBVcGRhdGluZyBjYXNlIHN0YXR1czonLCBjYXNlSWQsIHN0YXR1cylcbiAgICBpZiAoc3RhdHVzID09PSAnY29tcGxldGVkJyB8fCBzdGF0dXMgPT09ICdjbG9zZWQnKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbGllbnQucG9zdChgL2Nhc2VzLyR7Y2FzZUlkfS9jb21wbGV0ZWAsIHsgY29tcGxldGlvbk5vdGVzOiBtZXNzYWdlIH0pXG4gICAgfVxuICAgIC8vIEZvciBvdGhlciBzdGF0dXMgdXBkYXRlcywgd2UgbWlnaHQgbmVlZCB0byBhZGQgbW9yZSBlbmRwb2ludHNcbiAgICByZXR1cm4gdGhpcy5jbGllbnQucHV0KGAvY2FzZXMvJHtjYXNlSWR9L3N0YXR1c2AsIHsgc3RhdHVzLCBtZXNzYWdlIH0pXG4gIH1cblxuICBhc3luYyB1cGRhdGVDYXNlU3RhdHVzRGlyZWN0KGNhc2VJZDogc3RyaW5nLCBzdGF0dXM6IHN0cmluZywgbWVzc2FnZT86IHN0cmluZykge1xuICAgIGNvbnNvbGUubG9nKCfwn5OLIEFQSSBDbGllbnQgLSBEaXJlY3Qgc3RhdHVzIHVwZGF0ZTonLCBjYXNlSWQsIHN0YXR1cylcbiAgICByZXR1cm4gdGhpcy5jbGllbnQucHV0KGAvY2FzZXMvJHtjYXNlSWR9L3N0YXR1c2AsIHsgc3RhdHVzLCBtZXNzYWdlIH0pXG4gIH1cblxuICBhc3luYyBnZXRQcm92aWRlckNhc2VzKHByb3ZpZGVySWQ6IHN0cmluZywgc3RhdHVzPzogc3RyaW5nKSB7XG4gICAgY29uc29sZS5sb2coJ/Cfk4sgQVBJIENsaWVudCAtIEdldHRpbmcgcHJvdmlkZXIgY2FzZXM6JywgcHJvdmlkZXJJZCwgc3RhdHVzKVxuICAgIGNvbnN0IHBhcmFtcyA9IHN0YXR1cyA/IHsgc3RhdHVzIH0gOiB7fVxuICAgIHJldHVybiB0aGlzLmNsaWVudC5nZXQoYC9jYXNlcy9wcm92aWRlci8ke3Byb3ZpZGVySWR9YCwgeyBwYXJhbXMgfSlcbiAgfVxuXG4gIGFzeW5jIGdldEF2YWlsYWJsZUNhc2VzKHByb3ZpZGVySWQ6IHN0cmluZywgZmlsdGVycz86IHtcbiAgICBjYXRlZ29yeT86IHN0cmluZ1xuICAgIGxvY2F0aW9uPzogc3RyaW5nXG4gICAgcGFnZT86IG51bWJlclxuICAgIGxpbWl0PzogbnVtYmVyXG4gIH0pIHtcbiAgICBjb25zb2xlLmxvZygn8J+TiyBBUEkgQ2xpZW50IC0gR2V0dGluZyBhdmFpbGFibGUgY2FzZXM6JywgcHJvdmlkZXJJZCwgZmlsdGVycylcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZ2V0KGAvY2FzZXMvcXVldWUvJHtwcm92aWRlcklkfWAsIHsgcGFyYW1zOiBmaWx0ZXJzIH0pXG4gIH1cblxuICBhc3luYyBnZXRQcm92aWRlck1hcmtldHBsYWNlQ29udmVyc2F0aW9ucyhwcm92aWRlcklkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZ2V0KGAvY2hhdC9wcm92aWRlci8ke3Byb3ZpZGVySWR9L2NvbnZlcnNhdGlvbnNgKVxuICB9XG5cbiAgYXN5bmMgbWFya01hcmtldHBsYWNlQXNSZWFkKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsIHNlbmRlclR5cGU6ICdjdXN0b21lcicgfCAncHJvdmlkZXInKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LnB1dChgL2NoYXQvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklkfS9yZWFkYCwgeyBzZW5kZXJUeXBlIH0pXG4gIH1cblxuICAvLyBDYXNlIHRlbXBsYXRlIG1ldGhvZHNcbiAgYXN5bmMgZ2V0Q2FzZVRlbXBsYXRlKHNlcnZpY2VDYXRlZ29yeTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmdldChgL2Nhc2VzL3RlbXBsYXRlcy8ke3NlcnZpY2VDYXRlZ29yeX1gKVxuICB9XG5cbiAgYXN5bmMgY3JlYXRlU2VydmljZUNhc2UoZGF0YToge1xuICAgIGNvbnZlcnNhdGlvbklkOiBzdHJpbmdcbiAgICB0ZW1wbGF0ZUlkOiBzdHJpbmdcbiAgICBjYXNlRGF0YTogUmVjb3JkPHN0cmluZywgYW55PlxuICB9KSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LnBvc3QoJy9jYXNlcycsIGRhdGEpXG4gIH1cblxuICBhc3luYyB1cGRhdGVTZXJ2aWNlQ2FzZShjYXNlSWQ6IHN0cmluZywgZGF0YToge1xuICAgIHN0YXR1cz86IHN0cmluZ1xuICAgIGNhc2VEYXRhPzogYW55XG4gICAgZXN0aW1hdGVkQ29zdD86IG51bWJlclxuICAgIGVzdGltYXRlZER1cmF0aW9uPzogbnVtYmVyXG4gICAgc2NoZWR1bGVkRGF0ZT86IHN0cmluZ1xuICB9KSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LnB1dChgL2Nhc2VzLyR7Y2FzZUlkfWAsIGRhdGEpXG4gIH1cblxuICBhc3luYyBnZXRTZXJ2aWNlQ2FzZUJ5Q29udmVyc2F0aW9uKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZ2V0KGAvY2FzZXMvY29udmVyc2F0aW9uLyR7Y29udmVyc2F0aW9uSWR9YClcbiAgfVxuXG5cbiAgLy8gUmVmZXJyYWwgU3lzdGVtIEFQSSBNZXRob2RzXG4gIGFzeW5jIGdldFJlZmVycmFsRGFzaGJvYXJkKCkge1xuICAgIGNvbnNvbGUubG9nKCfwn5OKIEFQSSBDbGllbnQgLSBHZXR0aW5nIHJlZmVycmFsIGRhc2hib2FyZCcpXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmdldCgnL3JlZmVycmFscy9kYXNoYm9hcmQnKVxuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGVSZWZlcnJhbENvZGUoKSB7XG4gICAgY29uc29sZS5sb2coJ/CflJcgQVBJIENsaWVudCAtIEdlbmVyYXRpbmcgcmVmZXJyYWwgY29kZScpXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LnBvc3QoJy9yZWZlcnJhbHMvZ2VuZXJhdGUnKVxuICB9XG5cbiAgYXN5bmMgdHJhY2tSZWZlcnJhbENsaWNrKHByb3ZpZGVySWQ6IHN0cmluZywgZGF0YToge1xuICAgIGN1c3RvbWVyVXNlcklkPzogc3RyaW5nXG4gICAgdmlzaXRvcklkOiBzdHJpbmdcbiAgfSkge1xuICAgIGNvbnNvbGUubG9nKCfwn5GGIEFQSSBDbGllbnQgLSBUcmFja2luZyByZWZlcnJhbCBjbGljazonLCBwcm92aWRlcklkKVxuICAgIHJldHVybiB0aGlzLmNsaWVudC5wb3N0KGAvcmVmZXJyYWxzL3RyYWNrLyR7cHJvdmlkZXJJZH1gLCBkYXRhKVxuICB9XG5cbiAgYXN5bmMgZ2V0UmVmZXJyYWxTdGF0cyhwcm92aWRlcklkOiBzdHJpbmcpIHtcbiAgICBjb25zb2xlLmxvZygn8J+TiCBBUEkgQ2xpZW50IC0gR2V0dGluZyByZWZlcnJhbCBzdGF0czonLCBwcm92aWRlcklkKVxuICAgIHJldHVybiB0aGlzLmNsaWVudC5nZXQoYC9yZWZlcnJhbHMvc3RhdHMvJHtwcm92aWRlcklkfWApXG4gIH1cblxuICBhc3luYyBnZXRSZWZlcnJlZFVzZXJzKCkge1xuICAgIGNvbnNvbGUubG9nKCfwn5GlIEFQSSBDbGllbnQgLSBHZXR0aW5nIHJlZmVycmVkIHVzZXJzJylcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZ2V0KCcvcmVmZXJyYWxzL3VzZXJzJylcbiAgfVxuXG4gIGFzeW5jIGdldFJlZmVycmFsUmV3YXJkcygpIHtcbiAgICBjb25zb2xlLmxvZygn8J+OgSBBUEkgQ2xpZW50IC0gR2V0dGluZyByZWZlcnJhbCByZXdhcmRzJylcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZ2V0KCcvcmVmZXJyYWxzL3Jld2FyZHMnKVxuICB9XG5cbiAgYXN5bmMgY2xhaW1SZWZlcnJhbFJld2FyZChyZXdhcmRJZDogc3RyaW5nKSB7XG4gICAgY29uc29sZS5sb2coJ/Cfjq8gQVBJIENsaWVudCAtIENsYWltaW5nIHJlZmVycmFsIHJld2FyZDonLCByZXdhcmRJZClcbiAgICByZXR1cm4gdGhpcy5jbGllbnQucG9zdChgL3JlZmVycmFscy9yZXdhcmRzLyR7cmV3YXJkSWR9L2NsYWltYClcbiAgfVxuXG4gIGFzeW5jIGdldFJlZmVycmFsTGluaygpIHtcbiAgICBjb25zb2xlLmxvZygn8J+UlyBBUEkgQ2xpZW50IC0gR2V0dGluZyByZWZlcnJhbCBsaW5rJylcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZ2V0KCcvcmVmZXJyYWxzL2xpbmsnKVxuICB9XG5cbiAgLy8gQ2FzZSBNYW5hZ2VtZW50IE1ldGhvZHNcbiAgYXN5bmMgZ2V0Q2FzZXNXaXRoRmlsdGVycyhmaWx0ZXJzOiB7XG4gICAgc3RhdHVzPzogc3RyaW5nXG4gICAgY2F0ZWdvcnk/OiBzdHJpbmdcbiAgICBjaXR5Pzogc3RyaW5nXG4gICAgbmVpZ2hib3Job29kPzogc3RyaW5nXG4gICAgcHJvdmlkZXJJZD86IHN0cmluZ1xuICAgIGN1c3RvbWVySWQ/OiBzdHJpbmdcbiAgICBjcmVhdGVkQnlVc2VySWQ/OiBzdHJpbmdcbiAgICBvbmx5VW5hc3NpZ25lZD86IHN0cmluZ1xuICAgIHBhZ2U/OiBudW1iZXJcbiAgICBsaW1pdD86IG51bWJlclxuICAgIHNvcnRCeT86IHN0cmluZ1xuICAgIHNvcnRPcmRlcj86IHN0cmluZ1xuICB9KSB7XG4gICAgY29uc29sZS5sb2coJ/Cfk4sgQVBJIENsaWVudCAtIEdldHRpbmcgY2FzZXMgd2l0aCBmaWx0ZXJzOicsIGZpbHRlcnMpXG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpXG4gICAgT2JqZWN0LmVudHJpZXMoZmlsdGVycykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBwYXJhbXMuYXBwZW5kKGtleSwgdmFsdWUudG9TdHJpbmcoKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiB0aGlzLmNsaWVudC5nZXQoYC9jYXNlcz8ke3BhcmFtcy50b1N0cmluZygpfWApXG4gIH1cblxuICBhc3luYyBnZXRDYXNlU3RhdHMocHJvdmlkZXJJZD86IHN0cmluZywgY3VzdG9tZXJJZD86IHN0cmluZykge1xuICAgIGNvbnNvbGUubG9nKCfwn5OKIEFQSSBDbGllbnQgLSBHZXR0aW5nIGNhc2Ugc3RhdHMnKVxuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKVxuICAgIGlmIChwcm92aWRlcklkKSBwYXJhbXMuYXBwZW5kKCdwcm92aWRlcklkJywgcHJvdmlkZXJJZClcbiAgICBpZiAoY3VzdG9tZXJJZCkgcGFyYW1zLmFwcGVuZCgnY3VzdG9tZXJJZCcsIGN1c3RvbWVySWQpXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmdldChgL2Nhc2VzL3N0YXRzPyR7cGFyYW1zLnRvU3RyaW5nKCl9YClcbiAgfVxuXG4gIGFzeW5jIGFjY2VwdENhc2UoY2FzZUlkOiBzdHJpbmcsIHByb3ZpZGVySWQ6IHN0cmluZywgcHJvdmlkZXJOYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zb2xlLmxvZygn4pyFIEFQSSBDbGllbnQgLSBBY2NlcHRpbmcgY2FzZTonLCBjYXNlSWQpXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LnBvc3QoYC9jYXNlcy8ke2Nhc2VJZH0vYWNjZXB0YCwge1xuICAgICAgcHJvdmlkZXJJZCxcbiAgICAgIHByb3ZpZGVyTmFtZVxuICAgIH0pXG4gIH1cblxuICBhc3luYyBjb21wbGV0ZUNhc2UoY2FzZUlkOiBzdHJpbmcsIGNvbXBsZXRpb25Ob3Rlcz86IHN0cmluZywgaW5jb21lPzogeyBhbW91bnQ6IG51bWJlcjsgcGF5bWVudE1ldGhvZD86IHN0cmluZzsgbm90ZXM/OiBzdHJpbmcgfSkge1xuICAgIGNvbnNvbGUubG9nKCfwn4+BIEFQSSBDbGllbnQgLSBDb21wbGV0aW5nIGNhc2U6JywgY2FzZUlkLCAnd2l0aCBpbmNvbWU6JywgaW5jb21lKVxuICAgIHJldHVybiB0aGlzLmNsaWVudC5wb3N0KGAvY2FzZXMvJHtjYXNlSWR9L2NvbXBsZXRlYCwge1xuICAgICAgY29tcGxldGlvbk5vdGVzLFxuICAgICAgaW5jb21lXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIGdldEluY29tZVN0YXRzKHByb3ZpZGVySWQ6IHN0cmluZywgc3RhcnREYXRlPzogc3RyaW5nLCBlbmREYXRlPzogc3RyaW5nKSB7XG4gICAgY29uc29sZS5sb2coJ/CfkrAgQVBJIENsaWVudCAtIEdldHRpbmcgaW5jb21lIHN0YXRzIGZvciBwcm92aWRlcjonLCBwcm92aWRlcklkKVxuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKVxuICAgIGlmIChzdGFydERhdGUpIHBhcmFtcy5hcHBlbmQoJ3N0YXJ0RGF0ZScsIHN0YXJ0RGF0ZSlcbiAgICBpZiAoZW5kRGF0ZSkgcGFyYW1zLmFwcGVuZCgnZW5kRGF0ZScsIGVuZERhdGUpXG4gICAgY29uc3QgcXVlcnlTdHJpbmcgPSBwYXJhbXMudG9TdHJpbmcoKSA/IGA/JHtwYXJhbXMudG9TdHJpbmcoKX1gIDogJydcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZ2V0KGAvaW5jb21lL3Byb3ZpZGVyLyR7cHJvdmlkZXJJZH0ke3F1ZXJ5U3RyaW5nfWApXG4gIH1cblxuICBhc3luYyBnZXRJbmNvbWVZZWFycyhwcm92aWRlcklkOiBzdHJpbmcpIHtcbiAgICBjb25zb2xlLmxvZygn8J+ThSBBUEkgQ2xpZW50IC0gR2V0dGluZyBpbmNvbWUgeWVhcnMgZm9yIHByb3ZpZGVyOicsIHByb3ZpZGVySWQpXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmdldChgL2luY29tZS9wcm92aWRlci8ke3Byb3ZpZGVySWR9L3llYXJzYClcbiAgfVxuXG4gIGFzeW5jIGdldEluY29tZVRyYW5zYWN0aW9uc0J5TWV0aG9kKHByb3ZpZGVySWQ6IHN0cmluZywgcGF5bWVudE1ldGhvZDogc3RyaW5nKSB7XG4gICAgY29uc29sZS5sb2coJ/CfkrAgQVBJIENsaWVudCAtIEdldHRpbmcgdHJhbnNhY3Rpb25zIGZvciBtZXRob2Q6JywgcGF5bWVudE1ldGhvZClcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZ2V0KGAvaW5jb21lL3Byb3ZpZGVyLyR7cHJvdmlkZXJJZH0vbWV0aG9kLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHBheW1lbnRNZXRob2QpfWApXG4gIH1cblxuICBhc3luYyBnZXRJbmNvbWVUcmFuc2FjdGlvbnNCeU1vbnRoKHByb3ZpZGVySWQ6IHN0cmluZywgbW9udGg6IHN0cmluZykge1xuICAgIGNvbnNvbGUubG9nKCfwn5KwIEFQSSBDbGllbnQgLSBHZXR0aW5nIHRyYW5zYWN0aW9ucyBmb3IgbW9udGg6JywgbW9udGgpXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmdldChgL2luY29tZS9wcm92aWRlci8ke3Byb3ZpZGVySWR9L21vbnRoLyR7bW9udGh9YClcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUluY29tZVRyYW5zYWN0aW9uKGluY29tZUlkOiBzdHJpbmcsIGRhdGE6IHsgYW1vdW50OiBudW1iZXI7IHBheW1lbnRNZXRob2Q/OiBzdHJpbmc7IG5vdGVzPzogc3RyaW5nIH0pIHtcbiAgICBjb25zb2xlLmxvZygn8J+SsCBBUEkgQ2xpZW50IC0gVXBkYXRpbmcgaW5jb21lIHRyYW5zYWN0aW9uOicsIGluY29tZUlkKVxuICAgIHJldHVybiB0aGlzLmNsaWVudC5wdXQoYC9pbmNvbWUvJHtpbmNvbWVJZH1gLCBkYXRhKVxuICB9XG5cblxuICBhc3luYyBnZXRTbWFydE1hdGNoZXMoY2FzZUlkOiBzdHJpbmcsIGxpbWl0PzogbnVtYmVyKSB7XG4gICAgY29uc29sZS5sb2coJ/Cfjq8gQVBJIENsaWVudCAtIEdldHRpbmcgc21hcnQgbWF0Y2hlcyBmb3IgY2FzZTonLCBjYXNlSWQpXG4gICAgY29uc3QgcGFyYW1zID0gbGltaXQgPyBgP2xpbWl0PSR7bGltaXR9YCA6ICcnXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmdldChgL2Nhc2VzLyR7Y2FzZUlkfS9zbWFydC1tYXRjaGVzJHtwYXJhbXN9YClcbiAgfVxuXG4gIC8vIE5vdGlmaWNhdGlvbiBlbmRwb2ludHNcbiAgYXN5bmMgZ2V0VXNlck5vdGlmaWNhdGlvbnMoKSB7XG4gICAgY29uc29sZS5sb2coJ/CflJQgQVBJIENsaWVudCAtIEdldHRpbmcgdXNlciBub3RpZmljYXRpb25zJylcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZ2V0KCcvbm90aWZpY2F0aW9ucycpXG4gIH1cblxuICBhc3luYyBnZXRVbnJlYWROb3RpZmljYXRpb25Db3VudCgpIHtcbiAgICBjb25zb2xlLmxvZygn8J+UlCBBUEkgQ2xpZW50IC0gR2V0dGluZyB1bnJlYWQgbm90aWZpY2F0aW9uIGNvdW50JylcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuZ2V0KCcvbm90aWZpY2F0aW9ucy91bnJlYWQtY291bnQnKVxuICB9XG5cbiAgYXN5bmMgbWFya05vdGlmaWNhdGlvbkFzUmVhZChub3RpZmljYXRpb25JZDogc3RyaW5nKSB7XG4gICAgY29uc29sZS5sb2coJ/CflJQgQVBJIENsaWVudCAtIE1hcmtpbmcgbm90aWZpY2F0aW9uIGFzIHJlYWQ6Jywgbm90aWZpY2F0aW9uSWQpXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LnBvc3QoYC9ub3RpZmljYXRpb25zLyR7bm90aWZpY2F0aW9uSWR9L3JlYWRgKVxuICB9XG5cbiAgYXN5bmMgbWFya0FsbE5vdGlmaWNhdGlvbnNBc1JlYWQoKSB7XG4gICAgY29uc29sZS5sb2coJ/CflJQgQVBJIENsaWVudCAtIE1hcmtpbmcgYWxsIG5vdGlmaWNhdGlvbnMgYXMgcmVhZCcpXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LnBvc3QoJy9ub3RpZmljYXRpb25zL21hcmstYWxsLXJlYWQnKVxuICB9XG5cbiAgLy8gUmV2aWV3IE1ldGhvZHNcbiAgYXN5bmMgY3JlYXRlUmV2aWV3KHJldmlld0RhdGE6IHtcbiAgICBjYXNlSWQ6IHN0cmluZ1xuICAgIHByb3ZpZGVySWQ6IHN0cmluZ1xuICAgIHJhdGluZzogbnVtYmVyXG4gICAgY29tbWVudD86IHN0cmluZ1xuICAgIHNlcnZpY2VRdWFsaXR5PzogbnVtYmVyXG4gICAgY29tbXVuaWNhdGlvbj86IG51bWJlclxuICAgIHRpbWVsaW5lc3M/OiBudW1iZXJcbiAgICB2YWx1ZUZvck1vbmV5PzogbnVtYmVyXG4gICAgd291bGRSZWNvbW1lbmQ/OiBib29sZWFuXG4gIH0pIHtcbiAgICBjb25zb2xlLmxvZygn4q2QIEFQSSBDbGllbnQgLSBDcmVhdGluZyByZXZpZXc6JywgcmV2aWV3RGF0YS5jYXNlSWQpXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LnBvc3QoJy9yZXZpZXdzJywgcmV2aWV3RGF0YSlcbiAgfVxuXG4gIGFzeW5jIGdldFByb3ZpZGVyUmV2aWV3cyhwcm92aWRlcklkOiBzdHJpbmcsIHBhZ2U/OiBudW1iZXIsIGxpbWl0PzogbnVtYmVyKSB7XG4gICAgY29uc29sZS5sb2coJ+KtkCBBUEkgQ2xpZW50IC0gR2V0dGluZyBwcm92aWRlciByZXZpZXdzOicsIHByb3ZpZGVySWQpXG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpXG4gICAgaWYgKHBhZ2UpIHBhcmFtcy5hcHBlbmQoJ3BhZ2UnLCBwYWdlLnRvU3RyaW5nKCkpXG4gICAgaWYgKGxpbWl0KSBwYXJhbXMuYXBwZW5kKCdsaW1pdCcsIGxpbWl0LnRvU3RyaW5nKCkpXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmdldChgL3Jldmlld3MvcHJvdmlkZXIvJHtwcm92aWRlcklkfT8ke3BhcmFtcy50b1N0cmluZygpfWApXG4gIH1cblxuICBhc3luYyBnZXRQcm92aWRlclJldmlld1N0YXRzKHByb3ZpZGVySWQ6IHN0cmluZykge1xuICAgIGNvbnNvbGUubG9nKCfwn5OKIEFQSSBDbGllbnQgLSBHZXR0aW5nIHByb3ZpZGVyIHJldmlldyBzdGF0czonLCBwcm92aWRlcklkKVxuICAgIHJldHVybiB0aGlzLmNsaWVudC5nZXQoYC9yZXZpZXdzL3Byb3ZpZGVyLyR7cHJvdmlkZXJJZH0vc3RhdHNgKVxuICB9XG5cbiAgYXN5bmMgY2FuUmV2aWV3Q2FzZShjYXNlSWQ6IHN0cmluZykge1xuICAgIGNvbnNvbGUubG9nKCfinZMgQVBJIENsaWVudCAtIENoZWNraW5nIGlmIGNhbiByZXZpZXcgY2FzZTonLCBjYXNlSWQpXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmdldChgL3Jldmlld3MvY2FzZS8ke2Nhc2VJZH0vY2FuLXJldmlld2ApXG4gIH1cblxuICBhc3luYyBnZXRQZW5kaW5nUmV2aWV3cygpIHtcbiAgICBjb25zb2xlLmxvZygn4o+zIEFQSSBDbGllbnQgLSBHZXR0aW5nIHBlbmRpbmcgcmV2aWV3cycpXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmdldCgnL3Jldmlld3MvcGVuZGluZycpXG4gIH1cbn1cblxuLy8gRXhwb3J0IHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IGFwaUNsaWVudCA9IG5ldyBBcGlDbGllbnQoKVxuZXhwb3J0IGRlZmF1bHQgYXBpQ2xpZW50XG5cbiJdLCJuYW1lcyI6WyJheGlvcyIsIkFQSV9CQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiQXBpQ2xpZW50IiwiY29uc3RydWN0b3IiLCJjbGllbnQiLCJjcmVhdGUiLCJiYXNlVVJMIiwiaGVhZGVycyIsInRpbWVvdXQiLCJzZXR1cEludGVyY2VwdG9ycyIsImludGVyY2VwdG9ycyIsInJlcXVlc3QiLCJ1c2UiLCJjb25maWciLCJ0b2tlbiIsImdldEF1dGhUb2tlbiIsIkF1dGhvcml6YXRpb24iLCJlcnJvciIsIlByb21pc2UiLCJyZWplY3QiLCJyZXNwb25zZSIsInN0YXR1cyIsImNsZWFyQXV0aFRva2VuIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJsb2dpbiIsImVtYWlsIiwicGFzc3dvcmQiLCJwb3N0IiwicmVmcmVzaFRva2VuIiwidXNlciIsImRhdGEiLCJzZXRJdGVtIiwicmVnaXN0ZXIiLCJ1c2VyRGF0YSIsImxvZ291dCIsInNlYXJjaFByb3ZpZGVycyIsImZpbHRlcnMiLCJjb25zb2xlIiwibG9nIiwiZ2V0IiwicGFyYW1zIiwiZ2V0UHJvdmlkZXIiLCJpZCIsInZhbGlkYXRlUHVibGljQ2hhdCIsInB1YmxpY0lkIiwiY3JlYXRlQm9va2luZyIsImJvb2tpbmdEYXRhIiwiZ2V0Qm9va2luZ3MiLCJnZXRDb252ZXJzYXRpb25zIiwiSlNPTiIsInBhcnNlIiwicm9sZSIsImdldFByb2ZpbGUiLCJ1cGRhdGVQcm9maWxlIiwicHJvZmlsZURhdGEiLCJwdXQiLCJnZXRDb25zZW50U3RhdHVzIiwidXBkYXRlQ29uc2VudCIsImNvbnNlbnREYXRhIiwic3RhcnRNYXJrZXRwbGFjZUNvbnZlcnNhdGlvbiIsInBheWxvYWQiLCJwcm92aWRlcklkIiwiY3VzdG9tZXJOYW1lIiwiY3VzdG9tZXJFbWFpbCIsImN1c3RvbWVyUGhvbmUiLCJzdHJpbmdpZnkiLCJtZXNzYWdlIiwiY3JlYXRlT3JHZXRDb252ZXJzYXRpb24iLCJzZW5kTWFya2V0cGxhY2VNZXNzYWdlIiwic3Vic3RyaW5nIiwiZGVmYXVsdHMiLCJzZW5kTWVzc2FnZSIsImdldE1hcmtldHBsYWNlTWVzc2FnZXMiLCJjb252ZXJzYXRpb25JZCIsImxpbWl0IiwidXJsIiwiZ2V0Q29udmVyc2F0aW9uTWVzc2FnZXMiLCJnZXRNYXJrZXRwbGFjZUNvbnZlcnNhdGlvbiIsImNyZWF0ZUNhc2UiLCJjYXNlRGF0YSIsImdldENhc2VzIiwiZ2V0Q2FzZSIsImNhc2VJZCIsImFzc2lnbkNhc2UiLCJhY3Rpb24iLCJyZWFzb24iLCJkZWNsaW5lQ2FzZSIsImdldERlY2xpbmVkQ2FzZXMiLCJ1bmRlY2xpbmVDYXNlIiwidXBkYXRlQ2FzZVN0YXR1cyIsImNvbXBsZXRpb25Ob3RlcyIsInVwZGF0ZUNhc2VTdGF0dXNEaXJlY3QiLCJnZXRQcm92aWRlckNhc2VzIiwiZ2V0QXZhaWxhYmxlQ2FzZXMiLCJnZXRQcm92aWRlck1hcmtldHBsYWNlQ29udmVyc2F0aW9ucyIsIm1hcmtNYXJrZXRwbGFjZUFzUmVhZCIsInNlbmRlclR5cGUiLCJnZXRDYXNlVGVtcGxhdGUiLCJzZXJ2aWNlQ2F0ZWdvcnkiLCJjcmVhdGVTZXJ2aWNlQ2FzZSIsInVwZGF0ZVNlcnZpY2VDYXNlIiwiZ2V0U2VydmljZUNhc2VCeUNvbnZlcnNhdGlvbiIsImdldFJlZmVycmFsRGFzaGJvYXJkIiwiZ2VuZXJhdGVSZWZlcnJhbENvZGUiLCJ0cmFja1JlZmVycmFsQ2xpY2siLCJnZXRSZWZlcnJhbFN0YXRzIiwiZ2V0UmVmZXJyZWRVc2VycyIsImdldFJlZmVycmFsUmV3YXJkcyIsImNsYWltUmVmZXJyYWxSZXdhcmQiLCJyZXdhcmRJZCIsImdldFJlZmVycmFsTGluayIsImdldENhc2VzV2l0aEZpbHRlcnMiLCJVUkxTZWFyY2hQYXJhbXMiLCJPYmplY3QiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImtleSIsInZhbHVlIiwidW5kZWZpbmVkIiwiYXBwZW5kIiwidG9TdHJpbmciLCJnZXRDYXNlU3RhdHMiLCJjdXN0b21lcklkIiwiYWNjZXB0Q2FzZSIsInByb3ZpZGVyTmFtZSIsImNvbXBsZXRlQ2FzZSIsImluY29tZSIsImdldEluY29tZVN0YXRzIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInF1ZXJ5U3RyaW5nIiwiZ2V0SW5jb21lWWVhcnMiLCJnZXRJbmNvbWVUcmFuc2FjdGlvbnNCeU1ldGhvZCIsInBheW1lbnRNZXRob2QiLCJlbmNvZGVVUklDb21wb25lbnQiLCJnZXRJbmNvbWVUcmFuc2FjdGlvbnNCeU1vbnRoIiwibW9udGgiLCJ1cGRhdGVJbmNvbWVUcmFuc2FjdGlvbiIsImluY29tZUlkIiwiZ2V0U21hcnRNYXRjaGVzIiwiZ2V0VXNlck5vdGlmaWNhdGlvbnMiLCJnZXRVbnJlYWROb3RpZmljYXRpb25Db3VudCIsIm1hcmtOb3RpZmljYXRpb25Bc1JlYWQiLCJub3RpZmljYXRpb25JZCIsIm1hcmtBbGxOb3RpZmljYXRpb25zQXNSZWFkIiwiY3JlYXRlUmV2aWV3IiwicmV2aWV3RGF0YSIsImdldFByb3ZpZGVyUmV2aWV3cyIsInBhZ2UiLCJnZXRQcm92aWRlclJldmlld1N0YXRzIiwiY2FuUmV2aWV3Q2FzZSIsImdldFBlbmRpbmdSZXZpZXdzIiwiYXBpQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/api.ts\n");

/***/ }),

/***/ "(ssr)/./src/store/index.ts":
/*!****************************!*\
  !*** ./src/store/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   store: () => (/* binding */ store)\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reduxjs/toolkit */ \"(ssr)/./node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs\");\n/* harmony import */ var _slices_authSlice__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./slices/authSlice */ \"(ssr)/./src/store/slices/authSlice.ts\");\n/* harmony import */ var _slices_searchSlice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./slices/searchSlice */ \"(ssr)/./src/store/slices/searchSlice.ts\");\n/* harmony import */ var _slices_messagingSlice__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./slices/messagingSlice */ \"(ssr)/./src/store/slices/messagingSlice.ts\");\n\n\n\n\nconst store = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.configureStore)({\n    reducer: {\n        auth: _slices_authSlice__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n        search: _slices_searchSlice__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n        messaging: _slices_messagingSlice__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n    },\n    middleware: (getDefaultMiddleware)=>getDefaultMiddleware({\n            serializableCheck: {\n                ignoredActions: [\n                    \"persist/PERSIST\"\n                ]\n            }\n        })\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvc3RvcmUvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBaUQ7QUFDUDtBQUNJO0FBQ007QUFFN0MsTUFBTUksUUFBUUosZ0VBQWNBLENBQUM7SUFDbENLLFNBQVM7UUFDUEMsTUFBTUwseURBQVNBO1FBQ2ZNLFFBQVFMLDJEQUFXQTtRQUNuQk0sV0FBV0wsOERBQWNBO0lBQzNCO0lBQ0FNLFlBQVksQ0FBQ0MsdUJBQ1hBLHFCQUFxQjtZQUNuQkMsbUJBQW1CO2dCQUNqQkMsZ0JBQWdCO29CQUFDO2lCQUFrQjtZQUNyQztRQUNGO0FBQ0osR0FBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlcnZpY2V0ZXh0cHJvLW1hcmtldHBsYWNlLy4vc3JjL3N0b3JlL2luZGV4LnRzP2NlZTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29uZmlndXJlU3RvcmUgfSBmcm9tICdAcmVkdXhqcy90b29sa2l0J1xyXG5pbXBvcnQgYXV0aFNsaWNlIGZyb20gJy4vc2xpY2VzL2F1dGhTbGljZSdcclxuaW1wb3J0IHNlYXJjaFNsaWNlIGZyb20gJy4vc2xpY2VzL3NlYXJjaFNsaWNlJ1xyXG5pbXBvcnQgbWVzc2FnaW5nU2xpY2UgZnJvbSAnLi9zbGljZXMvbWVzc2FnaW5nU2xpY2UnXHJcblxyXG5leHBvcnQgY29uc3Qgc3RvcmUgPSBjb25maWd1cmVTdG9yZSh7XHJcbiAgcmVkdWNlcjoge1xyXG4gICAgYXV0aDogYXV0aFNsaWNlLFxyXG4gICAgc2VhcmNoOiBzZWFyY2hTbGljZSxcclxuICAgIG1lc3NhZ2luZzogbWVzc2FnaW5nU2xpY2UsXHJcbiAgfSxcclxuICBtaWRkbGV3YXJlOiAoZ2V0RGVmYXVsdE1pZGRsZXdhcmUpID0+XHJcbiAgICBnZXREZWZhdWx0TWlkZGxld2FyZSh7XHJcbiAgICAgIHNlcmlhbGl6YWJsZUNoZWNrOiB7XHJcbiAgICAgICAgaWdub3JlZEFjdGlvbnM6IFsncGVyc2lzdC9QRVJTSVNUJ10sXHJcbiAgICAgIH0sXHJcbiAgICB9KSxcclxufSlcclxuXHJcbmV4cG9ydCB0eXBlIFJvb3RTdGF0ZSA9IFJldHVyblR5cGU8dHlwZW9mIHN0b3JlLmdldFN0YXRlPlxyXG5leHBvcnQgdHlwZSBBcHBEaXNwYXRjaCA9IHR5cGVvZiBzdG9yZS5kaXNwYXRjaFxyXG5cclxuIl0sIm5hbWVzIjpbImNvbmZpZ3VyZVN0b3JlIiwiYXV0aFNsaWNlIiwic2VhcmNoU2xpY2UiLCJtZXNzYWdpbmdTbGljZSIsInN0b3JlIiwicmVkdWNlciIsImF1dGgiLCJzZWFyY2giLCJtZXNzYWdpbmciLCJtaWRkbGV3YXJlIiwiZ2V0RGVmYXVsdE1pZGRsZXdhcmUiLCJzZXJpYWxpemFibGVDaGVjayIsImlnbm9yZWRBY3Rpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/store/index.ts\n");

/***/ }),

/***/ "(ssr)/./src/store/slices/authSlice.ts":
/*!***************************************!*\
  !*** ./src/store/slices/authSlice.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearError: () => (/* binding */ clearError),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   loadUser: () => (/* binding */ loadUser),\n/* harmony export */   loginUser: () => (/* binding */ loginUser),\n/* harmony export */   logoutUser: () => (/* binding */ logoutUser),\n/* harmony export */   registerUser: () => (/* binding */ registerUser),\n/* harmony export */   setToken: () => (/* binding */ setToken)\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reduxjs/toolkit */ \"(ssr)/./node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/api */ \"(ssr)/./src/lib/api.ts\");\n\n\nconst initialState = {\n    user: null,\n    token: null,\n    isAuthenticated: false,\n    isLoading: false,\n    error: null\n};\n// Async thunks\nconst loginUser = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.createAsyncThunk)(\"auth/login\", async ({ email, password })=>{\n    const response = await _lib_api__WEBPACK_IMPORTED_MODULE_0__.apiClient.login(email, password);\n    return response;\n});\nconst registerUser = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.createAsyncThunk)(\"auth/register\", async (userData)=>{\n    const response = await _lib_api__WEBPACK_IMPORTED_MODULE_0__.apiClient.register(userData);\n    return response.data;\n});\nconst loadUser = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.createAsyncThunk)(\"auth/loadUser\", async ()=>{\n    const response = await _lib_api__WEBPACK_IMPORTED_MODULE_0__.apiClient.getProfile();\n    return response.data;\n});\nconst logoutUser = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.createAsyncThunk)(\"auth/logout\", async ()=>{\n    await _lib_api__WEBPACK_IMPORTED_MODULE_0__.apiClient.logout();\n});\nconst authSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.createSlice)({\n    name: \"auth\",\n    initialState,\n    reducers: {\n        clearError: (state)=>{\n            state.error = null;\n        },\n        setToken: (state, action)=>{\n            state.token = action.payload;\n            state.isAuthenticated = true;\n        }\n    },\n    extraReducers: (builder)=>{\n        builder// Login\n        .addCase(loginUser.pending, (state)=>{\n            state.isLoading = true;\n            state.error = null;\n        }).addCase(loginUser.fulfilled, (state, action)=>{\n            state.isLoading = false;\n            state.user = action.payload.user;\n            state.token = action.payload.token;\n            state.isAuthenticated = true;\n            state.error = null;\n        }).addCase(loginUser.rejected, (state, action)=>{\n            state.isLoading = false;\n            state.error = action.error.message || \"Login failed\";\n        })// Register\n        .addCase(registerUser.pending, (state)=>{\n            state.isLoading = true;\n            state.error = null;\n        }).addCase(registerUser.fulfilled, (state, action)=>{\n            state.isLoading = false;\n            state.user = action.payload.user;\n            state.token = action.payload.token;\n            state.isAuthenticated = true;\n            state.error = null;\n        }).addCase(registerUser.rejected, (state, action)=>{\n            state.isLoading = false;\n            state.error = action.error.message || \"Registration failed\";\n        })// Load user\n        .addCase(loadUser.fulfilled, (state, action)=>{\n            state.user = action.payload;\n            state.isAuthenticated = true;\n        })// Logout\n        .addCase(logoutUser.fulfilled, (state)=>{\n            state.user = null;\n            state.token = null;\n            state.isAuthenticated = false;\n            state.error = null;\n        });\n    }\n});\nconst { clearError, setToken } = authSlice.actions;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (authSlice.reducer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSTtRQUN4QyxFQUNBLFlBQVk7U0FDWEosT0FBTyxDQUFDZCxTQUFTZ0IsU0FBUyxFQUFFLENBQUNSLE9BQU9FO1lBQ25DRixNQUFNdEIsSUFBSSxHQUFHd0IsT0FBT0MsT0FBTztZQUMzQkgsTUFBTXBCLGVBQWUsR0FBRztRQUMxQixFQUNBLFNBQVM7U0FDUjBCLE9BQU8sQ0FBQ1osV0FBV2MsU0FBUyxFQUFFLENBQUNSO1lBQzlCQSxNQUFNdEIsSUFBSSxHQUFHO1lBQ2JzQixNQUFNckIsS0FBSyxHQUFHO1lBQ2RxQixNQUFNcEIsZUFBZSxHQUFHO1lBQ3hCb0IsTUFBTWxCLEtBQUssR0FBRztRQUNoQjtJQUNKO0FBQ0Y7QUFFTyxNQUFNLEVBQUVpQixVQUFVLEVBQUVFLFFBQVEsRUFBRSxHQUFHTCxVQUFVZSxPQUFPO0FBQ3pELGlFQUFlZixVQUFVZ0IsT0FBTyIsInNvdXJjZXMiOlsid2VicGFjazovL3NlcnZpY2V0ZXh0cHJvLW1hcmtldHBsYWNlLy4vc3JjL3N0b3JlL3NsaWNlcy9hdXRoU2xpY2UudHM/YjUyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVTbGljZSwgY3JlYXRlQXN5bmNUaHVuaywgUGF5bG9hZEFjdGlvbiB9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnXHJcbmltcG9ydCB7IGFwaUNsaWVudCB9IGZyb20gJ0AvbGliL2FwaSdcclxuXHJcbmludGVyZmFjZSBVc2VyIHtcclxuICBpZDogc3RyaW5nXHJcbiAgZW1haWw6IHN0cmluZ1xyXG4gIGZpcnN0TmFtZTogc3RyaW5nXHJcbiAgbGFzdE5hbWU6IHN0cmluZ1xyXG4gIHBob25lTnVtYmVyOiBzdHJpbmdcclxuICByb2xlOiAnY3VzdG9tZXInIHwgJ3NlcnZpY2VfcHJvdmlkZXInIHwgJ2FkbWluJ1xyXG4gIGJ1c2luZXNzSWQ/OiBzdHJpbmdcclxuICBpc0dkcHJDb21wbGlhbnQ6IGJvb2xlYW5cclxufVxyXG5cclxuaW50ZXJmYWNlIEF1dGhTdGF0ZSB7XHJcbiAgdXNlcjogVXNlciB8IG51bGxcclxuICB0b2tlbjogc3RyaW5nIHwgbnVsbFxyXG4gIGlzQXV0aGVudGljYXRlZDogYm9vbGVhblxyXG4gIGlzTG9hZGluZzogYm9vbGVhblxyXG4gIGVycm9yOiBzdHJpbmcgfCBudWxsXHJcbn1cclxuXHJcbmNvbnN0IGluaXRpYWxTdGF0ZTogQXV0aFN0YXRlID0ge1xyXG4gIHVzZXI6IG51bGwsXHJcbiAgdG9rZW46IG51bGwsXHJcbiAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSxcclxuICBpc0xvYWRpbmc6IGZhbHNlLFxyXG4gIGVycm9yOiBudWxsLFxyXG59XHJcblxyXG4vLyBBc3luYyB0aHVua3NcclxuZXhwb3J0IGNvbnN0IGxvZ2luVXNlciA9IGNyZWF0ZUFzeW5jVGh1bmsoXHJcbiAgJ2F1dGgvbG9naW4nLFxyXG4gIGFzeW5jICh7IGVtYWlsLCBwYXNzd29yZCB9OiB7IGVtYWlsOiBzdHJpbmc7IHBhc3N3b3JkOiBzdHJpbmcgfSkgPT4ge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQubG9naW4oZW1haWwsIHBhc3N3b3JkKVxyXG4gICAgcmV0dXJuIHJlc3BvbnNlXHJcbiAgfVxyXG4pXHJcblxyXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJVc2VyID0gY3JlYXRlQXN5bmNUaHVuayhcclxuICAnYXV0aC9yZWdpc3RlcicsXHJcbiAgYXN5bmMgKHVzZXJEYXRhOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LnJlZ2lzdGVyKHVzZXJEYXRhKVxyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcclxuICB9XHJcbilcclxuXHJcbmV4cG9ydCBjb25zdCBsb2FkVXNlciA9IGNyZWF0ZUFzeW5jVGh1bmsoXHJcbiAgJ2F1dGgvbG9hZFVzZXInLFxyXG4gIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LmdldFByb2ZpbGUoKVxyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcclxuICB9XHJcbilcclxuXHJcbmV4cG9ydCBjb25zdCBsb2dvdXRVc2VyID0gY3JlYXRlQXN5bmNUaHVuayhcclxuICAnYXV0aC9sb2dvdXQnLFxyXG4gIGFzeW5jICgpID0+IHtcclxuICAgIGF3YWl0IGFwaUNsaWVudC5sb2dvdXQoKVxyXG4gIH1cclxuKVxyXG5cclxuY29uc3QgYXV0aFNsaWNlID0gY3JlYXRlU2xpY2Uoe1xyXG4gIG5hbWU6ICdhdXRoJyxcclxuICBpbml0aWFsU3RhdGUsXHJcbiAgcmVkdWNlcnM6IHtcclxuICAgIGNsZWFyRXJyb3I6IChzdGF0ZSkgPT4ge1xyXG4gICAgICBzdGF0ZS5lcnJvciA9IG51bGxcclxuICAgIH0sXHJcbiAgICBzZXRUb2tlbjogKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248c3RyaW5nPikgPT4ge1xyXG4gICAgICBzdGF0ZS50b2tlbiA9IGFjdGlvbi5wYXlsb2FkXHJcbiAgICAgIHN0YXRlLmlzQXV0aGVudGljYXRlZCA9IHRydWVcclxuICAgIH0sXHJcbiAgfSxcclxuICBleHRyYVJlZHVjZXJzOiAoYnVpbGRlcikgPT4ge1xyXG4gICAgYnVpbGRlclxyXG4gICAgICAvLyBMb2dpblxyXG4gICAgICAuYWRkQ2FzZShsb2dpblVzZXIucGVuZGluZywgKHN0YXRlKSA9PiB7XHJcbiAgICAgICAgc3RhdGUuaXNMb2FkaW5nID0gdHJ1ZVxyXG4gICAgICAgIHN0YXRlLmVycm9yID0gbnVsbFxyXG4gICAgICB9KVxyXG4gICAgICAuYWRkQ2FzZShsb2dpblVzZXIuZnVsZmlsbGVkLCAoc3RhdGUsIGFjdGlvbikgPT4ge1xyXG4gICAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlXHJcbiAgICAgICAgc3RhdGUudXNlciA9IGFjdGlvbi5wYXlsb2FkLnVzZXJcclxuICAgICAgICBzdGF0ZS50b2tlbiA9IGFjdGlvbi5wYXlsb2FkLnRva2VuXHJcbiAgICAgICAgc3RhdGUuaXNBdXRoZW50aWNhdGVkID0gdHJ1ZVxyXG4gICAgICAgIHN0YXRlLmVycm9yID0gbnVsbFxyXG4gICAgICB9KVxyXG4gICAgICAuYWRkQ2FzZShsb2dpblVzZXIucmVqZWN0ZWQsIChzdGF0ZSwgYWN0aW9uKSA9PiB7XHJcbiAgICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2VcclxuICAgICAgICBzdGF0ZS5lcnJvciA9IGFjdGlvbi5lcnJvci5tZXNzYWdlIHx8ICdMb2dpbiBmYWlsZWQnXHJcbiAgICAgIH0pXHJcbiAgICAgIC8vIFJlZ2lzdGVyXHJcbiAgICAgIC5hZGRDYXNlKHJlZ2lzdGVyVXNlci5wZW5kaW5nLCAoc3RhdGUpID0+IHtcclxuICAgICAgICBzdGF0ZS5pc0xvYWRpbmcgPSB0cnVlXHJcbiAgICAgICAgc3RhdGUuZXJyb3IgPSBudWxsXHJcbiAgICAgIH0pXHJcbiAgICAgIC5hZGRDYXNlKHJlZ2lzdGVyVXNlci5mdWxmaWxsZWQsIChzdGF0ZSwgYWN0aW9uKSA9PiB7XHJcbiAgICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2VcclxuICAgICAgICBzdGF0ZS51c2VyID0gYWN0aW9uLnBheWxvYWQudXNlclxyXG4gICAgICAgIHN0YXRlLnRva2VuID0gYWN0aW9uLnBheWxvYWQudG9rZW5cclxuICAgICAgICBzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgPSB0cnVlXHJcbiAgICAgICAgc3RhdGUuZXJyb3IgPSBudWxsXHJcbiAgICAgIH0pXHJcbiAgICAgIC5hZGRDYXNlKHJlZ2lzdGVyVXNlci5yZWplY3RlZCwgKHN0YXRlLCBhY3Rpb24pID0+IHtcclxuICAgICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZVxyXG4gICAgICAgIHN0YXRlLmVycm9yID0gYWN0aW9uLmVycm9yLm1lc3NhZ2UgfHwgJ1JlZ2lzdHJhdGlvbiBmYWlsZWQnXHJcbiAgICAgIH0pXHJcbiAgICAgIC8vIExvYWQgdXNlclxyXG4gICAgICAuYWRkQ2FzZShsb2FkVXNlci5mdWxmaWxsZWQsIChzdGF0ZSwgYWN0aW9uKSA9PiB7XHJcbiAgICAgICAgc3RhdGUudXNlciA9IGFjdGlvbi5wYXlsb2FkXHJcbiAgICAgICAgc3RhdGUuaXNBdXRoZW50aWNhdGVkID0gdHJ1ZVxyXG4gICAgICB9KVxyXG4gICAgICAvLyBMb2dvdXRcclxuICAgICAgLmFkZENhc2UobG9nb3V0VXNlci5mdWxmaWxsZWQsIChzdGF0ZSkgPT4ge1xyXG4gICAgICAgIHN0YXRlLnVzZXIgPSBudWxsXHJcbiAgICAgICAgc3RhdGUudG9rZW4gPSBudWxsXHJcbiAgICAgICAgc3RhdGUuaXNBdXRoZW50aWNhdGVkID0gZmFsc2VcclxuICAgICAgICBzdGF0ZS5lcnJvciA9IG51bGxcclxuICAgICAgfSlcclxuICB9LFxyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IHsgY2xlYXJFcnJvciwgc2V0VG9rZW4gfSA9IGF1dGhTbGljZS5hY3Rpb25zXHJcbmV4cG9ydCBkZWZhdWx0IGF1dGhTbGljZS5yZWR1Y2VyXHJcblxyXG4iXSwibmFtZXMiOlsiY3JlYXRlU2xpY2UiLCJjcmVhdGVBc3luY1RodW5rIiwiYXBpQ2xpZW50IiwiaW5pdGlhbFN0YXRlIiwidXNlciIsInRva2VuIiwiaXNBdXRoZW50aWNhdGVkIiwiaXNMb2FkaW5nIiwiZXJyb3IiLCJsb2dpblVzZXIiLCJlbWFpbCIsInBhc3N3b3JkIiwicmVzcG9uc2UiLCJsb2dpbiIsInJlZ2lzdGVyVXNlciIsInVzZXJEYXRhIiwicmVnaXN0ZXIiLCJkYXRhIiwibG9hZFVzZXIiLCJnZXRQcm9maWxlIiwibG9nb3V0VXNlciIsImxvZ291dCIsImF1dGhTbGljZSIsIm5hbWUiLCJyZWR1Y2VycyIsImNsZWFyRXJyb3IiLCJzdGF0ZSIsInNldFRva2VuIiwiYWN0aW9uIiwicGF5bG9hZCIsImV4dHJhUmVkdWNlcnMiLCJidWlsZGVyIiwiYWRkQ2FzZSIsInBlbmRpbmciLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsIm1lc3NhZ2UiLCJhY3Rpb25zIiwicmVkdWNlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/store/slices/authSlice.ts\n");

/***/ }),

/***/ "(ssr)/./src/store/slices/messagingSlice.ts":
/*!********************************************!*\
  !*** ./src/store/slices/messagingSlice.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addMessage: () => (/* binding */ addMessage),\n/* harmony export */   clearError: () => (/* binding */ clearError),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   loadConversations: () => (/* binding */ loadConversations),\n/* harmony export */   markAsRead: () => (/* binding */ markAsRead),\n/* harmony export */   sendMessage: () => (/* binding */ sendMessage),\n/* harmony export */   setActiveConversation: () => (/* binding */ setActiveConversation)\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reduxjs/toolkit */ \"(ssr)/./node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/api */ \"(ssr)/./src/lib/api.ts\");\n\n\nconst initialState = {\n    conversations: [],\n    activeConversation: null,\n    isLoading: false,\n    error: null,\n    unreadCount: 0\n};\n// Async thunks\nconst loadConversations = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.createAsyncThunk)(\"messaging/loadConversations\", async ()=>{\n    const response = await _lib_api__WEBPACK_IMPORTED_MODULE_0__.apiClient.getConversations();\n    return response.data;\n});\nconst sendMessage = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.createAsyncThunk)(\"messaging/sendMessage\", async (data)=>{\n    const response = await _lib_api__WEBPACK_IMPORTED_MODULE_0__.apiClient.sendMessage(data);\n    return response.data;\n});\nconst messagingSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.createSlice)({\n    name: \"messaging\",\n    initialState,\n    reducers: {\n        setActiveConversation: (state, action)=>{\n            state.activeConversation = action.payload;\n        },\n        addMessage: (state, action)=>{\n            const { conversationId, message } = action.payload;\n            const conversation = state.conversations.find((conv)=>conv.id === conversationId);\n            if (conversation) {\n                conversation.messages.push(message);\n                conversation.lastActivity = message.timestamp;\n                // Update unread count\n                if (message.senderId !== state.activeConversation?.id) {\n                    state.unreadCount += 1;\n                }\n            }\n        },\n        markAsRead: (state, action)=>{\n            const conversationId = action.payload;\n            const conversation = state.conversations.find((conv)=>conv.id === conversationId);\n            if (conversation) {\n                conversation.messages.forEach((message)=>{\n                    message.isRead = true;\n                });\n                // Update unread count\n                state.unreadCount = Math.max(0, state.unreadCount - 1);\n            }\n        },\n        clearError: (state)=>{\n            state.error = null;\n        }\n    },\n    extraReducers: (builder)=>{\n        builder.addCase(loadConversations.pending, (state)=>{\n            state.isLoading = true;\n            state.error = null;\n        }).addCase(loadConversations.fulfilled, (state, action)=>{\n            state.isLoading = false;\n            state.conversations = action.payload;\n            state.unreadCount = action.payload.reduce((count, conv)=>{\n                return count + conv.messages.filter((msg)=>!msg.isRead).length;\n            }, 0);\n            state.error = null;\n        }).addCase(loadConversations.rejected, (state, action)=>{\n            state.isLoading = false;\n            state.error = action.error.message || \"Failed to load conversations\";\n        }).addCase(sendMessage.fulfilled, (state, action)=>{\n            // Message will be added via WebSocket\n            state.error = null;\n        }).addCase(sendMessage.rejected, (state, action)=>{\n            state.error = action.error.message || \"Failed to send message\";\n        });\n    }\n});\nconst { setActiveConversation, addMessage, markAsRead, clearError } = messagingSlice.actions;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (messagingSlice.reducer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvc3RvcmUvc2xpY2VzL21lc3NhZ2luZ1NsaWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUErRTtBQUMxQztBQWdDckMsTUFBTUcsZUFBK0I7SUFDbkNDLGVBQWUsRUFBRTtJQUNqQkMsb0JBQW9CO0lBQ3BCQyxXQUFXO0lBQ1hDLE9BQU87SUFDUEMsYUFBYTtBQUNmO0FBRUEsZUFBZTtBQUNSLE1BQU1DLG9CQUFvQlIsa0VBQWdCQSxDQUMvQywrQkFDQTtJQUNFLE1BQU1TLFdBQVcsTUFBTVIsK0NBQVNBLENBQUNTLGdCQUFnQjtJQUNqRCxPQUFPRCxTQUFTRSxJQUFJO0FBQ3RCLEdBQ0Q7QUFFTSxNQUFNQyxjQUFjWixrRUFBZ0JBLENBQ3pDLHlCQUNBLE9BQU9XO0lBT0wsTUFBTUYsV0FBVyxNQUFNUiwrQ0FBU0EsQ0FBQ1csV0FBVyxDQUFDRDtJQUM3QyxPQUFPRixTQUFTRSxJQUFJO0FBQ3RCLEdBQ0Q7QUFFRCxNQUFNRSxpQkFBaUJkLDZEQUFXQSxDQUFDO0lBQ2pDZSxNQUFNO0lBQ05aO0lBQ0FhLFVBQVU7UUFDUkMsdUJBQXVCLENBQUNDLE9BQU9DO1lBQzdCRCxNQUFNYixrQkFBa0IsR0FBR2MsT0FBT0MsT0FBTztRQUMzQztRQUNBQyxZQUFZLENBQUNILE9BQU9DO1lBQ2xCLE1BQU0sRUFBRUcsY0FBYyxFQUFFQyxPQUFPLEVBQUUsR0FBR0osT0FBT0MsT0FBTztZQUNsRCxNQUFNSSxlQUFlTixNQUFNZCxhQUFhLENBQUNxQixJQUFJLENBQUNDLENBQUFBLE9BQVFBLEtBQUtDLEVBQUUsS0FBS0w7WUFFbEUsSUFBSUUsY0FBYztnQkFDaEJBLGFBQWFJLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDTjtnQkFDM0JDLGFBQWFNLFlBQVksR0FBR1AsUUFBUVEsU0FBUztnQkFFN0Msc0JBQXNCO2dCQUN0QixJQUFJUixRQUFRUyxRQUFRLEtBQUtkLE1BQU1iLGtCQUFrQixFQUFFc0IsSUFBSTtvQkFDckRULE1BQU1WLFdBQVcsSUFBSTtnQkFDdkI7WUFDRjtRQUNGO1FBQ0F5QixZQUFZLENBQUNmLE9BQU9DO1lBQ2xCLE1BQU1HLGlCQUFpQkgsT0FBT0MsT0FBTztZQUNyQyxNQUFNSSxlQUFlTixNQUFNZCxhQUFhLENBQUNxQixJQUFJLENBQUNDLENBQUFBLE9BQVFBLEtBQUtDLEVBQUUsS0FBS0w7WUFFbEUsSUFBSUUsY0FBYztnQkFDaEJBLGFBQWFJLFFBQVEsQ0FBQ00sT0FBTyxDQUFDWCxDQUFBQTtvQkFDNUJBLFFBQVFZLE1BQU0sR0FBRztnQkFDbkI7Z0JBRUEsc0JBQXNCO2dCQUN0QmpCLE1BQU1WLFdBQVcsR0FBRzRCLEtBQUtDLEdBQUcsQ0FBQyxHQUFHbkIsTUFBTVYsV0FBVyxHQUFHO1lBQ3REO1FBQ0Y7UUFDQThCLFlBQVksQ0FBQ3BCO1lBQ1hBLE1BQU1YLEtBQUssR0FBRztRQUNoQjtJQUNGO0lBQ0FnQyxlQUFlLENBQUNDO1FBQ2RBLFFBQ0dDLE9BQU8sQ0FBQ2hDLGtCQUFrQmlDLE9BQU8sRUFBRSxDQUFDeEI7WUFDbkNBLE1BQU1aLFNBQVMsR0FBRztZQUNsQlksTUFBTVgsS0FBSyxHQUFHO1FBQ2hCLEdBQ0NrQyxPQUFPLENBQUNoQyxrQkFBa0JrQyxTQUFTLEVBQUUsQ0FBQ3pCLE9BQU9DO1lBQzVDRCxNQUFNWixTQUFTLEdBQUc7WUFDbEJZLE1BQU1kLGFBQWEsR0FBR2UsT0FBT0MsT0FBTztZQUNwQ0YsTUFBTVYsV0FBVyxHQUFHVyxPQUFPQyxPQUFPLENBQUN3QixNQUFNLENBQUMsQ0FBQ0MsT0FBZW5CO2dCQUN4RCxPQUFPbUIsUUFBUW5CLEtBQUtFLFFBQVEsQ0FBQ2tCLE1BQU0sQ0FBQyxDQUFDQyxNQUFpQixDQUFDQSxJQUFJWixNQUFNLEVBQUVhLE1BQU07WUFDM0UsR0FBRztZQUNIOUIsTUFBTVgsS0FBSyxHQUFHO1FBQ2hCLEdBQ0NrQyxPQUFPLENBQUNoQyxrQkFBa0J3QyxRQUFRLEVBQUUsQ0FBQy9CLE9BQU9DO1lBQzNDRCxNQUFNWixTQUFTLEdBQUc7WUFDbEJZLE1BQU1YLEtBQUssR0FBR1ksT0FBT1osS0FBSyxDQUFDZ0IsT0FBTyxJQUFJO1FBQ3hDLEdBQ0NrQixPQUFPLENBQUM1QixZQUFZOEIsU0FBUyxFQUFFLENBQUN6QixPQUFPQztZQUN0QyxzQ0FBc0M7WUFDdENELE1BQU1YLEtBQUssR0FBRztRQUNoQixHQUNDa0MsT0FBTyxDQUFDNUIsWUFBWW9DLFFBQVEsRUFBRSxDQUFDL0IsT0FBT0M7WUFDckNELE1BQU1YLEtBQUssR0FBR1ksT0FBT1osS0FBSyxDQUFDZ0IsT0FBTyxJQUFJO1FBQ3hDO0lBQ0o7QUFDRjtBQUVPLE1BQU0sRUFDWE4scUJBQXFCLEVBQ3JCSSxVQUFVLEVBQ1ZZLFVBQVUsRUFDVkssVUFBVSxFQUNYLEdBQUd4QixlQUFlb0MsT0FBTztBQUUxQixpRUFBZXBDLGVBQWVxQyxPQUFPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VydmljZXRleHRwcm8tbWFya2V0cGxhY2UvLi9zcmMvc3RvcmUvc2xpY2VzL21lc3NhZ2luZ1NsaWNlLnRzP2FlYjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2xpY2UsIGNyZWF0ZUFzeW5jVGh1bmssIFBheWxvYWRBY3Rpb24gfSBmcm9tICdAcmVkdXhqcy90b29sa2l0J1xyXG5pbXBvcnQgeyBhcGlDbGllbnQgfSBmcm9tICdAL2xpYi9hcGknXHJcblxyXG5pbnRlcmZhY2UgTWVzc2FnZSB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIHRleHQ6IHN0cmluZ1xyXG4gIHNlbmRlcklkOiBzdHJpbmdcclxuICBzZW5kZXJOYW1lOiBzdHJpbmdcclxuICB0aW1lc3RhbXA6IHN0cmluZ1xyXG4gIGlzUmVhZDogYm9vbGVhblxyXG4gIHBsYXRmb3JtOiAnbW9iaWxlJyB8ICd3ZWInXHJcbn1cclxuXHJcbmludGVyZmFjZSBDb252ZXJzYXRpb24ge1xyXG4gIGlkOiBzdHJpbmdcclxuICBjdXN0b21lcklkOiBzdHJpbmdcclxuICBzZXJ2aWNlUHJvdmlkZXJJZDogc3RyaW5nXHJcbiAgY3VzdG9tZXJOYW1lOiBzdHJpbmdcclxuICBzZXJ2aWNlUHJvdmlkZXJOYW1lOiBzdHJpbmdcclxuICBtZXNzYWdlczogTWVzc2FnZVtdXHJcbiAgbGFzdEFjdGl2aXR5OiBzdHJpbmdcclxuICBzdGF0dXM6ICdhY3RpdmUnIHwgJ2Nsb3NlZCcgfCAnaGFuZG9mZl9yZXF1ZXN0ZWQnXHJcbiAgc2VydmljZVR5cGU6IHN0cmluZ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTWVzc2FnaW5nU3RhdGUge1xyXG4gIGNvbnZlcnNhdGlvbnM6IENvbnZlcnNhdGlvbltdXHJcbiAgYWN0aXZlQ29udmVyc2F0aW9uOiBDb252ZXJzYXRpb24gfCBudWxsXHJcbiAgaXNMb2FkaW5nOiBib29sZWFuXHJcbiAgZXJyb3I6IHN0cmluZyB8IG51bGxcclxuICB1bnJlYWRDb3VudDogbnVtYmVyXHJcbn1cclxuXHJcbmNvbnN0IGluaXRpYWxTdGF0ZTogTWVzc2FnaW5nU3RhdGUgPSB7XHJcbiAgY29udmVyc2F0aW9uczogW10sXHJcbiAgYWN0aXZlQ29udmVyc2F0aW9uOiBudWxsLFxyXG4gIGlzTG9hZGluZzogZmFsc2UsXHJcbiAgZXJyb3I6IG51bGwsXHJcbiAgdW5yZWFkQ291bnQ6IDAsXHJcbn1cclxuXHJcbi8vIEFzeW5jIHRodW5rc1xyXG5leHBvcnQgY29uc3QgbG9hZENvbnZlcnNhdGlvbnMgPSBjcmVhdGVBc3luY1RodW5rKFxyXG4gICdtZXNzYWdpbmcvbG9hZENvbnZlcnNhdGlvbnMnLFxyXG4gIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LmdldENvbnZlcnNhdGlvbnMoKVxyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcclxuICB9XHJcbilcclxuXHJcbmV4cG9ydCBjb25zdCBzZW5kTWVzc2FnZSA9IGNyZWF0ZUFzeW5jVGh1bmsoXHJcbiAgJ21lc3NhZ2luZy9zZW5kTWVzc2FnZScsXHJcbiAgYXN5bmMgKGRhdGE6IHtcclxuICAgIGNvbnZlcnNhdGlvbklkOiBzdHJpbmdcclxuICAgIHNlbmRlclR5cGU6ICdjdXN0b21lcicgfCAncHJvdmlkZXInXHJcbiAgICBzZW5kZXJOYW1lOiBzdHJpbmdcclxuICAgIG1lc3NhZ2U6IHN0cmluZ1xyXG4gICAgbWVzc2FnZVR5cGU/OiBzdHJpbmdcclxuICB9KSA9PiB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5zZW5kTWVzc2FnZShkYXRhKVxyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcclxuICB9XHJcbilcclxuXHJcbmNvbnN0IG1lc3NhZ2luZ1NsaWNlID0gY3JlYXRlU2xpY2Uoe1xyXG4gIG5hbWU6ICdtZXNzYWdpbmcnLFxyXG4gIGluaXRpYWxTdGF0ZSxcclxuICByZWR1Y2Vyczoge1xyXG4gICAgc2V0QWN0aXZlQ29udmVyc2F0aW9uOiAoc3RhdGUsIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxDb252ZXJzYXRpb24gfCBudWxsPikgPT4ge1xyXG4gICAgICBzdGF0ZS5hY3RpdmVDb252ZXJzYXRpb24gPSBhY3Rpb24ucGF5bG9hZFxyXG4gICAgfSxcclxuICAgIGFkZE1lc3NhZ2U6IChzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHsgY29udmVyc2F0aW9uSWQ6IHN0cmluZzsgbWVzc2FnZTogTWVzc2FnZSB9PikgPT4ge1xyXG4gICAgICBjb25zdCB7IGNvbnZlcnNhdGlvbklkLCBtZXNzYWdlIH0gPSBhY3Rpb24ucGF5bG9hZFxyXG4gICAgICBjb25zdCBjb252ZXJzYXRpb24gPSBzdGF0ZS5jb252ZXJzYXRpb25zLmZpbmQoY29udiA9PiBjb252LmlkID09PSBjb252ZXJzYXRpb25JZClcclxuICAgICAgXHJcbiAgICAgIGlmIChjb252ZXJzYXRpb24pIHtcclxuICAgICAgICBjb252ZXJzYXRpb24ubWVzc2FnZXMucHVzaChtZXNzYWdlKVxyXG4gICAgICAgIGNvbnZlcnNhdGlvbi5sYXN0QWN0aXZpdHkgPSBtZXNzYWdlLnRpbWVzdGFtcFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFVwZGF0ZSB1bnJlYWQgY291bnRcclxuICAgICAgICBpZiAobWVzc2FnZS5zZW5kZXJJZCAhPT0gc3RhdGUuYWN0aXZlQ29udmVyc2F0aW9uPy5pZCkge1xyXG4gICAgICAgICAgc3RhdGUudW5yZWFkQ291bnQgKz0gMVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1hcmtBc1JlYWQ6IChzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHN0cmluZz4pID0+IHtcclxuICAgICAgY29uc3QgY29udmVyc2F0aW9uSWQgPSBhY3Rpb24ucGF5bG9hZFxyXG4gICAgICBjb25zdCBjb252ZXJzYXRpb24gPSBzdGF0ZS5jb252ZXJzYXRpb25zLmZpbmQoY29udiA9PiBjb252LmlkID09PSBjb252ZXJzYXRpb25JZClcclxuICAgICAgXHJcbiAgICAgIGlmIChjb252ZXJzYXRpb24pIHtcclxuICAgICAgICBjb252ZXJzYXRpb24ubWVzc2FnZXMuZm9yRWFjaChtZXNzYWdlID0+IHtcclxuICAgICAgICAgIG1lc3NhZ2UuaXNSZWFkID0gdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVXBkYXRlIHVucmVhZCBjb3VudFxyXG4gICAgICAgIHN0YXRlLnVucmVhZENvdW50ID0gTWF0aC5tYXgoMCwgc3RhdGUudW5yZWFkQ291bnQgLSAxKVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgY2xlYXJFcnJvcjogKHN0YXRlKSA9PiB7XHJcbiAgICAgIHN0YXRlLmVycm9yID0gbnVsbFxyXG4gICAgfSxcclxuICB9LFxyXG4gIGV4dHJhUmVkdWNlcnM6IChidWlsZGVyKSA9PiB7XHJcbiAgICBidWlsZGVyXHJcbiAgICAgIC5hZGRDYXNlKGxvYWRDb252ZXJzYXRpb25zLnBlbmRpbmcsIChzdGF0ZSkgPT4ge1xyXG4gICAgICAgIHN0YXRlLmlzTG9hZGluZyA9IHRydWVcclxuICAgICAgICBzdGF0ZS5lcnJvciA9IG51bGxcclxuICAgICAgfSlcclxuICAgICAgLmFkZENhc2UobG9hZENvbnZlcnNhdGlvbnMuZnVsZmlsbGVkLCAoc3RhdGUsIGFjdGlvbikgPT4ge1xyXG4gICAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlXHJcbiAgICAgICAgc3RhdGUuY29udmVyc2F0aW9ucyA9IGFjdGlvbi5wYXlsb2FkXHJcbiAgICAgICAgc3RhdGUudW5yZWFkQ291bnQgPSBhY3Rpb24ucGF5bG9hZC5yZWR1Y2UoKGNvdW50OiBudW1iZXIsIGNvbnY6IENvbnZlcnNhdGlvbikgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGNvdW50ICsgY29udi5tZXNzYWdlcy5maWx0ZXIoKG1zZzogTWVzc2FnZSkgPT4gIW1zZy5pc1JlYWQpLmxlbmd0aFxyXG4gICAgICAgIH0sIDApXHJcbiAgICAgICAgc3RhdGUuZXJyb3IgPSBudWxsXHJcbiAgICAgIH0pXHJcbiAgICAgIC5hZGRDYXNlKGxvYWRDb252ZXJzYXRpb25zLnJlamVjdGVkLCAoc3RhdGUsIGFjdGlvbikgPT4ge1xyXG4gICAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlXHJcbiAgICAgICAgc3RhdGUuZXJyb3IgPSBhY3Rpb24uZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGxvYWQgY29udmVyc2F0aW9ucydcclxuICAgICAgfSlcclxuICAgICAgLmFkZENhc2Uoc2VuZE1lc3NhZ2UuZnVsZmlsbGVkLCAoc3RhdGUsIGFjdGlvbikgPT4ge1xyXG4gICAgICAgIC8vIE1lc3NhZ2Ugd2lsbCBiZSBhZGRlZCB2aWEgV2ViU29ja2V0XHJcbiAgICAgICAgc3RhdGUuZXJyb3IgPSBudWxsXHJcbiAgICAgIH0pXHJcbiAgICAgIC5hZGRDYXNlKHNlbmRNZXNzYWdlLnJlamVjdGVkLCAoc3RhdGUsIGFjdGlvbikgPT4ge1xyXG4gICAgICAgIHN0YXRlLmVycm9yID0gYWN0aW9uLmVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzZW5kIG1lc3NhZ2UnXHJcbiAgICAgIH0pXHJcbiAgfSxcclxufSlcclxuXHJcbmV4cG9ydCBjb25zdCB7IFxyXG4gIHNldEFjdGl2ZUNvbnZlcnNhdGlvbiwgXHJcbiAgYWRkTWVzc2FnZSwgXHJcbiAgbWFya0FzUmVhZCwgXHJcbiAgY2xlYXJFcnJvciBcclxufSA9IG1lc3NhZ2luZ1NsaWNlLmFjdGlvbnNcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1lc3NhZ2luZ1NsaWNlLnJlZHVjZXJcclxuXHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVTbGljZSIsImNyZWF0ZUFzeW5jVGh1bmsiLCJhcGlDbGllbnQiLCJpbml0aWFsU3RhdGUiLCJjb252ZXJzYXRpb25zIiwiYWN0aXZlQ29udmVyc2F0aW9uIiwiaXNMb2FkaW5nIiwiZXJyb3IiLCJ1bnJlYWRDb3VudCIsImxvYWRDb252ZXJzYXRpb25zIiwicmVzcG9uc2UiLCJnZXRDb252ZXJzYXRpb25zIiwiZGF0YSIsInNlbmRNZXNzYWdlIiwibWVzc2FnaW5nU2xpY2UiLCJuYW1lIiwicmVkdWNlcnMiLCJzZXRBY3RpdmVDb252ZXJzYXRpb24iLCJzdGF0ZSIsImFjdGlvbiIsInBheWxvYWQiLCJhZGRNZXNzYWdlIiwiY29udmVyc2F0aW9uSWQiLCJtZXNzYWdlIiwiY29udmVyc2F0aW9uIiwiZmluZCIsImNvbnYiLCJpZCIsIm1lc3NhZ2VzIiwicHVzaCIsImxhc3RBY3Rpdml0eSIsInRpbWVzdGFtcCIsInNlbmRlcklkIiwibWFya0FzUmVhZCIsImZvckVhY2giLCJpc1JlYWQiLCJNYXRoIiwibWF4IiwiY2xlYXJFcnJvciIsImV4dHJhUmVkdWNlcnMiLCJidWlsZGVyIiwiYWRkQ2FzZSIsInBlbmRpbmciLCJmdWxmaWxsZWQiLCJyZWR1Y2UiLCJjb3VudCIsImZpbHRlciIsIm1zZyIsImxlbmd0aCIsInJlamVjdGVkIiwiYWN0aW9ucyIsInJlZHVjZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/store/slices/messagingSlice.ts\n");

/***/ }),

/***/ "(ssr)/./src/store/slices/searchSlice.ts":
/*!*****************************************!*\
  !*** ./src/store/slices/searchSlice.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearError: () => (/* binding */ clearError),\n/* harmony export */   clearFilters: () => (/* binding */ clearFilters),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getProviderDetails: () => (/* binding */ getProviderDetails),\n/* harmony export */   searchProviders: () => (/* binding */ searchProviders),\n/* harmony export */   setFilters: () => (/* binding */ setFilters),\n/* harmony export */   setPage: () => (/* binding */ setPage)\n/* harmony export */ });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @reduxjs/toolkit */ \"(ssr)/./node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/api */ \"(ssr)/./src/lib/api.ts\");\n\n\nconst initialState = {\n    providers: [],\n    filters: {\n        serviceType: \"\",\n        city: \"\",\n        neighborhood: \"\",\n        minRating: 0,\n        maxPrice: undefined,\n        availability: \"any\"\n    },\n    isLoading: false,\n    error: null,\n    totalResults: 0,\n    currentPage: 1\n};\n// Async thunks\nconst searchProviders = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.createAsyncThunk)(\"search/providers\", async (filters)=>{\n    const response = await _lib_api__WEBPACK_IMPORTED_MODULE_0__.apiClient.searchProviders(filters);\n    return response.data;\n});\nconst getProviderDetails = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.createAsyncThunk)(\"search/providerDetails\", async (id)=>{\n    const response = await _lib_api__WEBPACK_IMPORTED_MODULE_0__.apiClient.getProvider(id);\n    return response.data;\n});\nconst searchSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.createSlice)({\n    name: \"search\",\n    initialState,\n    reducers: {\n        setFilters: (state, action)=>{\n            state.filters = {\n                ...state.filters,\n                ...action.payload\n            };\n        },\n        clearFilters: (state)=>{\n            state.filters = initialState.filters;\n        },\n        setPage: (state, action)=>{\n            state.currentPage = action.payload;\n        },\n        clearError: (state)=>{\n            state.error = null;\n        }\n    },\n    extraReducers: (builder)=>{\n        builder.addCase(searchProviders.pending, (state)=>{\n            state.isLoading = true;\n            state.error = null;\n        }).addCase(searchProviders.fulfilled, (state, action)=>{\n            state.isLoading = false;\n            state.providers = action.payload.providers;\n            state.totalResults = action.payload.totalResults;\n            state.error = null;\n        }).addCase(searchProviders.rejected, (state, action)=>{\n            state.isLoading = false;\n            state.error = action.error.message || \"Search failed\";\n        });\n    }\n});\nconst { setFilters, clearFilters, setPage, clearError } = searchSlice.actions;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (searchSlice.reducer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvc3RvcmUvc2xpY2VzL3NlYXJjaFNsaWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUErRTtBQUMxQztBQW9DckMsTUFBTUcsZUFBNEI7SUFDaENDLFdBQVcsRUFBRTtJQUNiQyxTQUFTO1FBQ1BDLGFBQWE7UUFDYkMsTUFBTTtRQUNOQyxjQUFjO1FBQ2RDLFdBQVc7UUFDWEMsVUFBVUM7UUFDVkMsY0FBYztJQUNoQjtJQUNBQyxXQUFXO0lBQ1hDLE9BQU87SUFDUEMsY0FBYztJQUNkQyxhQUFhO0FBQ2Y7QUFFQSxlQUFlO0FBQ1IsTUFBTUMsa0JBQWtCaEIsa0VBQWdCQSxDQUM3QyxvQkFDQSxPQUFPSTtJQUNMLE1BQU1hLFdBQVcsTUFBTWhCLCtDQUFTQSxDQUFDZSxlQUFlLENBQUNaO0lBQ2pELE9BQU9hLFNBQVNDLElBQUk7QUFDdEIsR0FDRDtBQUVNLE1BQU1DLHFCQUFxQm5CLGtFQUFnQkEsQ0FDaEQsMEJBQ0EsT0FBT29CO0lBQ0wsTUFBTUgsV0FBVyxNQUFNaEIsK0NBQVNBLENBQUNvQixXQUFXLENBQUNEO0lBQzdDLE9BQU9ILFNBQVNDLElBQUk7QUFDdEIsR0FDRDtBQUVELE1BQU1JLGNBQWN2Qiw2REFBV0EsQ0FBQztJQUM5QndCLE1BQU07SUFDTnJCO0lBQ0FzQixVQUFVO1FBQ1JDLFlBQVksQ0FBQ0MsT0FBT0M7WUFDbEJELE1BQU10QixPQUFPLEdBQUc7Z0JBQUUsR0FBR3NCLE1BQU10QixPQUFPO2dCQUFFLEdBQUd1QixPQUFPQyxPQUFPO1lBQUM7UUFDeEQ7UUFDQUMsY0FBYyxDQUFDSDtZQUNiQSxNQUFNdEIsT0FBTyxHQUFHRixhQUFhRSxPQUFPO1FBQ3RDO1FBQ0EwQixTQUFTLENBQUNKLE9BQU9DO1lBQ2ZELE1BQU1YLFdBQVcsR0FBR1ksT0FBT0MsT0FBTztRQUNwQztRQUNBRyxZQUFZLENBQUNMO1lBQ1hBLE1BQU1iLEtBQUssR0FBRztRQUNoQjtJQUNGO0lBQ0FtQixlQUFlLENBQUNDO1FBQ2RBLFFBQ0dDLE9BQU8sQ0FBQ2xCLGdCQUFnQm1CLE9BQU8sRUFBRSxDQUFDVDtZQUNqQ0EsTUFBTWQsU0FBUyxHQUFHO1lBQ2xCYyxNQUFNYixLQUFLLEdBQUc7UUFDaEIsR0FDQ3FCLE9BQU8sQ0FBQ2xCLGdCQUFnQm9CLFNBQVMsRUFBRSxDQUFDVixPQUFPQztZQUMxQ0QsTUFBTWQsU0FBUyxHQUFHO1lBQ2xCYyxNQUFNdkIsU0FBUyxHQUFHd0IsT0FBT0MsT0FBTyxDQUFDekIsU0FBUztZQUMxQ3VCLE1BQU1aLFlBQVksR0FBR2EsT0FBT0MsT0FBTyxDQUFDZCxZQUFZO1lBQ2hEWSxNQUFNYixLQUFLLEdBQUc7UUFDaEIsR0FDQ3FCLE9BQU8sQ0FBQ2xCLGdCQUFnQnFCLFFBQVEsRUFBRSxDQUFDWCxPQUFPQztZQUN6Q0QsTUFBTWQsU0FBUyxHQUFHO1lBQ2xCYyxNQUFNYixLQUFLLEdBQUdjLE9BQU9kLEtBQUssQ0FBQ3lCLE9BQU8sSUFBSTtRQUN4QztJQUNKO0FBQ0Y7QUFFTyxNQUFNLEVBQUViLFVBQVUsRUFBRUksWUFBWSxFQUFFQyxPQUFPLEVBQUVDLFVBQVUsRUFBRSxHQUFHVCxZQUFZaUIsT0FBTztBQUNwRixpRUFBZWpCLFlBQVlrQixPQUFPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VydmljZXRleHRwcm8tbWFya2V0cGxhY2UvLi9zcmMvc3RvcmUvc2xpY2VzL3NlYXJjaFNsaWNlLnRzPzdlZmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2xpY2UsIGNyZWF0ZUFzeW5jVGh1bmssIFBheWxvYWRBY3Rpb24gfSBmcm9tICdAcmVkdXhqcy90b29sa2l0J1xyXG5pbXBvcnQgeyBhcGlDbGllbnQgfSBmcm9tICdAL2xpYi9hcGknXHJcblxyXG5pbnRlcmZhY2UgU2VydmljZVByb3ZpZGVyIHtcclxuICBpZDogc3RyaW5nXHJcbiAgZmlyc3ROYW1lOiBzdHJpbmdcclxuICBsYXN0TmFtZTogc3RyaW5nXHJcbiAgYnVzaW5lc3NOYW1lOiBzdHJpbmdcclxuICBzZXJ2aWNlVHlwZXM6IHN0cmluZ1tdXHJcbiAgcmF0aW5nOiBudW1iZXJcclxuICB0b3RhbFJldmlld3M6IG51bWJlclxyXG4gIHJlc3BvbnNlVGltZTogbnVtYmVyXHJcbiAgaG91cmx5UmF0ZTogbnVtYmVyXHJcbiAgY3VycmVuY3k6IHN0cmluZ1xyXG4gIHByb2ZpbGVQaG90bz86IHN0cmluZ1xyXG4gIGlzVmVyaWZpZWQ6IGJvb2xlYW5cclxuICBzZXJ2aWNlQXJlYXM6IHN0cmluZ1tdXHJcbn1cclxuXHJcbmludGVyZmFjZSBTZWFyY2hGaWx0ZXJzIHtcclxuICBzZXJ2aWNlVHlwZTogc3RyaW5nXHJcbiAgY2l0eTogc3RyaW5nXHJcbiAgbmVpZ2hib3Job29kPzogc3RyaW5nXHJcbiAgbWluUmF0aW5nPzogbnVtYmVyXHJcbiAgbWF4UHJpY2U/OiBudW1iZXJcclxuICBhdmFpbGFiaWxpdHk/OiBzdHJpbmdcclxufVxyXG5cclxuaW50ZXJmYWNlIFNlYXJjaFN0YXRlIHtcclxuICBwcm92aWRlcnM6IFNlcnZpY2VQcm92aWRlcltdXHJcbiAgZmlsdGVyczogU2VhcmNoRmlsdGVyc1xyXG4gIGlzTG9hZGluZzogYm9vbGVhblxyXG4gIGVycm9yOiBzdHJpbmcgfCBudWxsXHJcbiAgdG90YWxSZXN1bHRzOiBudW1iZXJcclxuICBjdXJyZW50UGFnZTogbnVtYmVyXHJcbn1cclxuXHJcbmNvbnN0IGluaXRpYWxTdGF0ZTogU2VhcmNoU3RhdGUgPSB7XHJcbiAgcHJvdmlkZXJzOiBbXSxcclxuICBmaWx0ZXJzOiB7XHJcbiAgICBzZXJ2aWNlVHlwZTogJycsXHJcbiAgICBjaXR5OiAnJyxcclxuICAgIG5laWdoYm9yaG9vZDogJycsXHJcbiAgICBtaW5SYXRpbmc6IDAsXHJcbiAgICBtYXhQcmljZTogdW5kZWZpbmVkLFxyXG4gICAgYXZhaWxhYmlsaXR5OiAnYW55J1xyXG4gIH0sXHJcbiAgaXNMb2FkaW5nOiBmYWxzZSxcclxuICBlcnJvcjogbnVsbCxcclxuICB0b3RhbFJlc3VsdHM6IDAsXHJcbiAgY3VycmVudFBhZ2U6IDEsXHJcbn1cclxuXHJcbi8vIEFzeW5jIHRodW5rc1xyXG5leHBvcnQgY29uc3Qgc2VhcmNoUHJvdmlkZXJzID0gY3JlYXRlQXN5bmNUaHVuayhcclxuICAnc2VhcmNoL3Byb3ZpZGVycycsXHJcbiAgYXN5bmMgKGZpbHRlcnM6IFNlYXJjaEZpbHRlcnMpID0+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LnNlYXJjaFByb3ZpZGVycyhmaWx0ZXJzKVxyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGFcclxuICB9XHJcbilcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQcm92aWRlckRldGFpbHMgPSBjcmVhdGVBc3luY1RodW5rKFxyXG4gICdzZWFyY2gvcHJvdmlkZXJEZXRhaWxzJyxcclxuICBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQuZ2V0UHJvdmlkZXIoaWQpXHJcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxyXG4gIH1cclxuKVxyXG5cclxuY29uc3Qgc2VhcmNoU2xpY2UgPSBjcmVhdGVTbGljZSh7XHJcbiAgbmFtZTogJ3NlYXJjaCcsXHJcbiAgaW5pdGlhbFN0YXRlLFxyXG4gIHJlZHVjZXJzOiB7XHJcbiAgICBzZXRGaWx0ZXJzOiAoc3RhdGUsIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxQYXJ0aWFsPFNlYXJjaEZpbHRlcnM+PikgPT4ge1xyXG4gICAgICBzdGF0ZS5maWx0ZXJzID0geyAuLi5zdGF0ZS5maWx0ZXJzLCAuLi5hY3Rpb24ucGF5bG9hZCB9XHJcbiAgICB9LFxyXG4gICAgY2xlYXJGaWx0ZXJzOiAoc3RhdGUpID0+IHtcclxuICAgICAgc3RhdGUuZmlsdGVycyA9IGluaXRpYWxTdGF0ZS5maWx0ZXJzXHJcbiAgICB9LFxyXG4gICAgc2V0UGFnZTogKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248bnVtYmVyPikgPT4ge1xyXG4gICAgICBzdGF0ZS5jdXJyZW50UGFnZSA9IGFjdGlvbi5wYXlsb2FkXHJcbiAgICB9LFxyXG4gICAgY2xlYXJFcnJvcjogKHN0YXRlKSA9PiB7XHJcbiAgICAgIHN0YXRlLmVycm9yID0gbnVsbFxyXG4gICAgfSxcclxuICB9LFxyXG4gIGV4dHJhUmVkdWNlcnM6IChidWlsZGVyKSA9PiB7XHJcbiAgICBidWlsZGVyXHJcbiAgICAgIC5hZGRDYXNlKHNlYXJjaFByb3ZpZGVycy5wZW5kaW5nLCAoc3RhdGUpID0+IHtcclxuICAgICAgICBzdGF0ZS5pc0xvYWRpbmcgPSB0cnVlXHJcbiAgICAgICAgc3RhdGUuZXJyb3IgPSBudWxsXHJcbiAgICAgIH0pXHJcbiAgICAgIC5hZGRDYXNlKHNlYXJjaFByb3ZpZGVycy5mdWxmaWxsZWQsIChzdGF0ZSwgYWN0aW9uKSA9PiB7XHJcbiAgICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2VcclxuICAgICAgICBzdGF0ZS5wcm92aWRlcnMgPSBhY3Rpb24ucGF5bG9hZC5wcm92aWRlcnNcclxuICAgICAgICBzdGF0ZS50b3RhbFJlc3VsdHMgPSBhY3Rpb24ucGF5bG9hZC50b3RhbFJlc3VsdHNcclxuICAgICAgICBzdGF0ZS5lcnJvciA9IG51bGxcclxuICAgICAgfSlcclxuICAgICAgLmFkZENhc2Uoc2VhcmNoUHJvdmlkZXJzLnJlamVjdGVkLCAoc3RhdGUsIGFjdGlvbikgPT4ge1xyXG4gICAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlXHJcbiAgICAgICAgc3RhdGUuZXJyb3IgPSBhY3Rpb24uZXJyb3IubWVzc2FnZSB8fCAnU2VhcmNoIGZhaWxlZCdcclxuICAgICAgfSlcclxuICB9LFxyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IHsgc2V0RmlsdGVycywgY2xlYXJGaWx0ZXJzLCBzZXRQYWdlLCBjbGVhckVycm9yIH0gPSBzZWFyY2hTbGljZS5hY3Rpb25zXHJcbmV4cG9ydCBkZWZhdWx0IHNlYXJjaFNsaWNlLnJlZHVjZXJcclxuXHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVTbGljZSIsImNyZWF0ZUFzeW5jVGh1bmsiLCJhcGlDbGllbnQiLCJpbml0aWFsU3RhdGUiLCJwcm92aWRlcnMiLCJmaWx0ZXJzIiwic2VydmljZVR5cGUiLCJjaXR5IiwibmVpZ2hib3Job29kIiwibWluUmF0aW5nIiwibWF4UHJpY2UiLCJ1bmRlZmluZWQiLCJhdmFpbGFiaWxpdHkiLCJpc0xvYWRpbmciLCJlcnJvciIsInRvdGFsUmVzdWx0cyIsImN1cnJlbnRQYWdlIiwic2VhcmNoUHJvdmlkZXJzIiwicmVzcG9uc2UiLCJkYXRhIiwiZ2V0UHJvdmlkZXJEZXRhaWxzIiwiaWQiLCJnZXRQcm92aWRlciIsInNlYXJjaFNsaWNlIiwibmFtZSIsInJlZHVjZXJzIiwic2V0RmlsdGVycyIsInN0YXRlIiwiYWN0aW9uIiwicGF5bG9hZCIsImNsZWFyRmlsdGVycyIsInNldFBhZ2UiLCJjbGVhckVycm9yIiwiZXh0cmFSZWR1Y2VycyIsImJ1aWxkZXIiLCJhZGRDYXNlIiwicGVuZGluZyIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwibWVzc2FnZSIsImFjdGlvbnMiLCJyZWR1Y2VyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/store/slices/searchSlice.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"a2369cd6faf1\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2dsb2JhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VydmljZXRleHRwcm8tbWFya2V0cGxhY2UvLi9zcmMvYXBwL2dsb2JhbHMuY3NzPzc5NDIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCJhMjM2OWNkNmZhZjFcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/globals.css\n");

/***/ }),

/***/ "(rsc)/./src/styles/theme.css":
/*!******************************!*\
  !*** ./src/styles/theme.css ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"378bf2b186e0\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc3R5bGVzL3RoZW1lLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3NlcnZpY2V0ZXh0cHJvLW1hcmtldHBsYWNlLy4vc3JjL3N0eWxlcy90aGVtZS5jc3M/ODE2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjM3OGJmMmIxODZlMFwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/styles/theme.css\n");

/***/ }),

/***/ "(rsc)/./src/app/layout.tsx":
/*!****************************!*\
  !*** ./src/app/layout.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"src\\\\app\\\\layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"src\\\\\\\\app\\\\\\\\layout.tsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"]}],\\\"variableName\\\":\\\"inter\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./src/app/globals.css\");\n/* harmony import */ var _styles_theme_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../styles/theme.css */ \"(rsc)/./src/styles/theme.css\");\n/* harmony import */ var _providers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./providers */ \"(rsc)/./src/app/providers.tsx\");\n/* harmony import */ var _components_GDPRPopup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/GDPRPopup */ \"(rsc)/./src/components/GDPRPopup.tsx\");\n/* harmony import */ var _components_ChatWidget__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ChatWidget */ \"(rsc)/./src/components/ChatWidget.tsx\");\n\n\n\n\n\n\n\nconst metadata = {\n    title: \"ServiceText Pro Marketplace\",\n    description: \"Намерете най-добрите професионалисти в България - електротехници, водопроводчици, климатици\",\n    keywords: \"електротехник, водопроводчик, климатик, майстор, България, София\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"bg\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: (next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_6___default().className),\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_providers__WEBPACK_IMPORTED_MODULE_3__.Providers, {\n                children: [\n                    children,\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_GDPRPopup__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\layout.tsx\",\n                        lineNumber: 27,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ChatWidget__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {}, void 0, false, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\layout.tsx\",\n                        lineNumber: 28,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\layout.tsx\",\n                lineNumber: 25,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\layout.tsx\",\n            lineNumber: 24,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\app\\\\layout.tsx\",\n        lineNumber: 23,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBUU1BO0FBTmdCO0FBQ007QUFDVztBQUNPO0FBQ0U7QUFJekMsTUFBTUksV0FBcUI7SUFDaENDLE9BQU87SUFDUEMsYUFBYTtJQUNiQyxVQUFVO0FBQ1osRUFBQztBQUVjLFNBQVNDLFdBQVcsRUFDakNDLFFBQVEsRUFHVDtJQUNDLHFCQUNFLDhEQUFDQztRQUFLQyxNQUFLO2tCQUNULDRFQUFDQztZQUFLQyxXQUFXYiwrSkFBZTtzQkFDOUIsNEVBQUNDLGlEQUFTQTs7b0JBQ1BRO2tDQUNELDhEQUFDUCw2REFBU0E7Ozs7O2tDQUNWLDhEQUFDQyw4REFBVUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtyQiIsInNvdXJjZXMiOlsid2VicGFjazovL3NlcnZpY2V0ZXh0cHJvLW1hcmtldHBsYWNlLy4vc3JjL2FwcC9sYXlvdXQudHN4PzU3YTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBNZXRhZGF0YSB9IGZyb20gJ25leHQnXHJcbmltcG9ydCB7IEludGVyIH0gZnJvbSAnbmV4dC9mb250L2dvb2dsZSdcclxuaW1wb3J0ICcuL2dsb2JhbHMuY3NzJ1xyXG5pbXBvcnQgJy4uL3N0eWxlcy90aGVtZS5jc3MnXHJcbmltcG9ydCB7IFByb3ZpZGVycyB9IGZyb20gJy4vcHJvdmlkZXJzJ1xyXG5pbXBvcnQgR0RQUlBvcHVwIGZyb20gJ0AvY29tcG9uZW50cy9HRFBSUG9wdXAnXHJcbmltcG9ydCBDaGF0V2lkZ2V0IGZyb20gJ0AvY29tcG9uZW50cy9DaGF0V2lkZ2V0J1xyXG5cclxuY29uc3QgaW50ZXIgPSBJbnRlcih7IHN1YnNldHM6IFsnbGF0aW4nXSB9KVxyXG5cclxuZXhwb3J0IGNvbnN0IG1ldGFkYXRhOiBNZXRhZGF0YSA9IHtcclxuICB0aXRsZTogJ1NlcnZpY2VUZXh0IFBybyBNYXJrZXRwbGFjZScsXHJcbiAgZGVzY3JpcHRpb246ICfQndCw0LzQtdGA0LXRgtC1INC90LDQuS3QtNC+0LHRgNC40YLQtSDQv9GA0L7RhNC10YHQuNC+0L3QsNC70LjRgdGC0Lgg0LIg0JHRitC70LPQsNGA0LjRjyAtINC10LvQtdC60YLRgNC+0YLQtdGF0L3QuNGG0LgsINCy0L7QtNC+0L/RgNC+0LLQvtC00YfQuNGG0LgsINC60LvQuNC80LDRgtC40YbQuCcsXHJcbiAga2V5d29yZHM6ICfQtdC70LXQutGC0YDQvtGC0LXRhdC90LjQuiwg0LLQvtC00L7Qv9GA0L7QstC+0LTRh9C40LosINC60LvQuNC80LDRgtC40LosINC80LDQudGB0YLQvtGALCDQkdGK0LvQs9Cw0YDQuNGPLCDQodC+0YTQuNGPJyxcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7XHJcbiAgY2hpbGRyZW4sXHJcbn06IHtcclxuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlXHJcbn0pIHtcclxuICByZXR1cm4gKFxyXG4gICAgPGh0bWwgbGFuZz1cImJnXCI+XHJcbiAgICAgIDxib2R5IGNsYXNzTmFtZT17aW50ZXIuY2xhc3NOYW1lfT5cclxuICAgICAgICA8UHJvdmlkZXJzPlxyXG4gICAgICAgICAge2NoaWxkcmVufVxyXG4gICAgICAgICAgPEdEUFJQb3B1cCAvPlxyXG4gICAgICAgICAgPENoYXRXaWRnZXQgLz5cclxuICAgICAgICA8L1Byb3ZpZGVycz5cclxuICAgICAgPC9ib2R5PlxyXG4gICAgPC9odG1sPlxyXG4gIClcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbImludGVyIiwiUHJvdmlkZXJzIiwiR0RQUlBvcHVwIiwiQ2hhdFdpZGdldCIsIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImtleXdvcmRzIiwiUm9vdExheW91dCIsImNoaWxkcmVuIiwiaHRtbCIsImxhbmciLCJib2R5IiwiY2xhc3NOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/providers.tsx":
/*!*******************************!*\
  !*** ./src/app/providers.tsx ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Providers: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");


const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`D:\newtry1\Marketplace\src\app\providers.tsx#Providers`);


/***/ }),

/***/ "(rsc)/./src/app/u/[spIdentifier]/c/[token]/page.tsx":
/*!*****************************************************!*\
  !*** ./src/app/u/[spIdentifier]/c/[token]/page.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ \"(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js\");\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`D:\\newtry1\\Marketplace\\src\\app\\u\\[spIdentifier]\\c\\[token]\\page.tsx#default`));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL3UvW3NwSWRlbnRpZmllcl0vYy9bdG9rZW5dL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7O0FBQStEO0FBQy9ELHNMQUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NlcnZpY2V0ZXh0cHJvLW1hcmtldHBsYWNlLy4vc3JjL2FwcC91L1tzcElkZW50aWZpZXJdL2MvW3Rva2VuXS9wYWdlLnRzeD81MmRmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENoYXQgUGFnZSAtIEhhbmRsZXMgaW5jb21pbmcgY2hhdCByZXF1ZXN0cyB2aWEgdW5pcXVlIHRva2Vuc1xuLy8gVVJMOiAvdS97c3BJZGVudGlmaWVyfS9jL3t0b2tlbn1cblxuJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUGFyYW1zLCB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L25hdmlnYXRpb24nO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcblxuaW50ZXJmYWNlIENoYXRQYWdlUHJvcHMge1xuICBwYXJhbXM6IHtcbiAgICBzcElkZW50aWZpZXI6IHN0cmluZztcbiAgICB0b2tlbjogc3RyaW5nO1xuICB9O1xufVxuXG5pbnRlcmZhY2UgVmFsaWRhdGlvblJlc3VsdCB7XG4gIHZhbGlkOiBib29sZWFuO1xuICB1c2VySWQ/OiBzdHJpbmc7XG4gIGNvbnZlcnNhdGlvbklkPzogc3RyaW5nO1xuICBlcnJvcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdFBhZ2UoeyBwYXJhbXMgfTogQ2hhdFBhZ2VQcm9wcykge1xuICBjb25zdCB7IHNwSWRlbnRpZmllciwgdG9rZW4gfSA9IHBhcmFtcztcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IFtpc1ZhbGlkYXRpbmcsIHNldElzVmFsaWRhdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt2YWxpZGF0aW9uUmVzdWx0LCBzZXRWYWxpZGF0aW9uUmVzdWx0XSA9IHVzZVN0YXRlPFZhbGlkYXRpb25SZXN1bHQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2hhc1N0YXJ0ZWRDaGF0LCBzZXRIYXNTdGFydGVkQ2hhdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGU8YW55W10+KFtdKTtcbiAgY29uc3QgW2N1cnJlbnRNZXNzYWdlLCBzZXRDdXJyZW50TWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtpc1NlbmRpbmcsIHNldElzU2VuZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtoYXNWYWxpZGF0ZWQsIHNldEhhc1ZhbGlkYXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93Q3VzdG9tZXJGb3JtLCBzZXRTaG93Q3VzdG9tZXJGb3JtXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1c3RvbWVySW5mbywgc2V0Q3VzdG9tZXJJbmZvXSA9IHVzZVN0YXRlKHtcbiAgICBuYW1lOiAnJyxcbiAgICBwaG9uZTogJycsXG4gICAgZW1haWw6ICcnXG4gIH0pO1xuICBjb25zdCBbcHJvdmlkZXJJbmZvLCBzZXRQcm92aWRlckluZm9dID0gdXNlU3RhdGU8YW55Pih7XG4gICAgYnVzaW5lc3NOYW1lOiAnTWFtYSBNaWEnLFxuICAgIGZpcnN0TmFtZTogJ01hbWEgTWlhJyxcbiAgICBzZXJ2aWNlQ2F0ZWdvcnk6ICdlbGVjdHJpY2lhbidcbiAgfSk7XG5cbiAgLy8gQ2hlY2sgZm9yIGV4aXN0aW5nIHNlc3Npb24gb24gcGFnZSBsb2FkLCB0aGVuIGF1dG8tdmFsaWRhdGUgdG9rZW5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWhhc1ZhbGlkYXRlZCkge1xuICAgICAgY2hlY2tFeGlzdGluZ1Nlc3Npb24oKTtcbiAgICB9XG4gIH0sIFtzcElkZW50aWZpZXIsIHRva2VuLCBoYXNWYWxpZGF0ZWRdKTtcblxuICBjb25zdCBjaGVja0V4aXN0aW5nU2Vzc2lvbiA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0SGFzVmFsaWRhdGVkKHRydWUpOyAvLyBNYXJrIGFzIHZhbGlkYXRlZCB0byBwcmV2ZW50IGR1cGxpY2F0ZSBjYWxsc1xuICAgICAgXG4gICAgICBjb25zdCBzZXNzaW9uS2V5ID0gYGNoYXRfc2Vzc2lvbl8ke3NwSWRlbnRpZmllcn1gO1xuICAgICAgY29uc3QgdG9rZW5LZXkgPSBgY2hhdF90b2tlbl8ke3NwSWRlbnRpZmllcn1gO1xuICAgICAgY29uc3QgZXhpc3RpbmdTZXNzaW9uSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzZXNzaW9uS2V5KTtcbiAgICAgIGNvbnN0IGxhc3RVc2VkVG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0b2tlbktleSk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBuZXcgdG9rZW4gKGRpZmZlcmVudCBmcm9tIHRoZSBvbmUgdGhhdCBjcmVhdGVkIHRoZSBzZXNzaW9uKVxuICAgICAgaWYgKGV4aXN0aW5nU2Vzc2lvbklkICYmIGxhc3RVc2VkVG9rZW4gJiYgbGFzdFVzZWRUb2tlbiAhPT0gdG9rZW4pIHtcbiAgICAgICAgY29uc29sZS5sb2coYE5ldyB0b2tlbiBkZXRlY3RlZCEgTGFzdCB1c2VkOiAke2xhc3RVc2VkVG9rZW59LCBDdXJyZW50OiAke3Rva2VufWApO1xuICAgICAgICBjb25zb2xlLmxvZygnRm9yY2luZyB0b2tlbiB2YWxpZGF0aW9uIGZvciBuZXcgdG9rZW4uLi4nKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENsZWFyIG9sZCBzZXNzaW9uIHNpbmNlIHdlIGhhdmUgYSBuZXcgdG9rZW5cbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oc2Vzc2lvbktleSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRva2VuS2V5KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZvcmNlIHZhbGlkYXRlIHRoZSBuZXcgdG9rZW5cbiAgICAgICAgYXdhaXQgdmFsaWRhdGVUb2tlbigpO1xuICAgICAgICBzZXRIYXNTdGFydGVkQ2hhdCh0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoZXhpc3RpbmdTZXNzaW9uSWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZvdW5kIGV4aXN0aW5nIHNlc3Npb246JywgZXhpc3RpbmdTZXNzaW9uSWQpO1xuICAgICAgICBjb25zb2xlLmxvZygnU2FtZSB0b2tlbiBhcyBiZWZvcmUsIHVzaW5nIGV4aXN0aW5nIHNlc3Npb24nKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZhbGlkYXRlIGV4aXN0aW5nIHNlc3Npb25cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoXG4gICAgICAgICAgYGh0dHA6Ly8xOTIuMTY4LjAuMTI5OjMwMDAvYXBpL3YxL2NoYXQvc2Vzc2lvbnMvJHtleGlzdGluZ1Nlc3Npb25JZH0vdmFsaWRhdGVgLFxuICAgICAgICAgIHsgdGltZW91dDogMTAwMDAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFRva2VuIHZhbGlkYXRpb24gc3VjY2Vzc2Z1bDonLCByZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICBzZXRWYWxpZGF0aW9uUmVzdWx0KHtcbiAgICAgICAgICAgIHZhbGlkOiB0cnVlLFxuICAgICAgICAgICAgdXNlcklkOiByZXNwb25zZS5kYXRhLmRhdGEudXNlcklkLFxuICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IHJlc3BvbnNlLmRhdGEuZGF0YS5jb252ZXJzYXRpb25JZFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gRmV0Y2ggcHJvdmlkZXIgaW5mb3JtYXRpb25cbiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5kYXRhLnVzZXJJZCkge1xuICAgICAgICAgICAgYXdhaXQgZmV0Y2hQcm92aWRlckluZm8ocmVzcG9uc2UuZGF0YS5kYXRhLnVzZXJJZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2V0SGFzU3RhcnRlZENoYXQodHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFNlc3Npb24gaW52YWxpZCwgcmVtb3ZlIGZyb20gc3RvcmFnZVxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHNlc3Npb25LZXkpO1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRva2VuS2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBObyBleGlzdGluZyBzZXNzaW9uIGZvdW5kLCBzaG93IHdlbGNvbWUgc2NyZWVuXG4gICAgICBjb25zb2xlLmxvZygnTm8gZXhpc3Rpbmcgc2Vzc2lvbiwgc2hvd2luZyB3ZWxjb21lIHNjcmVlbicpO1xuICAgICAgLy8gRG9uJ3QgYXV0by12YWxpZGF0ZSB0b2tlbiAtIGxldCB1c2VyIGNsaWNrIFwiU3RhcnQgQ2hhdFwiIGJ1dHRvblxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdTZXNzaW9uIGNoZWNrIGZhaWxlZCwgc2hvd2luZyB3ZWxjb21lIHNjcmVlbjonLCBlcnJvcik7XG4gICAgICAvLyBEb24ndCBhdXRvLXZhbGlkYXRlIHRva2VuIC0gbGV0IHVzZXIgY2xpY2sgXCJTdGFydCBDaGF0XCIgYnV0dG9uXG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHZhbGlkYXRlVG9rZW4gPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldElzVmFsaWRhdGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuXG4gICAgICBjb25zb2xlLmxvZygnVmFsaWRhdGluZyB0b2tlbjonLCB7IHNwSWRlbnRpZmllciwgdG9rZW46IHRva2VuLnN1YnN0cmluZygwLCA0KSArICcqKioqJyB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoXG4gICAgICAgIGBodHRwOi8vMTkyLjE2OC4wLjEyOTozMDAwL2FwaS92MS9jaGF0L3B1YmxpYy8ke3NwSWRlbnRpZmllcn0vdmFsaWRhdGUvJHt0b2tlbn1gLFxuICAgICAgICB7XG4gICAgICAgICAgdGltZW91dDogMTAwMDAsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICBjb25zb2xlLmxvZygnVG9rZW4gdmFsaWRhdGlvbiBzdWNjZXNzZnVsOicsIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RvcmUgc2Vzc2lvbiBJRCBhbmQgdG9rZW4gaW4gbG9jYWxTdG9yYWdlIGZvciBmdXR1cmUgYWNjZXNzXG4gICAgICAgIGNvbnN0IHNlc3Npb25LZXkgPSBgY2hhdF9zZXNzaW9uXyR7c3BJZGVudGlmaWVyfWA7XG4gICAgICAgIGNvbnN0IHRva2VuS2V5ID0gYGNoYXRfdG9rZW5fJHtzcElkZW50aWZpZXJ9YDtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YS5zZXNzaW9uSWQpIHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzZXNzaW9uS2V5LCByZXNwb25zZS5kYXRhLmRhdGEuc2Vzc2lvbklkKTtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0b2tlbktleSwgdG9rZW4pOyAvLyBTdG9yZSB0aGUgdG9rZW4gdGhhdCBjcmVhdGVkIHRoaXMgc2Vzc2lvblxuICAgICAgICAgIGNvbnNvbGUubG9nKCdTdG9yZWQgc2Vzc2lvbiBJRDonLCByZXNwb25zZS5kYXRhLmRhdGEuc2Vzc2lvbklkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnU3RvcmVkIHRva2VuOicsIHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0VmFsaWRhdGlvblJlc3VsdCh7XG4gICAgICAgICAgdmFsaWQ6IHRydWUsXG4gICAgICAgICAgdXNlcklkOiByZXNwb25zZS5kYXRhLmRhdGEudXNlcklkLFxuICAgICAgICAgIGNvbnZlcnNhdGlvbklkOiByZXNwb25zZS5kYXRhLmRhdGEuY29udmVyc2F0aW9uSWRcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBFYWNoIHRva2VuIHJlcHJlc2VudHMgYSB1bmlxdWUgY3VzdG9tZXIgaW50ZXJhY3Rpb25cbiAgICAgICAgLy8gQWx3YXlzIHNob3cgY3VzdG9tZXIgZm9ybSBmb3IgbmV3IHRva2VucyAobmV3IGN1c3RvbWVycylcbiAgICAgICAgc2V0U2hvd0N1c3RvbWVyRm9ybSh0cnVlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk50gU2hvd2luZyBjdXN0b21lciBmb3JtIGZvciB0b2tlbjonLCB0b2tlbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdUb2tlbiB2YWxpZGF0aW9uIGZhaWxlZDonLCByZXNwb25zZS5kYXRhKTtcbiAgICAgICAgc2V0VmFsaWRhdGlvblJlc3VsdCh7XG4gICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgIGVycm9yOiByZXNwb25zZS5kYXRhLmVycm9yPy5tZXNzYWdlIHx8ICdUb2tlbiB2YWxpZGF0aW9uIGZhaWxlZCdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignVG9rZW4gdmFsaWRhdGlvbiBlcnJvcjonLCBlcnIpO1xuICAgICAgXG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ0ZhaWxlZCB0byB2YWxpZGF0ZSBjaGF0IHRva2VuJztcbiAgICAgIGlmIChlcnIucmVzcG9uc2U/LmRhdGE/LmVycm9yPy5tZXNzYWdlKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGVyci5yZXNwb25zZS5kYXRhLmVycm9yLm1lc3NhZ2U7XG4gICAgICB9IGVsc2UgaWYgKGVyci5tZXNzYWdlKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuICAgICAgfVxuXG4gICAgICBzZXRWYWxpZGF0aW9uUmVzdWx0KHtcbiAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICBlcnJvcjogZXJyb3JNZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzVmFsaWRhdGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHN0YXJ0Q2hhdCA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRIYXNTdGFydGVkQ2hhdCh0cnVlKTtcbiAgICBhd2FpdCB2YWxpZGF0ZVRva2VuKCk7XG4gIH07XG5cbiAgY29uc3Qgc2VuZE1lc3NhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50TWVzc2FnZS50cmltKCkgfHwgaXNTZW5kaW5nIHx8ICF2YWxpZGF0aW9uUmVzdWx0Py5jb252ZXJzYXRpb25JZCkge1xuICAgICAgY29uc29sZS5sb2coJ+KdjCBDYW5ub3Qgc2VuZCBtZXNzYWdlOicsIHtcbiAgICAgICAgaGFzTWVzc2FnZTogISFjdXJyZW50TWVzc2FnZS50cmltKCksXG4gICAgICAgIGlzU2VuZGluZyxcbiAgICAgICAgaGFzQ29udmVyc2F0aW9uSWQ6ICEhdmFsaWRhdGlvblJlc3VsdD8uY29udmVyc2F0aW9uSWQsXG4gICAgICAgIGNvbnZlcnNhdGlvbklkOiB2YWxpZGF0aW9uUmVzdWx0Py5jb252ZXJzYXRpb25JZFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ/Cfk6QgU2VuZGluZyBtZXNzYWdlOicsIHtcbiAgICAgIGNvbnZlcnNhdGlvbklkOiB2YWxpZGF0aW9uUmVzdWx0LmNvbnZlcnNhdGlvbklkLFxuICAgICAgbWVzc2FnZUxlbmd0aDogY3VycmVudE1lc3NhZ2UubGVuZ3RoLFxuICAgICAgdmFsaWRhdGlvblJlc3VsdFxuICAgIH0pO1xuXG4gICAgc2V0SXNTZW5kaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBuZXdNZXNzYWdlID0ge1xuICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICB0ZXh0OiBjdXJyZW50TWVzc2FnZSxcbiAgICAgICAgc2VuZGVyOiAnY3VzdG9tZXInLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfTtcblxuICAgICAgLy8gQWRkIG1lc3NhZ2UgdG8gVUkgaW1tZWRpYXRlbHlcbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIG5ld01lc3NhZ2VdKTtcbiAgICAgIHNldEN1cnJlbnRNZXNzYWdlKCcnKTtcblxuICAgICAgLy8gU2VuZCB0byBiYWNrZW5kXG4gICAgICBjb25zdCBhcGlVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vMTkyLjE2OC4wLjEyOTozMDAwL2FwaS92MSc7XG4gICAgICBjb25zdCBtZXNzYWdlVXJsID0gYCR7YXBpVXJsfS9tYXJrZXRwbGFjZS9jb252ZXJzYXRpb25zLyR7dmFsaWRhdGlvblJlc3VsdC5jb252ZXJzYXRpb25JZH0vbWVzc2FnZXNgO1xuICAgICAgY29uc29sZS5sb2coJ/Cfk6QgU2VuZGluZyBtZXNzYWdlIHRvOicsIG1lc3NhZ2VVcmwpO1xuICAgICAgXG4gICAgICBhd2FpdCBheGlvcy5wb3N0KG1lc3NhZ2VVcmwsIHtcbiAgICAgICAgc2VuZGVyVHlwZTogJ2N1c3RvbWVyJyxcbiAgICAgICAgc2VuZGVyTmFtZTogY3VzdG9tZXJJbmZvLm5hbWUgfHwgJ0N1c3RvbWVyJyxcbiAgICAgICAgbWVzc2FnZTogY3VycmVudE1lc3NhZ2UsXG4gICAgICAgIG1lc3NhZ2VUeXBlOiAndGV4dCdcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZygn4pyFIE1lc3NhZ2Ugc2VudCBzdWNjZXNzZnVsbHknKTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIHNlbmQgbWVzc2FnZTonLCBlcnJvcik7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZGV0YWlsczonLCB7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIHN0YXR1czogZXJyb3IucmVzcG9uc2U/LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogZXJyb3IucmVzcG9uc2U/LnN0YXR1c1RleHQsXG4gICAgICAgIGRhdGE6IGVycm9yLnJlc3BvbnNlPy5kYXRhLFxuICAgICAgICB1cmw6IGVycm9yLmNvbmZpZz8udXJsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdyB1c2VyLWZyaWVuZGx5IGVycm9yXG4gICAgICBhbGVydChg0JPRgNC10YjQutCwINC/0YDQuCDQuNC30L/RgNCw0YnQsNC90LUg0L3QsCDRgdGK0L7QsdGJ0LXQvdC40LXRgtC+OiAke2Vycm9yLnJlc3BvbnNlPy5zdGF0dXMgfHwgJ9Cd0LXQuNC30LLQtdGB0YLQvdCwINCz0YDQtdGI0LrQsCd9XFxuXFxu0JTQtdGC0LDQudC70Lg6ICR7ZXJyb3IucmVzcG9uc2U/LmRhdGE/LmVycm9yPy5tZXNzYWdlIHx8IGVycm9yLm1lc3NhZ2V9YCk7XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSBtZXNzYWdlIGZyb20gVUkgb24gZXJyb3JcbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5maWx0ZXIobSA9PiBtLmlkICE9PSBEYXRlLm5vdygpLnRvU3RyaW5nKCkpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTZW5kaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc2VuZE1lc3NhZ2UoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ3VzdG9tZXJGb3JtU3VibWl0ID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBcbiAgICBpZiAoIWN1c3RvbWVySW5mby5uYW1lLnRyaW0oKSB8fCAhY3VzdG9tZXJJbmZvLnBob25lLnRyaW0oKSkge1xuICAgICAgYWxlcnQoJ9Cc0L7Qu9GPINCy0YrQstC10LTQtdGC0LUg0LjQvNC1INC4INGC0LXQu9C10YTQvtC9Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFN0b3JlIGN1c3RvbWVyIGluZm8gZm9yIHRoaXMgc3BlY2lmaWMgdG9rZW5cbiAgICBjb25zdCBjdXN0b21lcktleSA9IGBjdXN0b21lcl9pbmZvXyR7dG9rZW59YDtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShjdXN0b21lcktleSwgSlNPTi5zdHJpbmdpZnkoY3VzdG9tZXJJbmZvKSk7XG4gICAgXG4gICAgLy8gVXBkYXRlIGNvbnZlcnNhdGlvbiB3aXRoIGN1c3RvbWVyIGRldGFpbHNcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXBpVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovLzE5Mi4xNjguMC4xMjk6MzAwMC9hcGkvdjEnO1xuICAgICAgY29uc3QgdXBkYXRlVXJsID0gYCR7YXBpVXJsfS9tYXJrZXRwbGFjZS9jb252ZXJzYXRpb25zLyR7dmFsaWRhdGlvblJlc3VsdD8uY29udmVyc2F0aW9uSWR9YDtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ/CflIQgVXBkYXRpbmcgY29udmVyc2F0aW9uIHdpdGggY3VzdG9tZXIgZGV0YWlsczonLCB7XG4gICAgICAgIHVybDogdXBkYXRlVXJsLFxuICAgICAgICBjb252ZXJzYXRpb25JZDogdmFsaWRhdGlvblJlc3VsdD8uY29udmVyc2F0aW9uSWQsXG4gICAgICAgIGN1c3RvbWVyTmFtZTogY3VzdG9tZXJJbmZvLm5hbWUsXG4gICAgICAgIGN1c3RvbWVyUGhvbmU6IGN1c3RvbWVySW5mby5waG9uZSxcbiAgICAgICAgY3VzdG9tZXJFbWFpbDogY3VzdG9tZXJJbmZvLmVtYWlsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wdXQodXBkYXRlVXJsLCB7XG4gICAgICAgIGN1c3RvbWVyTmFtZTogY3VzdG9tZXJJbmZvLm5hbWUsXG4gICAgICAgIGN1c3RvbWVyUGhvbmU6IGN1c3RvbWVySW5mby5waG9uZSxcbiAgICAgICAgY3VzdG9tZXJFbWFpbDogY3VzdG9tZXJJbmZvLmVtYWlsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ+KchSBDb252ZXJzYXRpb24gdXBkYXRlZCBzdWNjZXNzZnVsbHk6JywgcmVzcG9uc2UuZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byB1cGRhdGUgY29udmVyc2F0aW9uIHdpdGggY3VzdG9tZXIgZGV0YWlsczonLCBlcnJvcik7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgVXBkYXRlIGVycm9yIGRldGFpbHM6Jywge1xuICAgICAgICBzdGF0dXM6IGVycm9yLnJlc3BvbnNlPy5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IGVycm9yLnJlc3BvbnNlPy5zdGF0dXNUZXh0LFxuICAgICAgICBkYXRhOiBlcnJvci5yZXNwb25zZT8uZGF0YSxcbiAgICAgICAgdXJsOiBlcnJvci5jb25maWc/LnVybFxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIEhpZGUgZm9ybSBhbmQgc3RhcnQgY2hhdFxuICAgIHNldFNob3dDdXN0b21lckZvcm0oZmFsc2UpO1xuICAgIHNldEhhc1N0YXJ0ZWRDaGF0KHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUN1c3RvbWVySW5mb0NoYW5nZSA9IChmaWVsZDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgc2V0Q3VzdG9tZXJJbmZvKHByZXYgPT4gKHsgLi4ucHJldiwgW2ZpZWxkXTogdmFsdWUgfSkpO1xuICB9O1xuXG4gIGNvbnN0IGZldGNoUHJvdmlkZXJJbmZvID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEZldGNoaW5nIHByb3ZpZGVyIGluZm8gZm9yIHVzZXJJZDonLCB1c2VySWQpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHA6Ly8xOTIuMTY4LjAuMTI5OjMwMDAvYXBpL3YxL21hcmtldHBsYWNlL3Byb3ZpZGVycy8ke3VzZXJJZH1gKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OhIFByb3ZpZGVyIEFQSSByZXNwb25zZTonLCByZXNwb25zZS5kYXRhKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2Vzcykge1xuICAgICAgICBzZXRQcm92aWRlckluZm8ocmVzcG9uc2UuZGF0YS5kYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBQcm92aWRlciBpbmZvIGxvYWRlZDonLCByZXNwb25zZS5kYXRhLmRhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFByb3ZpZGVyIEFQSSByZXR1cm5lZCBlcnJvcjonLCByZXNwb25zZS5kYXRhLmVycm9yKTtcbiAgICAgICAgc2V0RmFsbGJhY2tQcm92aWRlckluZm8oKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBmZXRjaCBwcm92aWRlciBpbmZvOicsIGVycm9yKTtcbiAgICAgIHNldEZhbGxiYWNrUHJvdmlkZXJJbmZvKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNldEZhbGxiYWNrUHJvdmlkZXJJbmZvID0gKCkgPT4ge1xuICAgIHNldFByb3ZpZGVySW5mbyh7XG4gICAgICBidXNpbmVzc05hbWU6ICdNYW1hIE1pYScsXG4gICAgICBmaXJzdE5hbWU6ICdNYW1hIE1pYScsIFxuICAgICAgbGFzdE5hbWU6ICcnLFxuICAgICAgc2VydmljZUNhdGVnb3J5OiAnZWxlY3RyaWNpYW4nXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJ/CflIQgVXNpbmcgZmFsbGJhY2sgcHJvdmlkZXIgaW5mbzogTWFtYSBNaWEnKTtcbiAgfTtcblxuICBpZiAoaXNWYWxpZGF0aW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTggcm91bmRlZC1sZyBzaGFkb3ctbWQgbWF4LXctbWQgdy1mdWxsIG14LTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC0xMiB3LTEyIGJvcmRlci1iLTIgYm9yZGVyLWJsdWUtNjAwIG14LWF1dG8gbWItNFwiPjwvZGl2PlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTJcIj5cbiAgICAgICAgICAgICAg0J/RgNC+0LLQtdGA0Y/QstCw0L3QtSDQvdCwINCy0YDRitC30LrQsNGC0LAuLi5cbiAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgINCc0L7Qu9GPLCDQuNC30YfQsNC60LDQudGC0LUg0LTQvtC60LDRgtC+INC/0YDQvtCy0LXRgNC40Lwg0LLQsNGI0LDRgtCwINCy0YDRitC30LrQsC5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gU2hvdyBjdXN0b21lciBpbmZvcm1hdGlvbiBmb3JtXG4gIGlmIChzaG93Q3VzdG9tZXJGb3JtICYmIHZhbGlkYXRpb25SZXN1bHQ/LnZhbGlkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTggcm91bmRlZC1sZyBzaGFkb3ctbWQgbWF4LXctbWQgdy1mdWxsIG14LTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1iLTZcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMiBoLTEyIGJnLWJsdWUtMTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBteC1hdXRvIG1iLTRcIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTYgaC02IHRleHQtYmx1ZS02MDBcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNMTYgN2E0IDQgMCAxMS04IDAgNCA0IDAgMDE4IDB6TTEyIDE0YTcgNyAwIDAwLTcgN2gxNGE3IDcgMCAwMC03LTd6XCIgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+XG4gICAgICAgICAgICAgINCX0LDQv9C+0YfQvdC10YLQtSDRh9Cw0YIg0YEge3Byb3ZpZGVySW5mby5idXNpbmVzc05hbWUgfHwgcHJvdmlkZXJJbmZvLmZpcnN0TmFtZX1cbiAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgINCc0L7Qu9GPINCy0YrQstC10LTQtdGC0LUg0LLQsNGI0LjRgtC1INC00LDQvdC90Lgg0LfQsCDQtNCwINC30LDQv9C+0YfQvdC10Lwg0YDQsNC30LPQvtCy0L7RgNCwXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlQ3VzdG9tZXJGb3JtU3VibWl0fSBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwibmFtZVwiIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0xXCI+XG4gICAgICAgICAgICAgICAg0JjQvNC1ICpcbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIGlkPVwibmFtZVwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e2N1c3RvbWVySW5mby5uYW1lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gaGFuZGxlQ3VzdG9tZXJJbmZvQ2hhbmdlKCduYW1lJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBmb2N1czpib3JkZXItYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi0JLQsNGI0LXRgtC+INC40LzQtVwiXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInBob25lXCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICDQotC10LvQtdGE0L7QvSAqXG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZWxcIlxuICAgICAgICAgICAgICAgIGlkPVwicGhvbmVcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21lckluZm8ucGhvbmV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVDdXN0b21lckluZm9DaGFuZ2UoJ3Bob25lJywgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBmb2N1czpib3JkZXItYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiMDg4OCAxMjMgNDU2XCJcbiAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiZW1haWxcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMVwiPlxuICAgICAgICAgICAgICAgINCY0LzQtdC50LsgKNC/0L4g0LbQtdC70LDQvdC40LUpXG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgICAgICAgaWQ9XCJlbWFpbFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e2N1c3RvbWVySW5mby5lbWFpbH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGhhbmRsZUN1c3RvbWVySW5mb0NoYW5nZSgnZW1haWwnLCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIGZvY3VzOmJvcmRlci1ibHVlLTUwMFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ5b3VyQGVtYWlsLmNvbVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHktMiBweC00IHJvdW5kZWQtbWQgaG92ZXI6YmctYmx1ZS03MDAgdHJhbnNpdGlvbi1jb2xvcnMgZm9udC1tZWRpdW1cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICDQl9Cw0L/QvtGH0L3QuCDRh9Cw0YJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZm9ybT5cblxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCB0ZXh0LWNlbnRlciBtdC00XCI+XG4gICAgICAgICAgICDQktCw0YjQuNGC0LUg0LTQsNC90L3QuCDRidC1INCx0YrQtNCw0YIg0LjQt9C/0L7Qu9C30LLQsNC90Lgg0YHQsNC80L4g0LfQsCDRgtC+0LfQuCDRgNCw0LfQs9C+0LLQvtGAXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoaGFzU3RhcnRlZENoYXQgJiYgIXZhbGlkYXRpb25SZXN1bHQ/LnZhbGlkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTggcm91bmRlZC1sZyBzaGFkb3ctbWQgbWF4LXctbWQgdy1mdWxsIG14LTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTIgaC0xMiBiZy1yZWQtMTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBteC1hdXRvIG1iLTRcIj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTYgaC02IHRleHQtcmVkLTYwMFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIgLz5cbiAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+XG4gICAgICAgICAgICAgINCd0LXQstCw0LvQuNC00L3QsCDQstGA0YrQt9C60LBcbiAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIG1iLTRcIj5cbiAgICAgICAgICAgICAge3ZhbGlkYXRpb25SZXN1bHQ/LmVycm9yIHx8ICfQotCw0LfQuCDQstGA0YrQt9C60LAg0LLQtdGH0LUg0L3QtSDQtSDQsNC60YLQuNCy0L3QsCDQuNC70Lgg0LUg0LjQt9GC0LXQutC70LAuJ31cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHktMiBweC00IHJvdW5kZWQtbWQgaG92ZXI6YmctYmx1ZS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg0J7Qv9C40YLQsNC50YLQtSDQvtGC0L3QvtCy0L5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgINCQ0LrQviDQv9GA0L7QsdC70LXQvNGK0YIg0L/RgNC+0LTRitC70LbQsNCy0LAsINC80L7Qu9GPINC+0LHQsNC00LXRgtC1INGB0LUg0L7RgtC90L7QstC+LlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gU2hvdyB3ZWxjb21lIHNjcmVlbiBpZiBjaGF0IGhhc24ndCBzdGFydGVkIHlldFxuICBpZiAoIWhhc1N0YXJ0ZWRDaGF0ICYmICF2YWxpZGF0aW9uUmVzdWx0Py52YWxpZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwXCI+XG4gICAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgc2hhZG93LXNtIGJvcmRlci1iXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy00eGwgbXgtYXV0byBweC00IHB5LTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgICAgICDwn5KsINCn0LDRgiDRgSB7cHJvdmlkZXJJbmZvPy5idXNpbmVzc05hbWUgfHwgJ9GC0LXRhdC90LjQuid9XG4gICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgINCe0L/QuNGI0LXRgtC1INCy0LDRiNC40Y8g0L/RgNC+0LHQu9C10Lwg0Lgg0YnQtSDQv9C+0LvRg9GH0LjRgtC1INCx0YrRgNC3INC+0YLQs9C+0LLQvtGAXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMyBoLTMgYmctZ3JlZW4tNTAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPtCe0L3Qu9Cw0LnQvTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFdlbGNvbWUgU2NyZWVuICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTR4bCBteC1hdXRvIHB4LTQgcHktNlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctc20gYm9yZGVyIG1pbi1oLVs2MDBweF0gZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIFdlbGNvbWUgQ29udGVudCAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbWF4LXctbWQgbXgtYXV0byBwLThcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgYmctYmx1ZS0xMDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG14LWF1dG8gbWItNlwiPlxuICAgICAgICAgICAgICAgIHtwcm92aWRlckluZm8/LmJ1c2luZXNzTmFtZSA/IChcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgZm9udC1ib2xkIHRleHQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAge3Byb3ZpZGVySW5mby5idXNpbmVzc05hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCl9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy04IGgtOCB0ZXh0LWJsdWUtNjAwXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk04IDEyaC4wMU0xMiAxMmguMDFNMTYgMTJoLjAxTTIxIDEyYzAgNC40MTgtNC4wMyA4LTkgOGE5Ljg2MyA5Ljg2MyAwIDAxLTQuMjU1LS45NDlMMyAyMGwxLjM5NS0zLjcyQzMuNTEyIDE1LjA0MiAzIDEzLjU3NCAzIDEyYzAtNC40MTggNC4wMy04IDktOHM5IDMuNTgyIDkgOHpcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgbWItNFwiPlxuICAgICAgICAgICAgICAgINCU0L7QsdGA0LUg0LTQvtGI0LvQuCDQsiDRh9Cw0YLQsCDRgSB7cHJvdmlkZXJJbmZvPy5idXNpbmVzc05hbWUgfHwgJ9C90LDRgSd9IVxuICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBtYi02XCI+XG4gICAgICAgICAgICAgICAg0JPQvtGC0L7QstC4INGB0LzQtSDQtNCwINCy0Lgg0L/QvtC80L7Qs9C90LXQvCDRgSDQstCw0YjQuNGPINC/0YDQvtCx0LvQtdC8LiDQndCw0YLQuNGB0L3QtdGC0LUg0LHRg9GC0L7QvdCwINC/0L4t0LTQvtC70YMg0LfQsCDQtNCwINC30LDQv9C+0YfQvdC10YLQtSDRgNCw0LfQs9C+0LLQvtGA0LAuXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtzdGFydENoYXR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS02MDAgdGV4dC13aGl0ZSBweC04IHB5LTMgcm91bmRlZC1sZyBob3ZlcjpiZy1ibHVlLTcwMCB0cmFuc2l0aW9uLWNvbG9ycyBmb250LW1lZGl1bVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDQl9Cw0L/QvtGH0L3QuCDRh9Cw0YJcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTggcC00IGJnLWJsdWUtNTAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCBiZy1ibHVlLTYwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtc20gZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7cHJvdmlkZXJJbmZvPy5idXNpbmVzc05hbWU/LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpIHx8ICfQoid9XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxlZnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktOTAwIGZvbnQtbWVkaXVtIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7cHJvdmlkZXJJbmZvPy5idXNpbmVzc05hbWUgfHwgJ9Ci0LXRhdC90LjQuid9IC0ge3Byb3ZpZGVySW5mbz8uc2VydmljZUNhdGVnb3J5ID09PSAnZWxlY3RyaWNpYW4nID8gJ9CV0LvQtdC60YLRgNC+0YLQtdGF0L3QuNC6JyA6ICfQotC10YXQvdC40LonfVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgINCX0LTRgNCw0LLQtdC50YLQtSEg0JPQvtGC0L7QsiDRgdGK0Lwg0LTQsCDQstC4INC/0L7QvNC+0LPQvdCwINGBINCy0LDRiNC40Y8g0L/RgNC+0LHQu9C10LwuXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTBcIj5cbiAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHNoYWRvdy1zbSBib3JkZXItYlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTR4bCBteC1hdXRvIHB4LTQgcHktNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj5cbiAgICAgICAgICAgICAgICDwn5KsINCn0LDRgiDRgSB7cHJvdmlkZXJJbmZvPy5idXNpbmVzc05hbWUgfHwgJ9GC0LXRhdC90LjQuid9XG4gICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgINCe0L/QuNGI0LXRgtC1INCy0LDRiNC40Y8g0L/RgNC+0LHQu9C10Lwg0Lgg0YnQtSDQv9C+0LvRg9GH0LjRgtC1INCx0YrRgNC3INC+0YLQs9C+0LLQvtGAXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTMgaC0zIGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+0J7QvdC70LDQudC9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBDaGF0IEludGVyZmFjZSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG8gcHgtNCBweS02XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctc20gYm9yZGVyIG1pbi1oLVs2MDBweF0gZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBXZWxjb21lIE1lc3NhZ2UgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgYm9yZGVyLWIgYmctYmx1ZS01MFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IHNwYWNlLXgtM1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggYmctYmx1ZS02MDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtc20gZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgIHtwcm92aWRlckluZm8/LmJ1c2luZXNzTmFtZT8uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgfHwgJ9CiJ31cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC00IHJvdW5kZWQtbGcgc2hhZG93LXNtXCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktOTAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAg0JfQtNGA0LDQstC10LnRgtC1ISDQkNC3INGB0YrQvCB7cHJvdmlkZXJJbmZvPy5maXJzdE5hbWUgfHwgcHJvdmlkZXJJbmZvPy5idXNpbmVzc05hbWUgfHwgJ9Cy0LDRiNC40Y/RgiDRgtC10YXQvdC40LonfS4gXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNzAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAg0JzQvtC70Y8sINC+0L/QuNGI0LXRgtC1INC60LDQutGK0LIg0LUg0L/RgNC+0LHQu9C10LzRitGCINC4INGJ0LUg0LLQuCDQv9C+0LzQvtCz0L3QsCDQstGK0LfQvNC+0LbQvdC+INC90LDQuS3QsdGK0YDQt9C+LiBcbiAgICAgICAgICAgICAgICAgICAg0JDQutC+INC1INGB0L/QtdGI0L3Qviwg0YHQv9C+0LzQtdC90LXRgtC1INGC0L7QstCwINCyINGB0YrQvtCx0YnQtdC90LjQtdGC0L4uXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIG10LTJcIj7QodC10LPQsDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBDaGF0IE1lc3NhZ2VzIEFyZWEgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgcC02IG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAge21lc3NhZ2VzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JheS01MDAgcHktOFwiPlxuICAgICAgICAgICAgICAgICAgPHA+0JfQsNC/0L7Rh9C90LXRgtC1INGA0LDQt9Cz0L7QstC+0YDQsCDQutCw0YLQviDQvdCw0L/QuNGI0LXRgtC1INGB0YrQvtCx0YnQtdC90LjQtSDQv9C+LdC00L7Qu9GDPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e21lc3NhZ2UuaWR9IGNsYXNzTmFtZT17YGZsZXggJHttZXNzYWdlLnNlbmRlciA9PT0gJ2N1c3RvbWVyJyA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCd9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgbWF4LXcteHMgbGc6bWF4LXctbWQgcHgtNCBweS0yIHJvdW5kZWQtbGcgJHtcbiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNlbmRlciA9PT0gJ2N1c3RvbWVyJyBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWJsdWUtNjAwIHRleHQtd2hpdGUnIFxuICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctZ3JheS0xMDAgdGV4dC1ncmF5LTkwMCdcbiAgICAgICAgICAgICAgICAgICAgfWB9PlxuICAgICAgICAgICAgICAgICAgICAgIDxwPnttZXNzYWdlLnRleHR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17YHRleHQteHMgbXQtMSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZW5kZXIgPT09ICdjdXN0b21lcicgPyAndGV4dC1ibHVlLTEwMCcgOiAndGV4dC1ncmF5LTUwMCdcbiAgICAgICAgICAgICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bmV3IERhdGUobWVzc2FnZS50aW1lc3RhbXApLnRvTG9jYWxlVGltZVN0cmluZygnYmctQkcnLCB7IGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBNZXNzYWdlIElucHV0ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgcC00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0zXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17Y3VycmVudE1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEN1cnJlbnRNZXNzYWdlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIG9uS2V5UHJlc3M9e2hhbmRsZUtleVByZXNzfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLQntC/0LjRiNC10YLQtSDQstCw0YjQuNGPINC/0YDQvtCx0LvQtdC8INGC0YPQui4uLlwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyByZXNpemUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBmb2N1czpib3JkZXItdHJhbnNwYXJlbnRcIlxuICAgICAgICAgICAgICAgICAgcm93cz17M31cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1NlbmRpbmd9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17c2VuZE1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFjdXJyZW50TWVzc2FnZS50cmltKCkgfHwgaXNTZW5kaW5nfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHgtNiBweS0zIHJvdW5kZWQtbGcgaG92ZXI6YmctYmx1ZS03MDAgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIj5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTVcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xMiAxOWw5IDItOS0xOC05IDE4IDktMnptMCAwdi04XCIgLz5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBtdC0yXCI+XG4gICAgICAgICAgICAgINCd0LDRgtC40YHQvdC10YLQtSBFbnRlciDQt9CwINC00LAg0LjQt9C/0YDQsNGC0LjRgtC1INC40LvQuCBTaGlmdCtFbnRlciDQt9CwINC90L7QsiDRgNC10LRcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEluZm8gU2VjdGlvbiAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IGJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LXNtIGJvcmRlciBwLTZcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTNcIj7ihLnvuI8g0J/QvtC70LXQt9C90LAg0LjQvdGE0L7RgNC80LDRhtC40Y88L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBtZDpncmlkLWNvbHMtMiBnYXAtNCB0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgbWItMVwiPtCg0LDQsdC+0YLQvdC+INCy0YDQtdC80LU6PC9wPlxuICAgICAgICAgICAgICA8cD7Qn9C+0L3QtdC00LXQu9C90LjQuiAtINCf0LXRgtGK0Lo6IDA4OjAwIC0gMTg6MDA8L3A+XG4gICAgICAgICAgICAgIDxwPtCh0YrQsdC+0YLQsDogMDk6MDAgLSAxNTowMDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBtYi0xXCI+0KHQv9C10YjQvdC4INGB0LvRg9GH0LDQuDo8L3A+XG4gICAgICAgICAgICAgIDxwPtCe0YLQs9C+0LLQsNGA0Y/QvCDQsiDRgNCw0LzQutC40YLQtSDQvdCwIDE1INC80LjQvdGD0YLQuDwvcD5cbiAgICAgICAgICAgICAgPHA+0JTQvtGB0YLRitC/0LXQvSAyNC83INC30LAg0LDQstCw0YDQuNC4PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/u/[spIdentifier]/c/[token]/page.tsx\n");

/***/ }),

/***/ "(rsc)/./src/components/ChatWidget.tsx":
/*!***************************************!*\
  !*** ./src/components/ChatWidget.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`D:\newtry1\Marketplace\src\components\ChatWidget.tsx#default`));


/***/ }),

/***/ "(rsc)/./src/components/GDPRPopup.tsx":
/*!**************************************!*\
  !*** ./src/components/GDPRPopup.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`D:\newtry1\Marketplace\src\components\GDPRPopup.tsx#default`));


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/engine.io-client","vendor-chunks/mime-db","vendor-chunks/axios","vendor-chunks/ws","vendor-chunks/socket.io-client","vendor-chunks/@reduxjs","vendor-chunks/socket.io-parser","vendor-chunks/react-redux","vendor-chunks/immer","vendor-chunks/reselect","vendor-chunks/engine.io-parser","vendor-chunks/follow-redirects","vendor-chunks/xmlhttprequest-ssl","vendor-chunks/debug","vendor-chunks/redux","vendor-chunks/form-data","vendor-chunks/get-intrinsic","vendor-chunks/asynckit","vendor-chunks/combined-stream","vendor-chunks/use-sync-external-store","vendor-chunks/mime-types","vendor-chunks/proxy-from-env","vendor-chunks/@socket.io","vendor-chunks/ms","vendor-chunks/supports-color","vendor-chunks/has-symbols","vendor-chunks/delayed-stream","vendor-chunks/@swc","vendor-chunks/function-bind","vendor-chunks/es-set-tostringtag","vendor-chunks/get-proto","vendor-chunks/call-bind-apply-helpers","vendor-chunks/dunder-proto","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/redux-thunk","vendor-chunks/has-flag","vendor-chunks/gopd","vendor-chunks/es-define-property","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/es-object-atoms"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fu%2F%5BspIdentifier%5D%2Fc%2F%5Btoken%5D%2Fpage&page=%2Fu%2F%5BspIdentifier%5D%2Fc%2F%5Btoken%5D%2Fpage&appPaths=%2Fu%2F%5BspIdentifier%5D%2Fc%2F%5Btoken%5D%2Fpage&pagePath=private-next-app-dir%2Fu%2F%5BspIdentifier%5D%2Fc%2F%5Btoken%5D%2Fpage.tsx&appDir=D%3A%5Cnewtry1%5CMarketplace%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cnewtry1%5CMarketplace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();