"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/search/page",{

/***/ "(app-pages-browser)/./src/components/ChatWidget.tsx":
/*!***************************************!*\
  !*** ./src/components/ChatWidget.tsx ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChatWidget; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/contexts/AuthContext */ \"(app-pages-browser)/./src/contexts/AuthContext.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction ChatWidget() {\n    _s();\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isMinimized, setIsMinimized] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [conversations, setConversations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [unreadTotal, setUnreadTotal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [activeConversation, setActiveConversation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [newMessage, setNewMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [sending, setSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [socket, setSocket] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const { user, isAuthenticated, isLoading } = (0,_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__.useAuth)();\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const pathname = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.usePathname)();\n    // Debug authentication state\n    console.log(\"\\uD83D\\uDCAC ChatWidget - Auth Debug:\", {\n        isAuthenticated,\n        isLoading,\n        user: user ? {\n            id: user.id,\n            email: user.email,\n            role: user.role\n        } : null,\n        hasAuthToken:  true ? !!localStorage.getItem(\"auth_token\") : 0,\n        hasUserData:  true ? !!localStorage.getItem(\"user_data\") : 0\n    });\n    // Load conversations when widget opens and set up WebSocket listeners\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen && isAuthenticated && user) {\n            loadConversations();\n            // Join user's personal room for real-time updates\n            if (socket && isConnected) {\n                socket.emit(\"join-user\", user.id);\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Joined user room:\", user.id);\n                // Listen for conversation updates\n                const handleConversationsUpdated = ()=>{\n                    console.log(\"\\uD83D\\uDCAC ChatWidget - Received conversations_updated event, reloading...\");\n                    loadConversations();\n                };\n                socket.on(\"conversations_updated\", handleConversationsUpdated);\n                // Cleanup\n                return ()=>{\n                    socket.off(\"conversations_updated\", handleConversationsUpdated);\n                };\n            }\n        }\n    }, [\n        isOpen,\n        isAuthenticated,\n        user,\n        socket,\n        isConnected\n    ]);\n    // Calculate total unread messages\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const total = conversations.reduce((sum, conv)=>sum + conv.unreadCount, 0);\n        setUnreadTotal(total);\n    }, [\n        conversations\n    ]);\n    const loadConversations = async ()=>{\n        if (!user) return;\n        console.log(\"\\uD83D\\uDCAC ChatWidget - Loading conversations for user:\", user.role, user.id);\n        setLoading(true);\n        try {\n            // For service providers, get their conversations\n            if (user.role === \"service_provider\" || user.role === \"tradesperson\") {\n                var _response_data;\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Loading provider conversations for:\", user.id);\n                console.log(\"\\uD83D\\uDCAC ChatWidget - API URL will be:\", \"/chat/provider/\".concat(user.id, \"/conversations\"));\n                const response = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.apiClient.getProviderMarketplaceConversations(user.id);\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Provider conversations full response:\", response);\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Provider conversations response.data:\", response.data);\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Provider conversations response.status:\", response.status);\n                if ((_response_data = response.data) === null || _response_data === void 0 ? void 0 : _response_data.success) {\n                    let conversationsData = response.data.data;\n                    console.log(\"\\uD83D\\uDCAC ChatWidget - Raw conversations data:\", JSON.stringify(conversationsData, null, 2));\n                    // Handle different response formats and map fields correctly\n                    if (Array.isArray(conversationsData)) {\n                        // Data is already an array - map the fields\n                        const mappedConversations = conversationsData.map((conv)=>({\n                                ...conv,\n                                lastActivity: conv.last_message_at || conv.created_at,\n                                unreadCount: conv.unread_count || 0\n                            }));\n                        setConversations(mappedConversations);\n                        console.log(\"\\uD83D\\uDCAC ChatWidget - Set provider conversations (array):\", mappedConversations.length, mappedConversations);\n                    } else if (conversationsData && typeof conversationsData === \"object\") {\n                        // Data is an object, check if it has a conversations property or convert to array\n                        if (conversationsData.conversations && Array.isArray(conversationsData.conversations)) {\n                            const mappedConversations = conversationsData.conversations.map((conv)=>({\n                                    ...conv,\n                                    lastActivity: conv.last_message_at || conv.created_at,\n                                    unreadCount: conv.unread_count || 0\n                                }));\n                            setConversations(mappedConversations);\n                            console.log(\"\\uD83D\\uDCAC ChatWidget - Set provider conversations (object.conversations):\", mappedConversations.length, mappedConversations);\n                        } else if (conversationsData.data && Array.isArray(conversationsData.data)) {\n                            setConversations(conversationsData.data);\n                            console.log(\"\\uD83D\\uDCAC ChatWidget - Set provider conversations (object.data):\", conversationsData.data.length, conversationsData.data);\n                        } else {\n                            // Try to convert object to array or handle single conversation\n                            console.log(\"\\uD83D\\uDCAC ChatWidget - Received object data:\", conversationsData);\n                            const conversationsArray = Object.values(conversationsData).filter((item)=>item && typeof item === \"object\" && \"id\" in item);\n                            setConversations(conversationsArray);\n                            console.log(\"\\uD83D\\uDCAC ChatWidget - Converted object to array:\", conversationsArray.length, conversationsArray);\n                        }\n                    } else {\n                        console.log(\"\\uD83D\\uDCAC ChatWidget - No conversations data found\");\n                        setConversations([]);\n                    }\n                } else {\n                    var _response_data1, _response_data2, _response_data3;\n                    console.log(\"\\uD83D\\uDCAC ChatWidget - API response not successful\");\n                    console.log(\"\\uD83D\\uDCAC ChatWidget - Response structure:\", {\n                        hasSuccess: \"success\" in (response.data || {}),\n                        successValue: (_response_data1 = response.data) === null || _response_data1 === void 0 ? void 0 : _response_data1.success,\n                        hasData: \"data\" in (response.data || {}),\n                        dataType: typeof ((_response_data2 = response.data) === null || _response_data2 === void 0 ? void 0 : _response_data2.data),\n                        isArray: Array.isArray((_response_data3 = response.data) === null || _response_data3 === void 0 ? void 0 : _response_data3.data)\n                    });\n                    setConversations([]);\n                }\n            } else {\n                var _response_data_data, _response_data4, _response_data5;\n                // For customers, get their conversations\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Loading customer conversations\");\n                const response = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.apiClient.getConversations();\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Customer conversations response:\", response.data);\n                const conversations = (_response_data4 = response.data) === null || _response_data4 === void 0 ? void 0 : (_response_data_data = _response_data4.data) === null || _response_data_data === void 0 ? void 0 : _response_data_data.conversations;\n                if (((_response_data5 = response.data) === null || _response_data5 === void 0 ? void 0 : _response_data5.success) && Array.isArray(conversations)) {\n                    console.log(\"\\uD83D\\uDCAC ChatWidget - Conversation details:\", conversations.map((c)=>({\n                            id: c.id,\n                            serviceProviderName: c.serviceProviderName,\n                            customerName: c.customerName\n                        })));\n                    setConversations(conversations);\n                    console.log(\"\\uD83D\\uDCAC ChatWidget - Set customer conversations:\", conversations.length);\n                } else {\n                    console.log(\"\\uD83D\\uDCAC ChatWidget - No customer conversations found or invalid response\");\n                    setConversations([]);\n                }\n            }\n        } catch (error) {\n            var _error_response, _error_response1, _error_response2;\n            console.error(\"\\uD83D\\uDCAC ChatWidget - Error loading conversations:\", error);\n            console.error(\"\\uD83D\\uDCAC ChatWidget - Error details:\", {\n                message: error.message,\n                status: (_error_response = error.response) === null || _error_response === void 0 ? void 0 : _error_response.status,\n                statusText: (_error_response1 = error.response) === null || _error_response1 === void 0 ? void 0 : _error_response1.statusText,\n                data: (_error_response2 = error.response) === null || _error_response2 === void 0 ? void 0 : _error_response2.data\n            });\n            setConversations([]);\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleConversationClick = async (conversation)=>{\n        console.log(\"\\uD83D\\uDCAC ChatWidget - Opening conversation inline:\", conversation.id, conversation);\n        // Set active conversation and load messages\n        setActiveConversation(conversation);\n        setMessages([]);\n        try {\n            var _response_data;\n            // Load messages for this conversation\n            console.log(\"\\uD83D\\uDCAC ChatWidget - Loading messages for conversation:\", conversation.id);\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.apiClient.getMarketplaceMessages(conversation.id);\n            console.log(\"\\uD83D\\uDCAC ChatWidget - Messages API response:\", response);\n            console.log(\"\\uD83D\\uDCAC ChatWidget - Messages response data:\", response.data);\n            if ((_response_data = response.data) === null || _response_data === void 0 ? void 0 : _response_data.success) {\n                let messagesData = response.data.data;\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Raw messages data:\", JSON.stringify(messagesData, null, 2));\n                // Handle different response formats\n                if (Array.isArray(messagesData)) {\n                    // Data is already an array\n                    setMessages(messagesData);\n                    console.log(\"\\uD83D\\uDCAC ChatWidget - Loaded messages (array):\", messagesData.length, messagesData);\n                } else if (messagesData && typeof messagesData === \"object\") {\n                    // Data is an object, check if it has a messages property or convert to array\n                    if (messagesData.messages && Array.isArray(messagesData.messages)) {\n                        setMessages(messagesData.messages);\n                        console.log(\"\\uD83D\\uDCAC ChatWidget - Loaded messages (object.messages):\", messagesData.messages.length, messagesData.messages);\n                    } else if (messagesData.data && Array.isArray(messagesData.data)) {\n                        setMessages(messagesData.data);\n                        console.log(\"\\uD83D\\uDCAC ChatWidget - Loaded messages (object.data):\", messagesData.data.length, messagesData.data);\n                    } else {\n                        // Try to convert object to array or handle single message\n                        console.log(\"\\uD83D\\uDCAC ChatWidget - Received object messages data:\", messagesData);\n                        const messagesArray = Object.values(messagesData).filter((item)=>item && typeof item === \"object\" && \"id\" in item);\n                        setMessages(messagesArray);\n                        console.log(\"\\uD83D\\uDCAC ChatWidget - Converted messages object to array:\", messagesArray.length, messagesArray);\n                    }\n                } else {\n                    console.log(\"\\uD83D\\uDCAC ChatWidget - No messages data found\");\n                    setMessages([]);\n                }\n            } else {\n                var _response_data1, _response_data2, _response_data3, _response_data4;\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Messages API response not successful\");\n                console.log(\"\\uD83D\\uDCAC ChatWidget - Response structure:\", {\n                    hasSuccess: \"success\" in (response.data || {}),\n                    successValue: (_response_data1 = response.data) === null || _response_data1 === void 0 ? void 0 : _response_data1.success,\n                    hasData: \"data\" in (response.data || {}),\n                    dataType: typeof ((_response_data2 = response.data) === null || _response_data2 === void 0 ? void 0 : _response_data2.data),\n                    isArray: Array.isArray((_response_data3 = response.data) === null || _response_data3 === void 0 ? void 0 : _response_data3.data),\n                    dataContent: (_response_data4 = response.data) === null || _response_data4 === void 0 ? void 0 : _response_data4.data\n                });\n                setMessages([]);\n            }\n            // Auto-scroll to bottom after loading messages\n            setTimeout(()=>scrollToBottom(), 200);\n            // Mark conversation as read after loading messages\n            markConversationAsRead(conversation.id);\n            // Initialize socket for real-time updates if not already connected\n            if (!socket) {\n                initializeSocket(conversation.id);\n            }\n        } catch (error) {\n            var _error_response, _error_response1, _error_response2;\n            console.error(\"\\uD83D\\uDCAC ChatWidget - Error loading messages:\", error);\n            console.error(\"\\uD83D\\uDCAC ChatWidget - Error details:\", {\n                message: error.message,\n                status: (_error_response = error.response) === null || _error_response === void 0 ? void 0 : _error_response.status,\n                statusText: (_error_response1 = error.response) === null || _error_response1 === void 0 ? void 0 : _error_response1.statusText,\n                data: (_error_response2 = error.response) === null || _error_response2 === void 0 ? void 0 : _error_response2.data\n            });\n        }\n    };\n    const initializeSocket = (conversationId)=>{\n        try {\n            const apiUrl = \"http://192.168.0.129:3000/api/v1\" || 0;\n            const socketUrl = apiUrl.replace(\"/api/v1\", \"\");\n            console.log(\"\\uD83D\\uDCAC ChatWidget - Connecting to socket for conversation:\", conversationId);\n            const { io } = __webpack_require__(/*! socket.io-client */ \"(app-pages-browser)/./node_modules/socket.io-client/build/cjs/index.js\");\n            const socketInstance = io(socketUrl, {\n                transports: [\n                    \"websocket\",\n                    \"polling\"\n                ],\n                timeout: 10000,\n                reconnection: true\n            });\n            socketInstance.on(\"connect\", ()=>{\n                console.log(\"✅ ChatWidget connected to WebSocket\");\n                setSocket(socketInstance);\n                socketInstance.emit(\"join-conversation\", conversationId);\n            });\n            socketInstance.on(\"new_message\", (data)=>{\n                console.log(\"\\uD83D\\uDCAC ChatWidget received new message:\", data);\n                if (data.conversationId === conversationId && data.messageId) {\n                    const newMessage = {\n                        id: data.messageId,\n                        conversationId: data.conversationId,\n                        senderType: data.senderType,\n                        senderName: data.senderName,\n                        message: data.message,\n                        timestamp: data.timestamp,\n                        sent_at: data.timestamp // Add sent_at for consistency\n                    };\n                    setMessages((prev)=>{\n                        const exists = prev.some((msg)=>msg.id === data.messageId);\n                        if (!exists) {\n                            console.log(\"\\uD83D\\uDCAC Adding new message to chat:\", newMessage);\n                            return [\n                                ...prev,\n                                newMessage\n                            ];\n                        }\n                        return prev;\n                    });\n                }\n                // Also refresh conversations list to update last message\n                loadConversations();\n            });\n        } catch (error) {\n            console.error(\"\\uD83D\\uDCAC ChatWidget - Socket initialization error:\", error);\n        }\n    };\n    const sendMessage = async ()=>{\n        if (!newMessage.trim() || sending || !activeConversation) return;\n        setSending(true);\n        try {\n            var _response_data;\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.apiClient.sendMessage({\n                conversationId: activeConversation.id,\n                senderType: (user === null || user === void 0 ? void 0 : user.role) === \"service_provider\" || (user === null || user === void 0 ? void 0 : user.role) === \"tradesperson\" ? \"provider\" : \"customer\",\n                senderName: \"\".concat(user === null || user === void 0 ? void 0 : user.firstName, \" \").concat(user === null || user === void 0 ? void 0 : user.lastName).trim() || \"User\",\n                message: newMessage\n            });\n            if ((_response_data = response.data) === null || _response_data === void 0 ? void 0 : _response_data.success) {\n                var _response_data_data;\n                const newMsg = {\n                    id: ((_response_data_data = response.data.data) === null || _response_data_data === void 0 ? void 0 : _response_data_data.messageId) || Date.now().toString(),\n                    conversationId: activeConversation.id,\n                    senderType: (user === null || user === void 0 ? void 0 : user.role) === \"service_provider\" || (user === null || user === void 0 ? void 0 : user.role) === \"tradesperson\" ? \"provider\" : \"customer\",\n                    senderName: \"\".concat(user === null || user === void 0 ? void 0 : user.firstName, \" \").concat(user === null || user === void 0 ? void 0 : user.lastName).trim() || \"User\",\n                    message: newMessage,\n                    timestamp: new Date().toISOString()\n                };\n                setMessages((prev)=>[\n                        ...prev,\n                        newMsg\n                    ]);\n                setNewMessage(\"\");\n                // Auto-scroll after sending message\n                setTimeout(()=>scrollToBottom(), 100);\n            }\n        } catch (error) {\n            console.error(\"\\uD83D\\uDCAC ChatWidget - Error sending message:\", error);\n        } finally{\n            setSending(false);\n        }\n    };\n    const markConversationAsRead = async (conversationId)=>{\n        try {\n            console.log(\"\\uD83D\\uDCD6 Marking conversation as read:\", conversationId);\n            const senderType = (user === null || user === void 0 ? void 0 : user.role) === \"service_provider\" || (user === null || user === void 0 ? void 0 : user.role) === \"tradesperson\" ? \"provider\" : \"customer\";\n            await _lib_api__WEBPACK_IMPORTED_MODULE_4__.apiClient.markMarketplaceAsRead(conversationId, senderType);\n            // Update the conversation in the local state to remove unread count\n            setConversations((prev)=>prev.map((conv)=>conv.id === conversationId ? {\n                        ...conv,\n                        unreadCount: 0\n                    } : conv));\n            console.log(\"✅ Conversation marked as read\");\n        } catch (error) {\n            console.error(\"❌ Failed to mark conversation as read:\", error);\n        }\n    };\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    // Auto-scroll when messages change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (messages.length > 0) {\n            setTimeout(()=>scrollToBottom(), 100);\n        }\n    }, [\n        messages\n    ]);\n    const goBackToConversations = ()=>{\n        setActiveConversation(null);\n        setMessages([]);\n        setNewMessage(\"\");\n        if (socket) {\n            socket.disconnect();\n            setSocket(null);\n        }\n    };\n    const formatMessageTime = (timestamp)=>{\n        if (!timestamp) return \"неизвестно\";\n        let date;\n        // Handle different timestamp formats\n        if (typeof timestamp === \"number\") {\n            date = new Date(timestamp > 1000000000000 ? timestamp : timestamp * 1000);\n        } else if (typeof timestamp === \"string\") {\n            // SQLite datetime format: \"2024-01-15 10:30:45\" or ISO format\n            if (timestamp.includes(\" \") && !timestamp.includes(\"T\")) {\n                // SQLite format: convert to ISO format\n                const isoTimestamp = timestamp.replace(\" \", \"T\") + \"Z\";\n                date = new Date(isoTimestamp);\n            } else {\n                date = new Date(timestamp);\n            }\n        } else {\n            return \"неизвестно\";\n        }\n        // Check if date is valid\n        if (isNaN(date.getTime())) {\n            console.warn(\"Invalid message timestamp:\", timestamp);\n            return \"неизвестно\";\n        }\n        // Return time in HH:MM format\n        try {\n            return date.toLocaleTimeString(\"bg-BG\", {\n                hour: \"2-digit\",\n                minute: \"2-digit\",\n                hour12: false\n            });\n        } catch (e) {\n            return date.toLocaleTimeString();\n        }\n    };\n    const formatLastActivity = (timestamp)=>{\n        if (!timestamp) return \"неизвестно\";\n        let date;\n        // Handle different timestamp formats (same logic as formatMessageTime)\n        if (typeof timestamp === \"number\") {\n            date = new Date(timestamp > 1000000000000 ? timestamp : timestamp * 1000);\n        } else if (typeof timestamp === \"string\") {\n            // SQLite datetime format: \"2024-01-15 10:30:45\" or ISO format\n            if (timestamp.includes(\" \") && !timestamp.includes(\"T\")) {\n                // SQLite format: convert to ISO format\n                const isoTimestamp = timestamp.replace(\" \", \"T\") + \"Z\";\n                date = new Date(isoTimestamp);\n            } else {\n                date = new Date(timestamp);\n            }\n        } else {\n            return \"неизвестно\";\n        }\n        // Check if date is valid\n        if (isNaN(date.getTime())) {\n            console.warn(\"Invalid last activity timestamp:\", timestamp);\n            return \"неизвестно\";\n        }\n        const now = new Date();\n        const diffMs = now.getTime() - date.getTime();\n        const diffDays = Math.floor(diffMs / 86400000);\n        // Show actual time for today's messages, date for older ones\n        if (diffDays === 0) {\n            // Today - show time like \"14:30\"\n            try {\n                return date.toLocaleTimeString(\"bg-BG\", {\n                    hour: \"2-digit\",\n                    minute: \"2-digit\",\n                    hour12: false\n                });\n            } catch (e) {\n                return date.toLocaleTimeString();\n            }\n        } else if (diffDays === 1) {\n            // Yesterday - show \"вчера\"\n            return \"вчера\";\n        } else if (diffDays < 7) {\n            // This week - show day name\n            try {\n                return date.toLocaleDateString(\"bg-BG\", {\n                    weekday: \"short\"\n                });\n            } catch (e) {\n                return \"\".concat(diffDays, \"д\");\n            }\n        } else {\n            // Older - show date\n            try {\n                return date.toLocaleDateString(\"bg-BG\", {\n                    day: \"2-digit\",\n                    month: \"2-digit\"\n                });\n            } catch (e) {\n                return date.toLocaleDateString();\n            }\n        }\n    };\n    // Wait for authentication to load\n    if (isLoading) {\n        console.log(\"\\uD83D\\uDCAC ChatWidget - Auth still loading, waiting...\");\n        return null;\n    }\n    // Don't show widget on authentication pages\n    if (pathname === null || pathname === void 0 ? void 0 : pathname.startsWith(\"/auth/\")) {\n        console.log(\"\\uD83D\\uDCAC ChatWidget - Not showing on auth page:\", pathname);\n        return null;\n    }\n    // Don't show widget if user is not authenticated\n    if (!isAuthenticated || !user) {\n        console.log(\"\\uD83D\\uDCAC ChatWidget - Not showing widget: user not authenticated\", {\n            isAuthenticated,\n            user: !!user\n        });\n        // Temporary: Show a login prompt widget for non-authenticated users\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n            onClick: ()=>window.location.href = \"/auth/login\",\n            className: \"fixed bottom-6 right-6 bg-gray-600 hover:bg-gray-700 text-white p-4 rounded-full shadow-lg transition-all duration-200 z-[9999] relative\",\n            \"aria-label\": \"Влезте за чат\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                    className: \"w-6 h-6\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                        strokeLinecap: \"round\",\n                        strokeLinejoin: \"round\",\n                        strokeWidth: 2,\n                        d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                        lineNumber: 508,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                    lineNumber: 507,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute -top-2 -right-2 bg-blue-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold\",\n                    children: \"!\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                    lineNumber: 510,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n            lineNumber: 502,\n            columnNumber: 7\n        }, this);\n    }\n    console.log(\"\\uD83D\\uDCAC ChatWidget - Rendering widget for user:\", user === null || user === void 0 ? void 0 : user.role, \"isOpen:\", isOpen);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            !isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: ()=>setIsOpen(true),\n                className: \"fixed bottom-6 right-6 bg-purple-600 hover:bg-purple-700 text-white p-4 rounded-full shadow-lg transition-all duration-200 z-[9999] relative border-4 border-white\",\n                \"aria-label\": \"Отвори чат\",\n                style: {\n                    position: \"fixed\",\n                    bottom: \"24px\",\n                    right: \"24px\",\n                    zIndex: 9999,\n                    width: \"64px\",\n                    height: \"64px\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                        className: \"w-6 h-6\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        viewBox: \"0 0 24 24\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\",\n                            strokeWidth: 2,\n                            d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                        }, void 0, false, {\n                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                            lineNumber: 537,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                        lineNumber: 536,\n                        columnNumber: 11\n                    }, this),\n                    unreadTotal > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold\",\n                        children: unreadTotal > 99 ? \"99+\" : unreadTotal\n                    }, void 0, false, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                        lineNumber: 542,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                lineNumber: 523,\n                columnNumber: 9\n            }, this),\n            isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed bottom-6 right-6 bg-white rounded-lg shadow-xl border z-[9999] transition-all duration-200 \".concat(isMinimized ? \"w-80 h-12\" : \"w-80 h-96\"),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between p-4 border-b bg-purple-600 text-white rounded-t-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-2\",\n                                children: [\n                                    activeConversation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: goBackToConversations,\n                                        className: \"text-white hover:text-gray-200 mr-2\",\n                                        children: \"←\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 558,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-2 h-2 bg-green-400 rounded-full\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 565,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-medium\",\n                                        children: activeConversation ? activeConversation.customerName : \"Съобщения\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 566,\n                                        columnNumber: 15\n                                    }, this),\n                                    !activeConversation && unreadTotal > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"bg-red-500 text-white text-xs px-2 py-1 rounded-full\",\n                                        children: unreadTotal\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 570,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                lineNumber: 556,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setIsMinimized(!isMinimized),\n                                        className: \"text-white hover:text-gray-200 transition-colors\",\n                                        \"aria-label\": isMinimized ? \"Разшири\" : \"Минимизирай\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-4 h-4\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            children: isMinimized ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M5 15l7-7 7 7\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 583,\n                                                columnNumber: 21\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M19 9l-7 7-7-7\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 585,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 581,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 576,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setIsOpen(false),\n                                        className: \"text-white hover:text-gray-200 transition-colors\",\n                                        \"aria-label\": \"Затвори чат\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"w-4 h-4\",\n                                            fill: \"none\",\n                                            stroke: \"currentColor\",\n                                            viewBox: \"0 0 24 24\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                strokeLinecap: \"round\",\n                                                strokeLinejoin: \"round\",\n                                                strokeWidth: 2,\n                                                d: \"M6 18L18 6M6 6l12 12\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 595,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 594,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 589,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                lineNumber: 575,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                        lineNumber: 555,\n                        columnNumber: 11\n                    }, this),\n                    !isMinimized && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col h-80\",\n                        children: activeConversation ? /* Active Chat View */ /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 overflow-y-auto p-3 space-y-2\",\n                                    children: [\n                                        messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center text-gray-500 py-8\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-2xl mb-2\",\n                                                    children: \"\\uD83D\\uDCAC\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 611,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm\",\n                                                    children: \"Няма съобщения\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 612,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 610,\n                                            columnNumber: 23\n                                        }, this) : messages.map((msg)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex \".concat((user === null || user === void 0 ? void 0 : user.role) === \"service_provider\" || (user === null || user === void 0 ? void 0 : user.role) === \"tradesperson\" ? msg.senderType === \"provider\" ? \"justify-end\" : \"justify-start\" : msg.senderType === \"customer\" ? \"justify-end\" : \"justify-start\"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"max-w-xs px-3 py-2 rounded-lg text-sm \".concat((user === null || user === void 0 ? void 0 : user.role) === \"service_provider\" || (user === null || user === void 0 ? void 0 : user.role) === \"tradesperson\" ? msg.senderType === \"provider\" ? \"bg-purple-600 text-white\" : \"bg-gray-200 text-gray-800\" : msg.senderType === \"customer\" ? \"bg-purple-600 text-white\" : \"bg-gray-200 text-gray-800\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: msg.message\n                                                        }, void 0, false, {\n                                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                            lineNumber: 631,\n                                                            columnNumber: 31\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs mt-1 \".concat((user === null || user === void 0 ? void 0 : user.role) === \"service_provider\" || (user === null || user === void 0 ? void 0 : user.role) === \"tradesperson\" ? msg.senderType === \"provider\" ? \"text-purple-200\" : \"text-gray-500\" : msg.senderType === \"customer\" ? \"text-purple-200\" : \"text-gray-500\"),\n                                                            children: formatMessageTime(msg.sent_at || msg.timestamp)\n                                                        }, void 0, false, {\n                                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                            lineNumber: 632,\n                                                            columnNumber: 31\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 624,\n                                                    columnNumber: 29\n                                                }, this)\n                                            }, msg.id, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 616,\n                                                columnNumber: 27\n                                            }, this)),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            ref: messagesEndRef\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 644,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 608,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border-t p-3\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex space-x-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"text\",\n                                                value: newMessage,\n                                                onChange: (e)=>setNewMessage(e.target.value),\n                                                onKeyPress: (e)=>e.key === \"Enter\" && sendMessage(),\n                                                placeholder: \"Напишете съобщение...\",\n                                                className: \"flex-1 border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500\",\n                                                disabled: sending\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 650,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: sendMessage,\n                                                disabled: !newMessage.trim() || sending,\n                                                className: \"bg-purple-600 text-white px-3 py-2 rounded-lg disabled:opacity-50 text-sm hover:bg-purple-700\",\n                                                children: sending ? \"...\" : \"\\uD83D\\uDCE4\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 659,\n                                                columnNumber: 23\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 649,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 648,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true) : /* Conversations List View */ /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-2\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 675,\n                                                columnNumber: 25\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-500\",\n                                                children: \"Зареждане...\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 676,\n                                                columnNumber: 25\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 674,\n                                        columnNumber: 23\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 673,\n                                    columnNumber: 21\n                                }, this) : conversations.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 flex items-center justify-center text-gray-500\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-4xl mb-2\",\n                                                children: \"\\uD83D\\uDCAC\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 682,\n                                                columnNumber: 25\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm\",\n                                                children: [\n                                                    \"Здравейте, \",\n                                                    user === null || user === void 0 ? void 0 : user.firstName,\n                                                    \"!\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 683,\n                                                columnNumber: 25\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-gray-400 mt-1\",\n                                                children: (user === null || user === void 0 ? void 0 : user.role) === \"service_provider\" || (user === null || user === void 0 ? void 0 : user.role) === \"tradesperson\" ? \"Няма активни разговори с клиенти\" : \"Няма активни разговори\"\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                lineNumber: 684,\n                                                columnNumber: 25\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                        lineNumber: 681,\n                                        columnNumber: 23\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 680,\n                                    columnNumber: 21\n                                }, this) : /* Conversations List */ /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 overflow-y-auto\",\n                                    children: conversations.map((conversation)=>{\n                                        var _this;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            onClick: ()=>handleConversationClick(conversation),\n                                            className: \"p-4 hover:bg-gray-50 cursor-pointer border-b border-gray-200 flex items-start space-x-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-purple-600 font-medium text-sm\",\n                                                        children: ((_this = (user === null || user === void 0 ? void 0 : user.role) === \"customer\" ? conversation.serviceProviderName : conversation.customerName) === null || _this === void 0 ? void 0 : _this.charAt(0)) || \"C\"\n                                                    }, void 0, false, {\n                                                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                        lineNumber: 702,\n                                                        columnNumber: 31\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 701,\n                                                    columnNumber: 29\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex-1 min-w-0\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center justify-between\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-sm font-medium text-gray-900 truncate\",\n                                                                    children: (user === null || user === void 0 ? void 0 : user.role) === \"customer\" ? conversation.serviceProviderName || \"Неизвестен специалист\" : conversation.customerName || \"Неизвестен клиент\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                                    lineNumber: 708,\n                                                                    columnNumber: 33\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center space-x-2\",\n                                                                    children: [\n                                                                        conversation.unreadCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-600 rounded-full\",\n                                                                            children: conversation.unreadCount > 99 ? \"99+\" : conversation.unreadCount\n                                                                        }, void 0, false, {\n                                                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                                            lineNumber: 715,\n                                                                            columnNumber: 37\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-xs text-gray-500\",\n                                                                            children: formatLastActivity(conversation.lastActivity)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                                            lineNumber: 719,\n                                                                            columnNumber: 35\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                                    lineNumber: 713,\n                                                                    columnNumber: 33\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                            lineNumber: 707,\n                                                            columnNumber: 31\n                                                        }, this),\n                                                        conversation.lastMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-sm text-gray-500 truncate mt-1\",\n                                                            children: conversation.lastMessage\n                                                        }, void 0, false, {\n                                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                            lineNumber: 725,\n                                                            columnNumber: 33\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 706,\n                                                    columnNumber: 29\n                                                }, this)\n                                            ]\n                                        }, conversation.id, true, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 696,\n                                            columnNumber: 27\n                                        }, this);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 694,\n                                    columnNumber: 21\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border-t p-3 space-y-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>window.open(\"/search\", \"_blank\"),\n                                            className: \"w-full text-left text-sm text-purple-600 hover:text-purple-800 transition-colors\",\n                                            children: \"\\uD83D\\uDD0D Търси специалисти\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                            lineNumber: 737,\n                                            columnNumber: 21\n                                        }, this),\n                                        ((user === null || user === void 0 ? void 0 : user.role) === \"service_provider\" || (user === null || user === void 0 ? void 0 : user.role) === \"tradesperson\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>window.open(\"/dashboard\", \"_blank\"),\n                                                    className: \"w-full text-left text-sm text-purple-600 hover:text-purple-800 transition-colors\",\n                                                    children: \"\\uD83D\\uDCCA Табло за управление\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 745,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>window.open(\"/dashboard?view=assigned\", \"_blank\"),\n                                                    className: \"w-full text-left text-sm text-purple-600 hover:text-purple-800 transition-colors\",\n                                                    children: \"\\uD83D\\uDCCB Моите заявки\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                                    lineNumber: 751,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                                    lineNumber: 736,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                        lineNumber: 603,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\newtry1\\\\Marketplace\\\\src\\\\components\\\\ChatWidget.tsx\",\n                lineNumber: 551,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true);\n}\n_s(ChatWidget, \"BIib//U0TaNCPRjgN3fBFLFMtRM=\", false, function() {\n    return [\n        _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__.useAuth,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.usePathname\n    ];\n});\n_c = ChatWidget;\nvar _c;\n$RefreshReg$(_c, \"ChatWidget\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0NoYXRXaWRnZXQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUVtRDtBQUNOO0FBQ0c7QUFDWDtBQVd0QixTQUFTTTs7SUFDdEIsTUFBTSxDQUFDQyxRQUFRQyxVQUFVLEdBQUdSLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU0sQ0FBQ1MsYUFBYUMsZUFBZSxHQUFHViwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNXLGVBQWVDLGlCQUFpQixHQUFHWiwrQ0FBUUEsQ0FBaUIsRUFBRTtJQUNyRSxNQUFNLENBQUNhLFNBQVNDLFdBQVcsR0FBR2QsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDZSxhQUFhQyxlQUFlLEdBQUdoQiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNpQixvQkFBb0JDLHNCQUFzQixHQUFHbEIsK0NBQVFBLENBQXNCO0lBQ2xGLE1BQU0sQ0FBQ21CLFVBQVVDLFlBQVksR0FBR3BCLCtDQUFRQSxDQUFRLEVBQUU7SUFDbEQsTUFBTSxDQUFDcUIsWUFBWUMsY0FBYyxHQUFHdEIsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDdUIsU0FBU0MsV0FBVyxHQUFHeEIsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDeUIsUUFBUUMsVUFBVSxHQUFHMUIsK0NBQVFBLENBQU07SUFDMUMsTUFBTSxFQUFFMkIsSUFBSSxFQUFFQyxlQUFlLEVBQUVDLFNBQVMsRUFBRSxHQUFHekIsOERBQU9BO0lBQ3BELE1BQU0wQixpQkFBaUI1Qiw2Q0FBTUEsQ0FBaUI7SUFDOUMsTUFBTTZCLFdBQVc1Qiw0REFBV0E7SUFFNUIsNkJBQTZCO0lBQzdCNkIsUUFBUUMsR0FBRyxDQUFDLHlDQUErQjtRQUN6Q0w7UUFDQUM7UUFDQUYsTUFBTUEsT0FBTztZQUFFTyxJQUFJUCxLQUFLTyxFQUFFO1lBQUVDLE9BQU9SLEtBQUtRLEtBQUs7WUFBRUMsTUFBTVQsS0FBS1MsSUFBSTtRQUFDLElBQUk7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SUFBSTs7Ozs7OzhFQUVwQyw4REFBQ3lGO29FQUFJWCxXQUFVOzt3RUFDWnpFLGFBQWFuQyxXQUFXLEdBQUcsbUJBQzFCLDhEQUFDK0g7NEVBQUtuQixXQUFVO3NGQUNiekUsYUFBYW5DLFdBQVcsR0FBRyxLQUFLLFFBQVFtQyxhQUFhbkMsV0FBVzs7Ozs7O3NGQUdyRSw4REFBQytIOzRFQUFLbkIsV0FBVTtzRkFDYmYsbUJBQW1CMUQsYUFBYXRCLFlBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt3REFJbERzQixhQUFheUcsV0FBVyxrQkFDdkIsOERBQUNaOzREQUFFcEIsV0FBVTtzRUFDVnpFLGFBQWF5RyxXQUFXOzs7Ozs7Ozs7Ozs7OzJDQTdCMUJ6RyxhQUFhcEQsRUFBRTs7Ozs7Ozs7Ozs7OENBdUM5Qiw4REFBQ3dJO29DQUFJWCxXQUFVOztzREFDYiw4REFBQ0w7NENBQ0NDLFNBQVMsSUFBTUMsT0FBT29DLElBQUksQ0FBQyxXQUFXOzRDQUN0Q2pDLFdBQVU7c0RBQ1g7Ozs7Ozt3Q0FHQ3BJLENBQUFBLENBQUFBLGlCQUFBQSwyQkFBQUEsS0FBTVMsSUFBSSxNQUFLLHNCQUFzQlQsQ0FBQUEsaUJBQUFBLDJCQUFBQSxLQUFNUyxJQUFJLE1BQUssY0FBYSxtQkFDakU7OzhEQUNFLDhEQUFDc0g7b0RBQ0NDLFNBQVMsSUFBTUMsT0FBT29DLElBQUksQ0FBQyxjQUFjO29EQUN6Q2pDLFdBQVU7OERBQ1g7Ozs7Ozs4REFHRCw4REFBQ0w7b0RBQ0NDLFNBQVMsSUFBTUMsT0FBT29DLElBQUksQ0FBQyw0QkFBNEI7b0RBQ3ZEakMsV0FBVTs4REFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFjekI7R0EvdUJ3QnpKOztRQVd1QkYsMERBQU9BO1FBRW5DRCx3REFBV0E7OztLQWJORyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9DaGF0V2lkZ2V0LnRzeD83ZjZiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZVBhdGhuYW1lIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJ1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvY29udGV4dHMvQXV0aENvbnRleHQnXG5pbXBvcnQgeyBhcGlDbGllbnQgfSBmcm9tICdAL2xpYi9hcGknXG5cbmludGVyZmFjZSBDb252ZXJzYXRpb24ge1xuICBpZDogc3RyaW5nXG4gIGN1c3RvbWVyTmFtZTogc3RyaW5nXG4gIHNlcnZpY2VQcm92aWRlck5hbWU6IHN0cmluZ1xuICBsYXN0TWVzc2FnZT86IHN0cmluZ1xuICBsYXN0QWN0aXZpdHk6IHN0cmluZ1xuICB1bnJlYWRDb3VudDogbnVtYmVyXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRXaWRnZXQoKSB7XG4gIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2lzTWluaW1pemVkLCBzZXRJc01pbmltaXplZF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2NvbnZlcnNhdGlvbnMsIHNldENvbnZlcnNhdGlvbnNdID0gdXNlU3RhdGU8Q29udmVyc2F0aW9uW10+KFtdKVxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3VucmVhZFRvdGFsLCBzZXRVbnJlYWRUb3RhbF0gPSB1c2VTdGF0ZSgwKVxuICBjb25zdCBbYWN0aXZlQ29udmVyc2F0aW9uLCBzZXRBY3RpdmVDb252ZXJzYXRpb25dID0gdXNlU3RhdGU8Q29udmVyc2F0aW9uIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pXG4gIGNvbnN0IFtuZXdNZXNzYWdlLCBzZXROZXdNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKVxuICBjb25zdCBbc2VuZGluZywgc2V0U2VuZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3NvY2tldCwgc2V0U29ja2V0XSA9IHVzZVN0YXRlPGFueT4obnVsbClcbiAgY29uc3QgeyB1c2VyLCBpc0F1dGhlbnRpY2F0ZWQsIGlzTG9hZGluZyB9ID0gdXNlQXV0aCgpXG4gIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKVxuICBjb25zdCBwYXRobmFtZSA9IHVzZVBhdGhuYW1lKClcblxuICAvLyBEZWJ1ZyBhdXRoZW50aWNhdGlvbiBzdGF0ZVxuICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gQXV0aCBEZWJ1ZzonLCB7XG4gICAgaXNBdXRoZW50aWNhdGVkLFxuICAgIGlzTG9hZGluZyxcbiAgICB1c2VyOiB1c2VyID8geyBpZDogdXNlci5pZCwgZW1haWw6IHVzZXIuZW1haWwsIHJvbGU6IHVzZXIucm9sZSB9IDogbnVsbCxcbiAgICBoYXNBdXRoVG9rZW46IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aF90b2tlbicpIDogJ1NTUicsXG4gICAgaGFzVXNlckRhdGE6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9kYXRhJykgOiAnU1NSJ1xuICB9KVxuXG4gIC8vIExvYWQgY29udmVyc2F0aW9ucyB3aGVuIHdpZGdldCBvcGVucyBhbmQgc2V0IHVwIFdlYlNvY2tldCBsaXN0ZW5lcnNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNPcGVuICYmIGlzQXV0aGVudGljYXRlZCAmJiB1c2VyKSB7XG4gICAgICBsb2FkQ29udmVyc2F0aW9ucygpXG4gICAgICBcbiAgICAgIC8vIEpvaW4gdXNlcidzIHBlcnNvbmFsIHJvb20gZm9yIHJlYWwtdGltZSB1cGRhdGVzXG4gICAgICBpZiAoc29ja2V0ICYmIGlzQ29ubmVjdGVkKSB7XG4gICAgICAgIHNvY2tldC5lbWl0KCdqb2luLXVzZXInLCB1c2VyLmlkKVxuICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gSm9pbmVkIHVzZXIgcm9vbTonLCB1c2VyLmlkKVxuICAgICAgICBcbiAgICAgICAgLy8gTGlzdGVuIGZvciBjb252ZXJzYXRpb24gdXBkYXRlc1xuICAgICAgICBjb25zdCBoYW5kbGVDb252ZXJzYXRpb25zVXBkYXRlZCA9ICgpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gUmVjZWl2ZWQgY29udmVyc2F0aW9uc191cGRhdGVkIGV2ZW50LCByZWxvYWRpbmcuLi4nKVxuICAgICAgICAgIGxvYWRDb252ZXJzYXRpb25zKClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc29ja2V0Lm9uKCdjb252ZXJzYXRpb25zX3VwZGF0ZWQnLCBoYW5kbGVDb252ZXJzYXRpb25zVXBkYXRlZClcbiAgICAgICAgXG4gICAgICAgIC8vIENsZWFudXBcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICBzb2NrZXQub2ZmKCdjb252ZXJzYXRpb25zX3VwZGF0ZWQnLCBoYW5kbGVDb252ZXJzYXRpb25zVXBkYXRlZClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW2lzT3BlbiwgaXNBdXRoZW50aWNhdGVkLCB1c2VyLCBzb2NrZXQsIGlzQ29ubmVjdGVkXSlcblxuICAvLyBDYWxjdWxhdGUgdG90YWwgdW5yZWFkIG1lc3NhZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdG90YWwgPSBjb252ZXJzYXRpb25zLnJlZHVjZSgoc3VtLCBjb252KSA9PiBzdW0gKyBjb252LnVucmVhZENvdW50LCAwKVxuICAgIHNldFVucmVhZFRvdGFsKHRvdGFsKVxuICB9LCBbY29udmVyc2F0aW9uc10pXG5cbiAgY29uc3QgbG9hZENvbnZlcnNhdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF1c2VyKSByZXR1cm5cbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gTG9hZGluZyBjb252ZXJzYXRpb25zIGZvciB1c2VyOicsIHVzZXIucm9sZSwgdXNlci5pZClcbiAgICBzZXRMb2FkaW5nKHRydWUpXG4gICAgdHJ5IHtcbiAgICAgIC8vIEZvciBzZXJ2aWNlIHByb3ZpZGVycywgZ2V0IHRoZWlyIGNvbnZlcnNhdGlvbnNcbiAgICAgIGlmICh1c2VyLnJvbGUgPT09ICdzZXJ2aWNlX3Byb3ZpZGVyJyB8fCB1c2VyLnJvbGUgPT09ICd0cmFkZXNwZXJzb24nKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBMb2FkaW5nIHByb3ZpZGVyIGNvbnZlcnNhdGlvbnMgZm9yOicsIHVzZXIuaWQpXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBBUEkgVVJMIHdpbGwgYmU6JywgYC9jaGF0L3Byb3ZpZGVyLyR7dXNlci5pZH0vY29udmVyc2F0aW9uc2ApXG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5nZXRQcm92aWRlck1hcmtldHBsYWNlQ29udmVyc2F0aW9ucyh1c2VyLmlkKVxuICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gUHJvdmlkZXIgY29udmVyc2F0aW9ucyBmdWxsIHJlc3BvbnNlOicsIHJlc3BvbnNlKVxuICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gUHJvdmlkZXIgY29udmVyc2F0aW9ucyByZXNwb25zZS5kYXRhOicsIHJlc3BvbnNlLmRhdGEpXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBQcm92aWRlciBjb252ZXJzYXRpb25zIHJlc3BvbnNlLnN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpXG4gICAgICAgIFxuICAgICAgICBpZiAocmVzcG9uc2UuZGF0YT8uc3VjY2Vzcykge1xuICAgICAgICAgIGxldCBjb252ZXJzYXRpb25zRGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YVxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBSYXcgY29udmVyc2F0aW9ucyBkYXRhOicsIEpTT04uc3RyaW5naWZ5KGNvbnZlcnNhdGlvbnNEYXRhLCBudWxsLCAyKSlcbiAgICAgICAgICBcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBIYW5kbGUgZGlmZmVyZW50IHJlc3BvbnNlIGZvcm1hdHMgYW5kIG1hcCBmaWVsZHMgY29ycmVjdGx5XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29udmVyc2F0aW9uc0RhdGEpKSB7XG4gICAgICAgICAgICAvLyBEYXRhIGlzIGFscmVhZHkgYW4gYXJyYXkgLSBtYXAgdGhlIGZpZWxkc1xuICAgICAgICAgICAgY29uc3QgbWFwcGVkQ29udmVyc2F0aW9ucyA9IGNvbnZlcnNhdGlvbnNEYXRhLm1hcCgoY29udjogYW55KSA9PiAoe1xuICAgICAgICAgICAgICAuLi5jb252LFxuICAgICAgICAgICAgICBsYXN0QWN0aXZpdHk6IGNvbnYubGFzdF9tZXNzYWdlX2F0IHx8IGNvbnYuY3JlYXRlZF9hdCwgLy8gTWFwIGxhc3RfbWVzc2FnZV9hdCB0byBsYXN0QWN0aXZpdHlcbiAgICAgICAgICAgICAgdW5yZWFkQ291bnQ6IGNvbnYudW5yZWFkX2NvdW50IHx8IDBcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgc2V0Q29udmVyc2F0aW9ucyhtYXBwZWRDb252ZXJzYXRpb25zKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIFNldCBwcm92aWRlciBjb252ZXJzYXRpb25zIChhcnJheSk6JywgbWFwcGVkQ29udmVyc2F0aW9ucy5sZW5ndGgsIG1hcHBlZENvbnZlcnNhdGlvbnMpXG4gICAgICAgICAgfSBlbHNlIGlmIChjb252ZXJzYXRpb25zRGF0YSAmJiB0eXBlb2YgY29udmVyc2F0aW9uc0RhdGEgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAvLyBEYXRhIGlzIGFuIG9iamVjdCwgY2hlY2sgaWYgaXQgaGFzIGEgY29udmVyc2F0aW9ucyBwcm9wZXJ0eSBvciBjb252ZXJ0IHRvIGFycmF5XG4gICAgICAgICAgICBpZiAoY29udmVyc2F0aW9uc0RhdGEuY29udmVyc2F0aW9ucyAmJiBBcnJheS5pc0FycmF5KGNvbnZlcnNhdGlvbnNEYXRhLmNvbnZlcnNhdGlvbnMpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG1hcHBlZENvbnZlcnNhdGlvbnMgPSBjb252ZXJzYXRpb25zRGF0YS5jb252ZXJzYXRpb25zLm1hcCgoY29udjogYW55KSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLmNvbnYsXG4gICAgICAgICAgICAgICAgbGFzdEFjdGl2aXR5OiBjb252Lmxhc3RfbWVzc2FnZV9hdCB8fCBjb252LmNyZWF0ZWRfYXQsIC8vIE1hcCBsYXN0X21lc3NhZ2VfYXQgdG8gbGFzdEFjdGl2aXR5XG4gICAgICAgICAgICAgICAgdW5yZWFkQ291bnQ6IGNvbnYudW5yZWFkX2NvdW50IHx8IDBcbiAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgIHNldENvbnZlcnNhdGlvbnMobWFwcGVkQ29udmVyc2F0aW9ucylcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIFNldCBwcm92aWRlciBjb252ZXJzYXRpb25zIChvYmplY3QuY29udmVyc2F0aW9ucyk6JywgbWFwcGVkQ29udmVyc2F0aW9ucy5sZW5ndGgsIG1hcHBlZENvbnZlcnNhdGlvbnMpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnZlcnNhdGlvbnNEYXRhLmRhdGEgJiYgQXJyYXkuaXNBcnJheShjb252ZXJzYXRpb25zRGF0YS5kYXRhKSkge1xuICAgICAgICAgICAgICBzZXRDb252ZXJzYXRpb25zKGNvbnZlcnNhdGlvbnNEYXRhLmRhdGEpXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBTZXQgcHJvdmlkZXIgY29udmVyc2F0aW9ucyAob2JqZWN0LmRhdGEpOicsIGNvbnZlcnNhdGlvbnNEYXRhLmRhdGEubGVuZ3RoLCBjb252ZXJzYXRpb25zRGF0YS5kYXRhKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gVHJ5IHRvIGNvbnZlcnQgb2JqZWN0IHRvIGFycmF5IG9yIGhhbmRsZSBzaW5nbGUgY29udmVyc2F0aW9uXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBSZWNlaXZlZCBvYmplY3QgZGF0YTonLCBjb252ZXJzYXRpb25zRGF0YSlcbiAgICAgICAgICAgICAgY29uc3QgY29udmVyc2F0aW9uc0FycmF5ID0gT2JqZWN0LnZhbHVlcyhjb252ZXJzYXRpb25zRGF0YSkuZmlsdGVyKGl0ZW0gPT4gXG4gICAgICAgICAgICAgICAgaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgJiYgJ2lkJyBpbiBpdGVtXG4gICAgICAgICAgICAgICkgYXMgQ29udmVyc2F0aW9uW11cbiAgICAgICAgICAgICAgc2V0Q29udmVyc2F0aW9ucyhjb252ZXJzYXRpb25zQXJyYXkpXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBDb252ZXJ0ZWQgb2JqZWN0IHRvIGFycmF5OicsIGNvbnZlcnNhdGlvbnNBcnJheS5sZW5ndGgsIGNvbnZlcnNhdGlvbnNBcnJheSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIE5vIGNvbnZlcnNhdGlvbnMgZGF0YSBmb3VuZCcpXG4gICAgICAgICAgICBzZXRDb252ZXJzYXRpb25zKFtdKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gQVBJIHJlc3BvbnNlIG5vdCBzdWNjZXNzZnVsJylcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gUmVzcG9uc2Ugc3RydWN0dXJlOicsIHtcbiAgICAgICAgICAgIGhhc1N1Y2Nlc3M6ICdzdWNjZXNzJyBpbiAocmVzcG9uc2UuZGF0YSB8fCB7fSksXG4gICAgICAgICAgICBzdWNjZXNzVmFsdWU6IHJlc3BvbnNlLmRhdGE/LnN1Y2Nlc3MsXG4gICAgICAgICAgICBoYXNEYXRhOiAnZGF0YScgaW4gKHJlc3BvbnNlLmRhdGEgfHwge30pLFxuICAgICAgICAgICAgZGF0YVR5cGU6IHR5cGVvZiByZXNwb25zZS5kYXRhPy5kYXRhLFxuICAgICAgICAgICAgaXNBcnJheTogQXJyYXkuaXNBcnJheShyZXNwb25zZS5kYXRhPy5kYXRhKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgc2V0Q29udmVyc2F0aW9ucyhbXSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIGN1c3RvbWVycywgZ2V0IHRoZWlyIGNvbnZlcnNhdGlvbnNcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIExvYWRpbmcgY3VzdG9tZXIgY29udmVyc2F0aW9ucycpXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LmdldENvbnZlcnNhdGlvbnMoKVxuICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gQ3VzdG9tZXIgY29udmVyc2F0aW9ucyByZXNwb25zZTonLCByZXNwb25zZS5kYXRhKVxuICAgICAgICBjb25zdCBjb252ZXJzYXRpb25zID0gcmVzcG9uc2UuZGF0YT8uZGF0YT8uY29udmVyc2F0aW9uc1xuICAgICAgICBpZiAocmVzcG9uc2UuZGF0YT8uc3VjY2VzcyAmJiBBcnJheS5pc0FycmF5KGNvbnZlcnNhdGlvbnMpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIENvbnZlcnNhdGlvbiBkZXRhaWxzOicsIGNvbnZlcnNhdGlvbnMubWFwKGMgPT4gKHtcbiAgICAgICAgICAgIGlkOiBjLmlkLFxuICAgICAgICAgICAgc2VydmljZVByb3ZpZGVyTmFtZTogYy5zZXJ2aWNlUHJvdmlkZXJOYW1lLFxuICAgICAgICAgICAgY3VzdG9tZXJOYW1lOiBjLmN1c3RvbWVyTmFtZVxuICAgICAgICAgIH0pKSlcbiAgICAgICAgICBzZXRDb252ZXJzYXRpb25zKGNvbnZlcnNhdGlvbnMpXG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIFNldCBjdXN0b21lciBjb252ZXJzYXRpb25zOicsIGNvbnZlcnNhdGlvbnMubGVuZ3RoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBObyBjdXN0b21lciBjb252ZXJzYXRpb25zIGZvdW5kIG9yIGludmFsaWQgcmVzcG9uc2UnKVxuICAgICAgICAgIHNldENvbnZlcnNhdGlvbnMoW10pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfwn5KsIENoYXRXaWRnZXQgLSBFcnJvciBsb2FkaW5nIGNvbnZlcnNhdGlvbnM6JywgZXJyb3IpXG4gICAgICBjb25zb2xlLmVycm9yKCfwn5KsIENoYXRXaWRnZXQgLSBFcnJvciBkZXRhaWxzOicsIHtcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgc3RhdHVzOiBlcnJvci5yZXNwb25zZT8uc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiBlcnJvci5yZXNwb25zZT8uc3RhdHVzVGV4dCxcbiAgICAgICAgZGF0YTogZXJyb3IucmVzcG9uc2U/LmRhdGFcbiAgICAgIH0pXG4gICAgICBzZXRDb252ZXJzYXRpb25zKFtdKVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUNvbnZlcnNhdGlvbkNsaWNrID0gYXN5bmMgKGNvbnZlcnNhdGlvbjogQ29udmVyc2F0aW9uKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIE9wZW5pbmcgY29udmVyc2F0aW9uIGlubGluZTonLCBjb252ZXJzYXRpb24uaWQsIGNvbnZlcnNhdGlvbilcbiAgICBcbiAgICAvLyBTZXQgYWN0aXZlIGNvbnZlcnNhdGlvbiBhbmQgbG9hZCBtZXNzYWdlc1xuICAgIHNldEFjdGl2ZUNvbnZlcnNhdGlvbihjb252ZXJzYXRpb24pXG4gICAgc2V0TWVzc2FnZXMoW10pXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIExvYWQgbWVzc2FnZXMgZm9yIHRoaXMgY29udmVyc2F0aW9uXG4gICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gTG9hZGluZyBtZXNzYWdlcyBmb3IgY29udmVyc2F0aW9uOicsIGNvbnZlcnNhdGlvbi5pZClcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LmdldE1hcmtldHBsYWNlTWVzc2FnZXMoY29udmVyc2F0aW9uLmlkKVxuICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIE1lc3NhZ2VzIEFQSSByZXNwb25zZTonLCByZXNwb25zZSlcbiAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBNZXNzYWdlcyByZXNwb25zZSBkYXRhOicsIHJlc3BvbnNlLmRhdGEpXG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5kYXRhPy5zdWNjZXNzKSB7XG4gICAgICAgIGxldCBtZXNzYWdlc0RhdGEgPSByZXNwb25zZS5kYXRhLmRhdGFcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIFJhdyBtZXNzYWdlcyBkYXRhOicsIEpTT04uc3RyaW5naWZ5KG1lc3NhZ2VzRGF0YSwgbnVsbCwgMikpXG4gICAgICAgIFxuICAgICAgICAvLyBIYW5kbGUgZGlmZmVyZW50IHJlc3BvbnNlIGZvcm1hdHNcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWVzc2FnZXNEYXRhKSkge1xuICAgICAgICAgIC8vIERhdGEgaXMgYWxyZWFkeSBhbiBhcnJheVxuICAgICAgICAgIHNldE1lc3NhZ2VzKG1lc3NhZ2VzRGF0YSlcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gTG9hZGVkIG1lc3NhZ2VzIChhcnJheSk6JywgbWVzc2FnZXNEYXRhLmxlbmd0aCwgbWVzc2FnZXNEYXRhKVxuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2VzRGF0YSAmJiB0eXBlb2YgbWVzc2FnZXNEYXRhID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIC8vIERhdGEgaXMgYW4gb2JqZWN0LCBjaGVjayBpZiBpdCBoYXMgYSBtZXNzYWdlcyBwcm9wZXJ0eSBvciBjb252ZXJ0IHRvIGFycmF5XG4gICAgICAgICAgaWYgKG1lc3NhZ2VzRGF0YS5tZXNzYWdlcyAmJiBBcnJheS5pc0FycmF5KG1lc3NhZ2VzRGF0YS5tZXNzYWdlcykpIHtcbiAgICAgICAgICAgIHNldE1lc3NhZ2VzKG1lc3NhZ2VzRGF0YS5tZXNzYWdlcylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBMb2FkZWQgbWVzc2FnZXMgKG9iamVjdC5tZXNzYWdlcyk6JywgbWVzc2FnZXNEYXRhLm1lc3NhZ2VzLmxlbmd0aCwgbWVzc2FnZXNEYXRhLm1lc3NhZ2VzKVxuICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZXNEYXRhLmRhdGEgJiYgQXJyYXkuaXNBcnJheShtZXNzYWdlc0RhdGEuZGF0YSkpIHtcbiAgICAgICAgICAgIHNldE1lc3NhZ2VzKG1lc3NhZ2VzRGF0YS5kYXRhKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIExvYWRlZCBtZXNzYWdlcyAob2JqZWN0LmRhdGEpOicsIG1lc3NhZ2VzRGF0YS5kYXRhLmxlbmd0aCwgbWVzc2FnZXNEYXRhLmRhdGEpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRyeSB0byBjb252ZXJ0IG9iamVjdCB0byBhcnJheSBvciBoYW5kbGUgc2luZ2xlIG1lc3NhZ2VcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBSZWNlaXZlZCBvYmplY3QgbWVzc2FnZXMgZGF0YTonLCBtZXNzYWdlc0RhdGEpXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlc0FycmF5ID0gT2JqZWN0LnZhbHVlcyhtZXNzYWdlc0RhdGEpLmZpbHRlcihpdGVtID0+IFxuICAgICAgICAgICAgICBpdGVtICYmIHR5cGVvZiBpdGVtID09PSAnb2JqZWN0JyAmJiAnaWQnIGluIGl0ZW1cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHNldE1lc3NhZ2VzKG1lc3NhZ2VzQXJyYXkpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gQ29udmVydGVkIG1lc3NhZ2VzIG9iamVjdCB0byBhcnJheTonLCBtZXNzYWdlc0FycmF5Lmxlbmd0aCwgbWVzc2FnZXNBcnJheSlcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIE5vIG1lc3NhZ2VzIGRhdGEgZm91bmQnKVxuICAgICAgICAgIHNldE1lc3NhZ2VzKFtdKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IC0gTWVzc2FnZXMgQVBJIHJlc3BvbnNlIG5vdCBzdWNjZXNzZnVsJylcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIFJlc3BvbnNlIHN0cnVjdHVyZTonLCB7XG4gICAgICAgICAgaGFzU3VjY2VzczogJ3N1Y2Nlc3MnIGluIChyZXNwb25zZS5kYXRhIHx8IHt9KSxcbiAgICAgICAgICBzdWNjZXNzVmFsdWU6IHJlc3BvbnNlLmRhdGE/LnN1Y2Nlc3MsXG4gICAgICAgICAgaGFzRGF0YTogJ2RhdGEnIGluIChyZXNwb25zZS5kYXRhIHx8IHt9KSxcbiAgICAgICAgICBkYXRhVHlwZTogdHlwZW9mIHJlc3BvbnNlLmRhdGE/LmRhdGEsXG4gICAgICAgICAgaXNBcnJheTogQXJyYXkuaXNBcnJheShyZXNwb25zZS5kYXRhPy5kYXRhKSxcbiAgICAgICAgICBkYXRhQ29udGVudDogcmVzcG9uc2UuZGF0YT8uZGF0YVxuICAgICAgICB9KVxuICAgICAgICBzZXRNZXNzYWdlcyhbXSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQXV0by1zY3JvbGwgdG8gYm90dG9tIGFmdGVyIGxvYWRpbmcgbWVzc2FnZXNcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2Nyb2xsVG9Cb3R0b20oKSwgMjAwKVxuICAgICAgXG4gICAgICAvLyBNYXJrIGNvbnZlcnNhdGlvbiBhcyByZWFkIGFmdGVyIGxvYWRpbmcgbWVzc2FnZXNcbiAgICAgIG1hcmtDb252ZXJzYXRpb25Bc1JlYWQoY29udmVyc2F0aW9uLmlkKVxuICAgICAgXG4gICAgICAvLyBJbml0aWFsaXplIHNvY2tldCBmb3IgcmVhbC10aW1lIHVwZGF0ZXMgaWYgbm90IGFscmVhZHkgY29ubmVjdGVkXG4gICAgICBpZiAoIXNvY2tldCkge1xuICAgICAgICBpbml0aWFsaXplU29ja2V0KGNvbnZlcnNhdGlvbi5pZClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfwn5KsIENoYXRXaWRnZXQgLSBFcnJvciBsb2FkaW5nIG1lc3NhZ2VzOicsIGVycm9yKVxuICAgICAgY29uc29sZS5lcnJvcign8J+SrCBDaGF0V2lkZ2V0IC0gRXJyb3IgZGV0YWlsczonLCB7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIHN0YXR1czogZXJyb3IucmVzcG9uc2U/LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogZXJyb3IucmVzcG9uc2U/LnN0YXR1c1RleHQsXG4gICAgICAgIGRhdGE6IGVycm9yLnJlc3BvbnNlPy5kYXRhXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGluaXRpYWxpemVTb2NrZXQgPSAoY29udmVyc2F0aW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhcGlVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vMTkyLjE2OC4wLjEyOTozMDAwL2FwaS92MSdcbiAgICAgIGNvbnN0IHNvY2tldFVybCA9IGFwaVVybC5yZXBsYWNlKCcvYXBpL3YxJywgJycpXG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBDb25uZWN0aW5nIHRvIHNvY2tldCBmb3IgY29udmVyc2F0aW9uOicsIGNvbnZlcnNhdGlvbklkKVxuICAgICAgXG4gICAgICBjb25zdCB7IGlvIH0gPSByZXF1aXJlKCdzb2NrZXQuaW8tY2xpZW50JylcbiAgICAgIGNvbnN0IHNvY2tldEluc3RhbmNlID0gaW8oc29ja2V0VXJsLCB7XG4gICAgICAgIHRyYW5zcG9ydHM6IFsnd2Vic29ja2V0JywgJ3BvbGxpbmcnXSxcbiAgICAgICAgdGltZW91dDogMTAwMDAsXG4gICAgICAgIHJlY29ubmVjdGlvbjogdHJ1ZVxuICAgICAgfSlcblxuICAgICAgc29ja2V0SW5zdGFuY2Uub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgQ2hhdFdpZGdldCBjb25uZWN0ZWQgdG8gV2ViU29ja2V0JylcbiAgICAgICAgc2V0U29ja2V0KHNvY2tldEluc3RhbmNlKVxuICAgICAgICBzb2NrZXRJbnN0YW5jZS5lbWl0KCdqb2luLWNvbnZlcnNhdGlvbicsIGNvbnZlcnNhdGlvbklkKVxuICAgICAgfSlcblxuICAgICAgc29ja2V0SW5zdGFuY2Uub24oJ25ld19tZXNzYWdlJywgKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBDaGF0V2lkZ2V0IHJlY2VpdmVkIG5ldyBtZXNzYWdlOicsIGRhdGEpXG4gICAgICAgIGlmIChkYXRhLmNvbnZlcnNhdGlvbklkID09PSBjb252ZXJzYXRpb25JZCAmJiBkYXRhLm1lc3NhZ2VJZCkge1xuICAgICAgICAgIGNvbnN0IG5ld01lc3NhZ2UgPSB7XG4gICAgICAgICAgICBpZDogZGF0YS5tZXNzYWdlSWQsXG4gICAgICAgICAgICBjb252ZXJzYXRpb25JZDogZGF0YS5jb252ZXJzYXRpb25JZCxcbiAgICAgICAgICAgIHNlbmRlclR5cGU6IGRhdGEuc2VuZGVyVHlwZSxcbiAgICAgICAgICAgIHNlbmRlck5hbWU6IGRhdGEuc2VuZGVyTmFtZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogZGF0YS50aW1lc3RhbXAsXG4gICAgICAgICAgICBzZW50X2F0OiBkYXRhLnRpbWVzdGFtcCAvLyBBZGQgc2VudF9hdCBmb3IgY29uc2lzdGVuY3lcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiB7XG4gICAgICAgICAgICBjb25zdCBleGlzdHMgPSBwcmV2LnNvbWUobXNnID0+IG1zZy5pZCA9PT0gZGF0YS5tZXNzYWdlSWQpXG4gICAgICAgICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+SrCBBZGRpbmcgbmV3IG1lc3NhZ2UgdG8gY2hhdDonLCBuZXdNZXNzYWdlKVxuICAgICAgICAgICAgICByZXR1cm4gWy4uLnByZXYsIG5ld01lc3NhZ2VdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJldlxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEFsc28gcmVmcmVzaCBjb252ZXJzYXRpb25zIGxpc3QgdG8gdXBkYXRlIGxhc3QgbWVzc2FnZVxuICAgICAgICBsb2FkQ29udmVyc2F0aW9ucygpXG4gICAgICB9KVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfkqwgQ2hhdFdpZGdldCAtIFNvY2tldCBpbml0aWFsaXphdGlvbiBlcnJvcjonLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICBjb25zdCBzZW5kTWVzc2FnZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIW5ld01lc3NhZ2UudHJpbSgpIHx8IHNlbmRpbmcgfHwgIWFjdGl2ZUNvbnZlcnNhdGlvbikgcmV0dXJuXG5cbiAgICBzZXRTZW5kaW5nKHRydWUpXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LnNlbmRNZXNzYWdlKHtcbiAgICAgICAgY29udmVyc2F0aW9uSWQ6IGFjdGl2ZUNvbnZlcnNhdGlvbi5pZCxcbiAgICAgICAgc2VuZGVyVHlwZTogdXNlcj8ucm9sZSA9PT0gJ3NlcnZpY2VfcHJvdmlkZXInIHx8IHVzZXI/LnJvbGUgPT09ICd0cmFkZXNwZXJzb24nID8gJ3Byb3ZpZGVyJyA6ICdjdXN0b21lcicsXG4gICAgICAgIHNlbmRlck5hbWU6IGAke3VzZXI/LmZpcnN0TmFtZX0gJHt1c2VyPy5sYXN0TmFtZX1gLnRyaW0oKSB8fCAnVXNlcicsXG4gICAgICAgIG1lc3NhZ2U6IG5ld01lc3NhZ2VcbiAgICAgIH0pXG5cbiAgICAgIGlmIChyZXNwb25zZS5kYXRhPy5zdWNjZXNzKSB7XG4gICAgICAgIGNvbnN0IG5ld01zZyA9IHtcbiAgICAgICAgICBpZDogcmVzcG9uc2UuZGF0YS5kYXRhPy5tZXNzYWdlSWQgfHwgRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICAgIGNvbnZlcnNhdGlvbklkOiBhY3RpdmVDb252ZXJzYXRpb24uaWQsXG4gICAgICAgICAgc2VuZGVyVHlwZTogdXNlcj8ucm9sZSA9PT0gJ3NlcnZpY2VfcHJvdmlkZXInIHx8IHVzZXI/LnJvbGUgPT09ICd0cmFkZXNwZXJzb24nID8gJ3Byb3ZpZGVyJyA6ICdjdXN0b21lcicsXG4gICAgICAgICAgc2VuZGVyTmFtZTogYCR7dXNlcj8uZmlyc3ROYW1lfSAke3VzZXI/Lmxhc3ROYW1lfWAudHJpbSgpIHx8ICdVc2VyJyxcbiAgICAgICAgICBtZXNzYWdlOiBuZXdNZXNzYWdlLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIG5ld01zZ10pXG4gICAgICAgIHNldE5ld01lc3NhZ2UoJycpXG4gICAgICAgIFxuICAgICAgICAvLyBBdXRvLXNjcm9sbCBhZnRlciBzZW5kaW5nIG1lc3NhZ2VcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzY3JvbGxUb0JvdHRvbSgpLCAxMDApXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfkqwgQ2hhdFdpZGdldCAtIEVycm9yIHNlbmRpbmcgbWVzc2FnZTonLCBlcnJvcilcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0U2VuZGluZyhmYWxzZSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBtYXJrQ29udmVyc2F0aW9uQXNSZWFkID0gYXN5bmMgKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ/Cfk5YgTWFya2luZyBjb252ZXJzYXRpb24gYXMgcmVhZDonLCBjb252ZXJzYXRpb25JZClcbiAgICAgIGNvbnN0IHNlbmRlclR5cGUgPSB1c2VyPy5yb2xlID09PSAnc2VydmljZV9wcm92aWRlcicgfHwgdXNlcj8ucm9sZSA9PT0gJ3RyYWRlc3BlcnNvbicgPyAncHJvdmlkZXInIDogJ2N1c3RvbWVyJ1xuICAgICAgXG4gICAgICBhd2FpdCBhcGlDbGllbnQubWFya01hcmtldHBsYWNlQXNSZWFkKGNvbnZlcnNhdGlvbklkLCBzZW5kZXJUeXBlKVxuICAgICAgXG4gICAgICAvLyBVcGRhdGUgdGhlIGNvbnZlcnNhdGlvbiBpbiB0aGUgbG9jYWwgc3RhdGUgdG8gcmVtb3ZlIHVucmVhZCBjb3VudFxuICAgICAgc2V0Q29udmVyc2F0aW9ucyhwcmV2ID0+IHByZXYubWFwKGNvbnYgPT4gXG4gICAgICAgIGNvbnYuaWQgPT09IGNvbnZlcnNhdGlvbklkIFxuICAgICAgICAgID8geyAuLi5jb252LCB1bnJlYWRDb3VudDogMCB9XG4gICAgICAgICAgOiBjb252XG4gICAgICApKVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygn4pyFIENvbnZlcnNhdGlvbiBtYXJrZWQgYXMgcmVhZCcpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gbWFyayBjb252ZXJzYXRpb24gYXMgcmVhZDonLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICBjb25zdCBzY3JvbGxUb0JvdHRvbSA9ICgpID0+IHtcbiAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KVxuICB9XG5cbiAgLy8gQXV0by1zY3JvbGwgd2hlbiBtZXNzYWdlcyBjaGFuZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBzY3JvbGxUb0JvdHRvbSgpLCAxMDApXG4gICAgfVxuICB9LCBbbWVzc2FnZXNdKVxuXG4gIGNvbnN0IGdvQmFja1RvQ29udmVyc2F0aW9ucyA9ICgpID0+IHtcbiAgICBzZXRBY3RpdmVDb252ZXJzYXRpb24obnVsbClcbiAgICBzZXRNZXNzYWdlcyhbXSlcbiAgICBzZXROZXdNZXNzYWdlKCcnKVxuICAgIGlmIChzb2NrZXQpIHtcbiAgICAgIHNvY2tldC5kaXNjb25uZWN0KClcbiAgICAgIHNldFNvY2tldChudWxsKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZvcm1hdE1lc3NhZ2VUaW1lID0gKHRpbWVzdGFtcDogc3RyaW5nIHwgbnVtYmVyKSA9PiB7XG4gICAgaWYgKCF0aW1lc3RhbXApIHJldHVybiAn0L3QtdC40LfQstC10YHRgtC90L4nXG4gICAgXG4gICAgbGV0IGRhdGU6IERhdGVcbiAgICBcbiAgICAvLyBIYW5kbGUgZGlmZmVyZW50IHRpbWVzdGFtcCBmb3JtYXRzXG4gICAgaWYgKHR5cGVvZiB0aW1lc3RhbXAgPT09ICdudW1iZXInKSB7XG4gICAgICBkYXRlID0gbmV3IERhdGUodGltZXN0YW1wID4gMTAwMDAwMDAwMDAwMCA/IHRpbWVzdGFtcCA6IHRpbWVzdGFtcCAqIDEwMDApXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGltZXN0YW1wID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gU1FMaXRlIGRhdGV0aW1lIGZvcm1hdDogXCIyMDI0LTAxLTE1IDEwOjMwOjQ1XCIgb3IgSVNPIGZvcm1hdFxuICAgICAgaWYgKHRpbWVzdGFtcC5pbmNsdWRlcygnICcpICYmICF0aW1lc3RhbXAuaW5jbHVkZXMoJ1QnKSkge1xuICAgICAgICAvLyBTUUxpdGUgZm9ybWF0OiBjb252ZXJ0IHRvIElTTyBmb3JtYXRcbiAgICAgICAgY29uc3QgaXNvVGltZXN0YW1wID0gdGltZXN0YW1wLnJlcGxhY2UoJyAnLCAnVCcpICsgJ1onXG4gICAgICAgIGRhdGUgPSBuZXcgRGF0ZShpc29UaW1lc3RhbXApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRlID0gbmV3IERhdGUodGltZXN0YW1wKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ9C90LXQuNC30LLQtdGB0YLQvdC+J1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBpZiBkYXRlIGlzIHZhbGlkXG4gICAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgY29uc29sZS53YXJuKCdJbnZhbGlkIG1lc3NhZ2UgdGltZXN0YW1wOicsIHRpbWVzdGFtcClcbiAgICAgIHJldHVybiAn0L3QtdC40LfQstC10YHRgtC90L4nXG4gICAgfVxuICAgIFxuICAgIC8vIFJldHVybiB0aW1lIGluIEhIOk1NIGZvcm1hdFxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoJ2JnLUJHJywgeyBcbiAgICAgICAgaG91cjogJzItZGlnaXQnLCBcbiAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsXG4gICAgICAgIGhvdXIxMjogZmFsc2VcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKClcbiAgICB9XG4gIH1cblxuICBjb25zdCBmb3JtYXRMYXN0QWN0aXZpdHkgPSAodGltZXN0YW1wOiBzdHJpbmcgfCBudW1iZXIpID0+IHtcbiAgICBpZiAoIXRpbWVzdGFtcCkgcmV0dXJuICfQvdC10LjQt9Cy0LXRgdGC0L3QvidcbiAgICBcbiAgICBsZXQgZGF0ZTogRGF0ZVxuICAgIFxuICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgdGltZXN0YW1wIGZvcm1hdHMgKHNhbWUgbG9naWMgYXMgZm9ybWF0TWVzc2FnZVRpbWUpXG4gICAgaWYgKHR5cGVvZiB0aW1lc3RhbXAgPT09ICdudW1iZXInKSB7XG4gICAgICBkYXRlID0gbmV3IERhdGUodGltZXN0YW1wID4gMTAwMDAwMDAwMDAwMCA/IHRpbWVzdGFtcCA6IHRpbWVzdGFtcCAqIDEwMDApXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGltZXN0YW1wID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gU1FMaXRlIGRhdGV0aW1lIGZvcm1hdDogXCIyMDI0LTAxLTE1IDEwOjMwOjQ1XCIgb3IgSVNPIGZvcm1hdFxuICAgICAgaWYgKHRpbWVzdGFtcC5pbmNsdWRlcygnICcpICYmICF0aW1lc3RhbXAuaW5jbHVkZXMoJ1QnKSkge1xuICAgICAgICAvLyBTUUxpdGUgZm9ybWF0OiBjb252ZXJ0IHRvIElTTyBmb3JtYXRcbiAgICAgICAgY29uc3QgaXNvVGltZXN0YW1wID0gdGltZXN0YW1wLnJlcGxhY2UoJyAnLCAnVCcpICsgJ1onXG4gICAgICAgIGRhdGUgPSBuZXcgRGF0ZShpc29UaW1lc3RhbXApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRlID0gbmV3IERhdGUodGltZXN0YW1wKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ9C90LXQuNC30LLQtdGB0YLQvdC+J1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBpZiBkYXRlIGlzIHZhbGlkXG4gICAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgY29uc29sZS53YXJuKCdJbnZhbGlkIGxhc3QgYWN0aXZpdHkgdGltZXN0YW1wOicsIHRpbWVzdGFtcClcbiAgICAgIHJldHVybiAn0L3QtdC40LfQstC10YHRgtC90L4nXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcbiAgICBjb25zdCBkaWZmTXMgPSBub3cuZ2V0VGltZSgpIC0gZGF0ZS5nZXRUaW1lKClcbiAgICBjb25zdCBkaWZmRGF5cyA9IE1hdGguZmxvb3IoZGlmZk1zIC8gODY0MDAwMDApXG5cbiAgICAvLyBTaG93IGFjdHVhbCB0aW1lIGZvciB0b2RheSdzIG1lc3NhZ2VzLCBkYXRlIGZvciBvbGRlciBvbmVzXG4gICAgaWYgKGRpZmZEYXlzID09PSAwKSB7XG4gICAgICAvLyBUb2RheSAtIHNob3cgdGltZSBsaWtlIFwiMTQ6MzBcIlxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCdiZy1CRycsIHsgXG4gICAgICAgICAgaG91cjogJzItZGlnaXQnLCBcbiAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JyxcbiAgICAgICAgICBob3VyMTI6IGZhbHNlXG4gICAgICAgIH0pXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlVGltZVN0cmluZygpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkaWZmRGF5cyA9PT0gMSkge1xuICAgICAgLy8gWWVzdGVyZGF5IC0gc2hvdyBcItCy0YfQtdGA0LBcIlxuICAgICAgcmV0dXJuICfQstGH0LXRgNCwJ1xuICAgIH0gZWxzZSBpZiAoZGlmZkRheXMgPCA3KSB7XG4gICAgICAvLyBUaGlzIHdlZWsgLSBzaG93IGRheSBuYW1lXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoJ2JnLUJHJywgeyB3ZWVrZGF5OiAnc2hvcnQnIH0pXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBgJHtkaWZmRGF5c33QtGBcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT2xkZXIgLSBzaG93IGRhdGVcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnYmctQkcnLCB7IFxuICAgICAgICAgIGRheTogJzItZGlnaXQnLCBcbiAgICAgICAgICBtb250aDogJzItZGlnaXQnIFxuICAgICAgICB9KVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFdhaXQgZm9yIGF1dGhlbnRpY2F0aW9uIHRvIGxvYWRcbiAgaWYgKGlzTG9hZGluZykge1xuICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBBdXRoIHN0aWxsIGxvYWRpbmcsIHdhaXRpbmcuLi4nKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICAvLyBEb24ndCBzaG93IHdpZGdldCBvbiBhdXRoZW50aWNhdGlvbiBwYWdlc1xuICBpZiAocGF0aG5hbWU/LnN0YXJ0c1dpdGgoJy9hdXRoLycpKSB7XG4gICAgY29uc29sZS5sb2coJ/CfkqwgQ2hhdFdpZGdldCAtIE5vdCBzaG93aW5nIG9uIGF1dGggcGFnZTonLCBwYXRobmFtZSlcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgLy8gRG9uJ3Qgc2hvdyB3aWRnZXQgaWYgdXNlciBpcyBub3QgYXV0aGVudGljYXRlZFxuICBpZiAoIWlzQXV0aGVudGljYXRlZCB8fCAhdXNlcikge1xuICAgIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBOb3Qgc2hvd2luZyB3aWRnZXQ6IHVzZXIgbm90IGF1dGhlbnRpY2F0ZWQnLCB7IGlzQXV0aGVudGljYXRlZCwgdXNlcjogISF1c2VyIH0pXG4gICAgLy8gVGVtcG9yYXJ5OiBTaG93IGEgbG9naW4gcHJvbXB0IHdpZGdldCBmb3Igbm9uLWF1dGhlbnRpY2F0ZWQgdXNlcnNcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYXV0aC9sb2dpbid9XG4gICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGJvdHRvbS02IHJpZ2h0LTYgYmctZ3JheS02MDAgaG92ZXI6YmctZ3JheS03MDAgdGV4dC13aGl0ZSBwLTQgcm91bmRlZC1mdWxsIHNoYWRvdy1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgei1bOTk5OV0gcmVsYXRpdmVcIlxuICAgICAgICBhcmlhLWxhYmVsPVwi0JLQu9C10LfRgtC1INC30LAg0YfQsNGCXCJcbiAgICAgID5cbiAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTYgaC02XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTggMTJoLjAxTTEyIDEyaC4wMU0xNiAxMmguMDFNMjEgMTJjMCA0LjQxOC00LjAzIDgtOSA4YTkuODYzIDkuODYzIDAgMDEtNC4yNTUtLjk0OUwzIDIwbDEuMzk1LTMuNzJDMy41MTIgMTUuMDQyIDMgMTMuNTc0IDMgMTJjMC00LjQxOCA0LjAzLTggOS04czkgMy41ODIgOSA4elwiIC8+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIC10b3AtMiAtcmlnaHQtMiBiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZC1mdWxsIHctNiBoLTYgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZm9udC1ib2xkXCI+XG4gICAgICAgICAgIVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvYnV0dG9uPlxuICAgIClcbiAgfVxuXG4gIGNvbnNvbGUubG9nKCfwn5KsIENoYXRXaWRnZXQgLSBSZW5kZXJpbmcgd2lkZ2V0IGZvciB1c2VyOicsIHVzZXI/LnJvbGUsICdpc09wZW46JywgaXNPcGVuKVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHsvKiBDaGF0IFdpZGdldCBCdXR0b24gKi99XG4gICAgICB7IWlzT3BlbiAmJiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc09wZW4odHJ1ZSl9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTYgcmlnaHQtNiBiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDAgdGV4dC13aGl0ZSBwLTQgcm91bmRlZC1mdWxsIHNoYWRvdy1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgei1bOTk5OV0gcmVsYXRpdmUgYm9yZGVyLTQgYm9yZGVyLXdoaXRlXCJcbiAgICAgICAgICBhcmlhLWxhYmVsPVwi0J7RgtCy0L7RgNC4INGH0LDRglwiXG4gICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJywgXG4gICAgICAgICAgICBib3R0b206ICcyNHB4JywgXG4gICAgICAgICAgICByaWdodDogJzI0cHgnLCBcbiAgICAgICAgICAgIHpJbmRleDogOTk5OSxcbiAgICAgICAgICAgIHdpZHRoOiAnNjRweCcsXG4gICAgICAgICAgICBoZWlnaHQ6ICc2NHB4J1xuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNiBoLTZcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk04IDEyaC4wMU0xMiAxMmguMDFNMTYgMTJoLjAxTTIxIDEyYzAgNC40MTgtNC4wMyA4LTkgOGE5Ljg2MyA5Ljg2MyAwIDAxLTQuMjU1LS45NDlMMyAyMGwxLjM5NS0zLjcyQzMuNTEyIDE1LjA0MiAzIDEzLjU3NCAzIDEyYzAtNC40MTggNC4wMy04IDktOHM5IDMuNTgyIDkgOHpcIiAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBVbnJlYWQgYmFkZ2UgKi99XG4gICAgICAgICAge3VucmVhZFRvdGFsID4gMCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIC10b3AtMiAtcmlnaHQtMiBiZy1yZWQtNTAwIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkLWZ1bGwgdy02IGgtNiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBmb250LWJvbGRcIj5cbiAgICAgICAgICAgICAge3VucmVhZFRvdGFsID4gOTkgPyAnOTkrJyA6IHVucmVhZFRvdGFsfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApfVxuXG4gICAgICB7LyogQ2hhdCBXaWRnZXQgV2luZG93ICovfVxuICAgICAge2lzT3BlbiAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZml4ZWQgYm90dG9tLTYgcmlnaHQtNiBiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy14bCBib3JkZXIgei1bOTk5OV0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwICR7XG4gICAgICAgICAgaXNNaW5pbWl6ZWQgPyAndy04MCBoLTEyJyA6ICd3LTgwIGgtOTYnXG4gICAgICAgIH1gfT5cbiAgICAgICAgICB7LyogSGVhZGVyICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtNCBib3JkZXItYiBiZy1wdXJwbGUtNjAwIHRleHQtd2hpdGUgcm91bmRlZC10LWxnXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICB7YWN0aXZlQ29udmVyc2F0aW9uICYmIChcbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtnb0JhY2tUb0NvbnZlcnNhdGlvbnN9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIGhvdmVyOnRleHQtZ3JheS0yMDAgbXItMlwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAg4oaQXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1ncmVlbi00MDAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAge2FjdGl2ZUNvbnZlcnNhdGlvbiA/IGFjdGl2ZUNvbnZlcnNhdGlvbi5jdXN0b21lck5hbWUgOiAn0KHRitC+0LHRidC10L3QuNGPJ31cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICB7IWFjdGl2ZUNvbnZlcnNhdGlvbiAmJiB1bnJlYWRUb3RhbCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJnLXJlZC01MDAgdGV4dC13aGl0ZSB0ZXh0LXhzIHB4LTIgcHktMSByb3VuZGVkLWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgIHt1bnJlYWRUb3RhbH1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc01pbmltaXplZCghaXNNaW5pbWl6ZWQpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgaG92ZXI6dGV4dC1ncmF5LTIwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17aXNNaW5pbWl6ZWQgPyBcItCg0LDQt9GI0LjRgNC4XCIgOiBcItCc0LjQvdC40LzQuNC30LjRgNCw0LlcIn1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy00IGgtNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAge2lzTWluaW1pemVkID8gKFxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNSAxNWw3LTcgNyA3XCIgLz5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xOSA5bC03IDctNy03XCIgLz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNPcGVuKGZhbHNlKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIGhvdmVyOnRleHQtZ3JheS0yMDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCLQl9Cw0YLQstC+0YDQuCDRh9Cw0YJcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNiAxOEwxOCA2TTYgNmwxMiAxMlwiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogQ29udGVudCAqL31cbiAgICAgICAgICB7IWlzTWluaW1pemVkICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBoLTgwXCI+XG4gICAgICAgICAgICAgIHthY3RpdmVDb252ZXJzYXRpb24gPyAoXG4gICAgICAgICAgICAgICAgLyogQWN0aXZlIENoYXQgVmlldyAqL1xuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICB7LyogTWVzc2FnZXMgQXJlYSAqL31cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTMgc3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgIHttZXNzYWdlcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwIHB5LThcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0yeGwgbWItMlwiPvCfkqw8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc21cIj7QndGP0LzQsCDRgdGK0L7QsdGJ0LXQvdC40Y88L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXMubWFwKChtc2cpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17bXNnLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh1c2VyPy5yb2xlID09PSAnc2VydmljZV9wcm92aWRlcicgfHwgdXNlcj8ucm9sZSA9PT0gJ3RyYWRlc3BlcnNvbicpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChtc2cuc2VuZGVyVHlwZSA9PT0gJ3Byb3ZpZGVyJyA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKG1zZy5zZW5kZXJUeXBlID09PSAnY3VzdG9tZXInID8gJ2p1c3RpZnktZW5kJyA6ICdqdXN0aWZ5LXN0YXJ0JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YG1heC13LXhzIHB4LTMgcHktMiByb3VuZGVkLWxnIHRleHQtc20gJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHVzZXI/LnJvbGUgPT09ICdzZXJ2aWNlX3Byb3ZpZGVyJyB8fCB1c2VyPy5yb2xlID09PSAndHJhZGVzcGVyc29uJykgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAobXNnLnNlbmRlclR5cGUgPT09ICdwcm92aWRlcicgPyAnYmctcHVycGxlLTYwMCB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTIwMCB0ZXh0LWdyYXktODAwJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChtc2cuc2VuZGVyVHlwZSA9PT0gJ2N1c3RvbWVyJyA/ICdiZy1wdXJwbGUtNjAwIHRleHQtd2hpdGUnIDogJ2JnLWdyYXktMjAwIHRleHQtZ3JheS04MDAnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj57bXNnLm1lc3NhZ2V9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQteHMgbXQtMSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodXNlcj8ucm9sZSA9PT0gJ3NlcnZpY2VfcHJvdmlkZXInIHx8IHVzZXI/LnJvbGUgPT09ICd0cmFkZXNwZXJzb24nKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChtc2cuc2VuZGVyVHlwZSA9PT0gJ3Byb3ZpZGVyJyA/ICd0ZXh0LXB1cnBsZS0yMDAnIDogJ3RleHQtZ3JheS01MDAnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKG1zZy5zZW5kZXJUeXBlID09PSAnY3VzdG9tZXInID8gJ3RleHQtcHVycGxlLTIwMCcgOiAndGV4dC1ncmF5LTUwMCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRNZXNzYWdlVGltZShtc2cuc2VudF9hdCB8fCBtc2cudGltZXN0YW1wKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICB7LyogSW52aXNpYmxlIGVsZW1lbnQgdG8gc2Nyb2xsIHRvICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgey8qIE1lc3NhZ2UgSW5wdXQgKi99XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IHAtM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3TWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3TWVzc2FnZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbktleVByZXNzPXsoZSkgPT4gZS5rZXkgPT09ICdFbnRlcicgJiYgc2VuZE1lc3NhZ2UoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi0J3QsNC/0LjRiNC10YLQtSDRgdGK0L7QsdGJ0LXQvdC40LUuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIGJvcmRlciByb3VuZGVkLWxnIHB4LTMgcHktMiB0ZXh0LXNtIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wdXJwbGUtNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzZW5kaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17c2VuZE1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IW5ld01lc3NhZ2UudHJpbSgpIHx8IHNlbmRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1wdXJwbGUtNjAwIHRleHQtd2hpdGUgcHgtMyBweS0yIHJvdW5kZWQtbGcgZGlzYWJsZWQ6b3BhY2l0eS01MCB0ZXh0LXNtIGhvdmVyOmJnLXB1cnBsZS03MDBcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZW5kaW5nID8gJy4uLicgOiAn8J+TpCd9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgLyogQ29udmVyc2F0aW9ucyBMaXN0IFZpZXcgKi9cbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAge2xvYWRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtOCB3LTggYm9yZGVyLWItMiBib3JkZXItcHVycGxlLTYwMCBteC1hdXRvIG1iLTJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPtCX0LDRgNC10LbQtNCw0L3QtS4uLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApIDogY29udmVyc2F0aW9ucy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtNHhsIG1iLTJcIj7wn5KsPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+0JfQtNGA0LDQstC10LnRgtC1LCB7dXNlcj8uZmlyc3ROYW1lfSE8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlcj8ucm9sZSA9PT0gJ3NlcnZpY2VfcHJvdmlkZXInIHx8IHVzZXI/LnJvbGUgPT09ICd0cmFkZXNwZXJzb24nIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ9Cd0Y/QvNCwINCw0LrRgtC40LLQvdC4INGA0LDQt9Cz0L7QstC+0YDQuCDRgSDQutC70LjQtdC90YLQuCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICfQndGP0LzQsCDQsNC60YLQuNCy0L3QuCDRgNCw0LfQs9C+0LLQvtGA0LgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAvKiBDb252ZXJzYXRpb25zIExpc3QgKi9cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2NvbnZlcnNhdGlvbnMubWFwKChjb252ZXJzYXRpb24pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17Y29udmVyc2F0aW9uLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUNvbnZlcnNhdGlvbkNsaWNrKGNvbnZlcnNhdGlvbil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC00IGhvdmVyOmJnLWdyYXktNTAgY3Vyc29yLXBvaW50ZXIgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwIGZsZXggaXRlbXMtc3RhcnQgc3BhY2UteC0zXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMCBoLTEwIGJnLXB1cnBsZS0xMDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXB1cnBsZS02MDAgZm9udC1tZWRpdW0gdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHVzZXI/LnJvbGUgPT09ICdjdXN0b21lcicgPyBjb252ZXJzYXRpb24uc2VydmljZVByb3ZpZGVyTmFtZSA6IGNvbnZlcnNhdGlvbi5jdXN0b21lck5hbWUpPy5jaGFyQXQoMCkgfHwgJ0MnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCB0cnVuY2F0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VyPy5yb2xlID09PSAnY3VzdG9tZXInIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoY29udmVyc2F0aW9uLnNlcnZpY2VQcm92aWRlck5hbWUgfHwgJ9Cd0LXQuNC30LLQtdGB0YLQtdC9INGB0L/QtdGG0LjQsNC70LjRgdGCJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKGNvbnZlcnNhdGlvbi5jdXN0b21lck5hbWUgfHwgJ9Cd0LXQuNC30LLQtdGB0YLQtdC9INC60LvQuNC10L3RgicpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbnZlcnNhdGlvbi51bnJlYWRDb3VudCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB4LTIgcHktMSB0ZXh0LXhzIGZvbnQtYm9sZCBsZWFkaW5nLW5vbmUgdGV4dC13aGl0ZSBiZy1yZWQtNjAwIHJvdW5kZWQtZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29udmVyc2F0aW9uLnVucmVhZENvdW50ID4gOTkgPyAnOTkrJyA6IGNvbnZlcnNhdGlvbi51bnJlYWRDb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdExhc3RBY3Rpdml0eShjb252ZXJzYXRpb24ubGFzdEFjdGl2aXR5KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29udmVyc2F0aW9uLmxhc3RNZXNzYWdlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIHRydW5jYXRlIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29udmVyc2F0aW9uLmxhc3RNZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7LyogUXVpY2sgQWN0aW9ucyAqL31cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgcC0zIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5vcGVuKCcvc2VhcmNoJywgJ19ibGFuaycpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWxlZnQgdGV4dC1zbSB0ZXh0LXB1cnBsZS02MDAgaG92ZXI6dGV4dC1wdXJwbGUtODAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIPCflI0g0KLRitGA0YHQuCDRgdC/0LXRhtC40LDQu9C40YHRgtC4XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICB7KHVzZXI/LnJvbGUgPT09ICdzZXJ2aWNlX3Byb3ZpZGVyJyB8fCB1c2VyPy5yb2xlID09PSAndHJhZGVzcGVyc29uJykgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cub3BlbignL2Rhc2hib2FyZCcsICdfYmxhbmsnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCB0ZXh0LXNtIHRleHQtcHVycGxlLTYwMCBob3Zlcjp0ZXh0LXB1cnBsZS04MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICDwn5OKINCi0LDQsdC70L4g0LfQsCDRg9C/0YDQsNCy0LvQtdC90LjQtVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cub3BlbignL2Rhc2hib2FyZD92aWV3PWFzc2lnbmVkJywgJ19ibGFuaycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHRleHQtc20gdGV4dC1wdXJwbGUtNjAwIGhvdmVyOnRleHQtcHVycGxlLTgwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIPCfk4sg0JzQvtC40YLQtSDQt9Cw0Y/QstC60LhcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC8+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVBhdGhuYW1lIiwidXNlQXV0aCIsImFwaUNsaWVudCIsIkNoYXRXaWRnZXQiLCJpc09wZW4iLCJzZXRJc09wZW4iLCJpc01pbmltaXplZCIsInNldElzTWluaW1pemVkIiwiY29udmVyc2F0aW9ucyIsInNldENvbnZlcnNhdGlvbnMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInVucmVhZFRvdGFsIiwic2V0VW5yZWFkVG90YWwiLCJhY3RpdmVDb252ZXJzYXRpb24iLCJzZXRBY3RpdmVDb252ZXJzYXRpb24iLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwibmV3TWVzc2FnZSIsInNldE5ld01lc3NhZ2UiLCJzZW5kaW5nIiwic2V0U2VuZGluZyIsInNvY2tldCIsInNldFNvY2tldCIsInVzZXIiLCJpc0F1dGhlbnRpY2F0ZWQiLCJpc0xvYWRpbmciLCJtZXNzYWdlc0VuZFJlZiIsInBhdGhuYW1lIiwiY29uc29sZSIsImxvZyIsImlkIiwiZW1haWwiLCJyb2xlIiwiaGFzQXV0aFRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImhhc1VzZXJEYXRhIiwibG9hZENvbnZlcnNhdGlvbnMiLCJpc0Nvbm5lY3RlZCIsImVtaXQiLCJoYW5kbGVDb252ZXJzYXRpb25zVXBkYXRlZCIsIm9uIiwib2ZmIiwidG90YWwiLCJyZWR1Y2UiLCJzdW0iLCJjb252IiwidW5yZWFkQ291bnQiLCJyZXNwb25zZSIsImdldFByb3ZpZGVyTWFya2V0cGxhY2VDb252ZXJzYXRpb25zIiwiZGF0YSIsInN0YXR1cyIsInN1Y2Nlc3MiLCJjb252ZXJzYXRpb25zRGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJBcnJheSIsImlzQXJyYXkiLCJtYXBwZWRDb252ZXJzYXRpb25zIiwibWFwIiwibGFzdEFjdGl2aXR5IiwibGFzdF9tZXNzYWdlX2F0IiwiY3JlYXRlZF9hdCIsInVucmVhZF9jb3VudCIsImxlbmd0aCIsImNvbnZlcnNhdGlvbnNBcnJheSIsIk9iamVjdCIsInZhbHVlcyIsImZpbHRlciIsIml0ZW0iLCJoYXNTdWNjZXNzIiwic3VjY2Vzc1ZhbHVlIiwiaGFzRGF0YSIsImRhdGFUeXBlIiwiZ2V0Q29udmVyc2F0aW9ucyIsImMiLCJzZXJ2aWNlUHJvdmlkZXJOYW1lIiwiY3VzdG9tZXJOYW1lIiwiZXJyb3IiLCJtZXNzYWdlIiwic3RhdHVzVGV4dCIsImhhbmRsZUNvbnZlcnNhdGlvbkNsaWNrIiwiY29udmVyc2F0aW9uIiwiZ2V0TWFya2V0cGxhY2VNZXNzYWdlcyIsIm1lc3NhZ2VzRGF0YSIsIm1lc3NhZ2VzQXJyYXkiLCJkYXRhQ29udGVudCIsInNldFRpbWVvdXQiLCJzY3JvbGxUb0JvdHRvbSIsIm1hcmtDb252ZXJzYXRpb25Bc1JlYWQiLCJpbml0aWFsaXplU29ja2V0IiwiY29udmVyc2F0aW9uSWQiLCJhcGlVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsInNvY2tldFVybCIsInJlcGxhY2UiLCJpbyIsInJlcXVpcmUiLCJzb2NrZXRJbnN0YW5jZSIsInRyYW5zcG9ydHMiLCJ0aW1lb3V0IiwicmVjb25uZWN0aW9uIiwibWVzc2FnZUlkIiwic2VuZGVyVHlwZSIsInNlbmRlck5hbWUiLCJ0aW1lc3RhbXAiLCJzZW50X2F0IiwicHJldiIsImV4aXN0cyIsInNvbWUiLCJtc2ciLCJzZW5kTWVzc2FnZSIsInRyaW0iLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsIm5ld01zZyIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsInRvSVNPU3RyaW5nIiwibWFya01hcmtldHBsYWNlQXNSZWFkIiwiY3VycmVudCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJnb0JhY2tUb0NvbnZlcnNhdGlvbnMiLCJkaXNjb25uZWN0IiwiZm9ybWF0TWVzc2FnZVRpbWUiLCJkYXRlIiwiaW5jbHVkZXMiLCJpc29UaW1lc3RhbXAiLCJpc05hTiIsImdldFRpbWUiLCJ3YXJuIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsImhvdXIxMiIsImUiLCJmb3JtYXRMYXN0QWN0aXZpdHkiLCJkaWZmTXMiLCJkaWZmRGF5cyIsIk1hdGgiLCJmbG9vciIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIndlZWtkYXkiLCJkYXkiLCJtb250aCIsInN0YXJ0c1dpdGgiLCJidXR0b24iLCJvbkNsaWNrIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiY2xhc3NOYW1lIiwiYXJpYS1sYWJlbCIsInN2ZyIsImZpbGwiLCJzdHJva2UiLCJ2aWV3Qm94IiwicGF0aCIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VMaW5lam9pbiIsInN0cm9rZVdpZHRoIiwiZCIsImRpdiIsInN0eWxlIiwicG9zaXRpb24iLCJib3R0b20iLCJyaWdodCIsInpJbmRleCIsIndpZHRoIiwiaGVpZ2h0Iiwic3BhbiIsInAiLCJyZWYiLCJpbnB1dCIsInR5cGUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0Iiwib25LZXlQcmVzcyIsImtleSIsInBsYWNlaG9sZGVyIiwiZGlzYWJsZWQiLCJjaGFyQXQiLCJsYXN0TWVzc2FnZSIsIm9wZW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/ChatWidget.tsx\n"));

/***/ })

});